{"version":3,"sources":["components/Metrics/MetricStyle.js","components/Metrics/MetricAppBar.js","constants/mapping.js","constants/lookup_variables.js","constants/metrics.js","utils/cache_utils.js","utils/mapping_utils.js","components/FindMeButton/FindMeIcon.js","components/Map/LeafletMap.js","constants/forms.js","components/Map/Legend/ColorPaletteSelector.js","components/Map/Legend/ColorPaletteStyle.js","components/Map/Legend/LeafletMapLegend.js","actions/MappingActions.js","schemas/loginSchema.js","utils/nav_utils.js","utils/language_utils.js","utils/user_utils.js","constants/axios_config.js","actions/UserActions.js","actions/UtilityActions.js","actions/PopOverActions.js","actions/NavigationActions.js","actions/LanguageActions.js","actions/EventActions.js","components/Map/BaseMapToggle/BaseMapToggle.js","components/Map/BaseMapToggle/ToggleStyle.js","components/Map/Slider/SliderTransparency.js","components/Map/Slider/SliderTransparencyStyle.js","components/Map/Slider/SliderContainer.js","components/Map/Slider/SliderContainerStyle.js","components/Map/MapStyle.js","components/Metrics/MetricFunctions.js","components/Metrics/MetricAppBarGeography.js","components/Metrics/MetricReactSelect.js","components/FindMeButton/FindMeButton.js","components/FindMeButton/FindMeStyle.js","views/MappingPage.js","constants/global_style.js","views/LandingPage.js","views/NotFound404.js","views/HowToPage.js","constants/events.js","components/Metrics/MetricSurveySelect.js","components/Map/LeafletMapEventSelect.js","components/Chapa/ChapaInputField.js","components/Chapa/ChapaInputStyle.js","components/EventForm/EventFormContent.js","components/EventForm/EventFormDialog.js","components/EventForm/EventFormLegend.js","components/EventForm/EventFormStyle.js","components/Map/ChapaMarkers/ChapaMarkers.js","components/Map/LeafletMapSurvey.js","views/SurveyPage.js","components/LoginForm/LoginFormStyle.js","components/LoginForm/LoginFormWelcome.js","components/LoginForm/LoginFormResetPassword.js","components/LoginForm/LoginFormError.js","components/LoginForm/LoginFormContent.js","components/Animation/LoadingLinear/LoadingLinear.js","components/Animation/LoadingLinear/LoadingLinearStyle.js","components/Toast/SimpleToast.js","components/Toast/SimpleToastStyle.js","components/LoginForm/LoginFormContainer.js","views/LoginPage.js","components/LoginReset/ResetFormContent.js","components/LoginReset/ResetFormContainer.js","views/LoginResetPage.js","routes/indexRoutes.js","components/Header/HeaderLinks.js","components/Header/Header.js","components/Header/HeaderStyle.js","App.js","schemas/initialStates.js","utils/state_utils.js","reducers/UserReducer.js","reducers/MappingReducer.js","reducers/UserLocationReducer.js","reducers/EventReducer.js","reducers/index.js","reducers/LoadingAnimationReducer.js","reducers/MetricReducer.js","reducers/NavigationReducer.js","reducers/DrawerReducer.js","reducers/PopOverReducer.js","reducers/LanguageReducer.js","reducers/UtilityReducer.js","reducers/SurveyMapReducer.js","reducers/ToastReducer.js","index.js"],"names":["MetricStyle","theme","_container","_formControl","container","background","container2","Object","defineProperty","breakpoints","down","margin","padding","up","formControl","minWidth","width","input","display","height","cursor","textDecoration","disableUnderline","valueContainer","flexWrap","flex","alignItems","overflow","noOptionsMessage","singleValue","fontSize","placeholder","position","left","bottom","maxWidth","textOverflow","whiteSpace","paper","zIndex","marginTop","right","MetricAppBar","_this$props","this","props","children","classes","react_default","a","createElement","AppBar","className","Toolbar","variant","Grid","item","xs","Component","withStyles","HELIO_MAP","coordinates","prefix","mapZoom","SAO_MAP","BASE_MAP_OPTIONS","_mapLayers","baseMapOpacity","baseMapSelection","LayersControl","BaseLayer","name","checked","TileLayer","attribution","url","opacity","LayerGroup","ext","COLOR_SCHEMES","sequential","1","2","3","4","5","6","7","diverging","qualitativeSchemes","LEGEND_LOOKUP","none","gender","affirm","edu","commute","duration","secureA","secureB","superf","LEGEND_LOOKUP_PR","DESCRIPTION_LOOKUP","ACS_LDR","AGE","ASSAULTO_IMM_VIC","BARULHO_IMM_VIC","BLDG_QLTY","BRTH_REG_NE","BRTH_REG_S","BRTH_SP","CUR_INTENT","DISP_Y","DROGA_IMM_VIC","ED_LVL_0","ED_LVL_1","ED_LVL_2","ED_LVL_3","ED_LVL_4","ED_LVL_FAT_0","ED_LVL_FAT_1","ED_LVL_FAT_2","ED_LVL_FAT_3","ED_LVL_FAT_4","ED_LVL_FAT_5","ED_LVL_FAT_6","ED_LVL_MOT_0","ED_LVL_MOT_1","ED_LVL_MOT_2","ED_LVL_MOT_3","ED_LVL_MOT_4","ED_LVL_MOT_5","ED_LVL_MOT_6","EMPL_Y","FUNK_IMM_VIC","GEN_F","INCOME","LIXO_IMM_VIC","NADA_IMM_VIC","NUM_FAM_LOT","NUM_FLR","NUM_PPL_HSHD","NUM_SCH_AG","NUM_YR_HSE","NUM_YR_SP","POL_AFL","POL_PRIOR_ENV","POL_PRIOR_HSG","POL_PRIOR_INFRA","POL_PRIOR_TTL","POL_PRIOR_WST_MGT","RENOV","SNS_GOOD_ACS","SNS_SEC_HSE","SNS_SEC_NEI","SPCL_NEEDS","USE_HM_INCM","DESCRIPTION_LOOKUP_PR","GEN_M","geography_options","value","label","labelPR","district_metrics","category","palette","max","min","breaks","legend","blocks_metrics","setCache","object","localStorage","setItem","JSON","stringify","e","console","log","getCache","parse","getItem","runArrayTest","arr","filter","wrd","toUpperCase","indexOf","length","_valueConversion","label_desc","undefined","testForPercent","parseFloat","toFixed","testForCurrency","num","toString","replace","toCurrency","testForAverages","Number","Math","floor","setInitialStyle","color","dashArray","lineCap","lineJoin","weight","fillOpacity","fillColor","setMetricStyle","feature","metric","myStrokeOpacity","myFillOpacity","myFillColor","sent_props","properties","chosen_palette","_x","_br","_pal","metric_value","split","map","elem","index","round","getPopupContent","pref_lang","_content","substr","txt","charAt","toLowerCase","_value","highlightFeature","target","openPopup","adjustLabelsForPR","metrics","getMarkerIcon","marker_category","icon_png","L","icon","iconUrl","iconSize","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","getBoundingBox","coord_array","line","turf","bbox","convertMarkersToArray","array_of_obj","eventlatitude","eventlongitude","filterSelectedMarkers","selection","eventcategory","getEventBoundsFromSelection","selectedMarkers","convertedArray","bboxPolygon","bboxCoords","corner_1","latLng","corner_2","latLngBounds","FindMeIcon","lang","userLocation","text_pt1","text_pt2","concat","accurMeters","Typography","gutterBottom","language","location","popupLocationText","displayPopUpText","coords","lat","long","CircleMarker","radius","center","Popup","LeafletMap","map_constants","type","mapLayers","fetchMapLayerById","_this","_this$props$map_const","preferredLanguage","object_check","keys","leaflet_layer","FeatureGroup","GeoJSON","key","random","data","onEachFeature","layer","on","click","popupContent","bindPopup","_util","style","colorPalette","Map","zoom","fadeAnimation","zoomAnimation","show","FindMeButton_FindMeIcon","_constants","LOGIN_CONTENTS","en","forgotMsg","resetInstr","rows","id","pr","EVENT_FORM_CONTENTS","title","header","BUTTON_ACTIONS","submit","cancel","postEvent","login","signUp","signOut","sendEmail","addPoint","resetPassword","SURVEY_LEGEND","desc","POPOVER_TEXT","findMe","slider","baseMap","COLOR_PALETTE","change","instruction","ColorPaletteSelector","state","open","_handleClickOpen","setState","_handleClose","_handleColorChange","row","action","_this2","clickMeContainer","clickMe","onClick","Dialog","onClose","DialogTitle","IconButton","aria-label","closeButton","Close_default","DialogContent","dividers","List","dense","myList","Colors","arrayOfColor","idx","quartile","ListItem","button","ListItemText","primary","textAlign","LeafletMapLegend","val","_this$props$mapLayers","about_text","_min_max","lkp_val","Paper","legendContainer","titleText","legendPaletteContainer","graph","colors","backgroundColor","aboutText","Legend_ColorPaletteSelector","updateColorPalette","map_layer_id","geo_type","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","_url","res","wrap","_context","prev","next","axios","get","sent","payload","stop","apply","arguments","updateLayerStyle","updateLayerOpacity","updateBaseLayer","updateLayerType","geoType","translateMetric","updateMapCenterCoordinates","updateMapZoom","updateMapBounds","bounds","REGISTER_SCHEMA","Joi","username","string","regex","required","password","email","minDomainSegments","tlds","allow","LOGIN_SCHEMA","RESET_SCHEMA","navigateTo","destination","ctx","navLocation","push","interpretErrorMessage","msg","includes","errorState","err","errMsg","requestPosition","options","enableHighAccuracy","timeout","maximumAge","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","accuracy","getUserCoordinates","userState","abrupt","checkExpiryToken","token","decryptedToken","halfToken","substring","parseInt","decryptExpiryToken","timeBalance","Date","getTime","isNaN","handleLoginEvent","_props","_state","startLoadingAnimation","validCredentials","view","validate","error","details","message","userLoginFail","userLogin","passwordConfirm","pwErr","userRegister","userUpdatePassword","stopLoadingAnimation","API_CONFIG","headers","Content-Type","auth","process","defaultUser","handleUserUpdate","_id","_val","user","post","then","response","catch","values","isAxiosError","_ref2","_callee2","_context2","_x2","_ref3","_callee3","_context3","put","_x3","addUserLocation","_ref4","_callee4","_context4","_x4","updateUserLocation","addFeauxLocation","userSignOut","sendPasswordResetEmail","_ref5","_callee5","_context5","_x5","fetchRandomId","closeToast","updatePopOver","event","setLocation","hist","toggleDrawer","setLanguage","postNewEvent","fetchAllEvents","selectEventCategory","cat","filterChapaEvents","BaseMapToggle","_handleMouseClick","popover","popUpText","openLogic","anchor","onMouseEnter","onMouseLeave","interior","Layers_default","Popover","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","disableRestoreFocus","text","boxShadow","border","borderRadius","top","pointerEvents","marginRight","marginLeft","connect","actions","SliderTransparency","obj","evt","adjusted_variable","adjusted_opacity","Slider","defaultValue","valueLabelDisplay","step","onChange","_onSliderUpdate","root","thumb","&:focus,&:hover,&$active","active","valueLabel","track","rail","SliderContainer","rest","objectWithoutProperties","Slider_SliderTransparency","MapStyle","surveyMap","mapContainer","transition","listStyle","textTransform","float","clear","fontWeight","inputComponent","inputRef","assign","ref","components","Control","innerProps","innerRef","_props$selectProps","selectProps","TextFieldProps","TextField","fullWidth","InputProps","inputProps","_objectSpread","Menu","square","NoOptionsMessage","Option","currentlySelected","currentItem","MenuItem","selected","isFocused","component","minHeight","Placeholder","_props$innerProps","SingleValue","ValueContainer","MetricAppBarGeography","_makeGeographySelection","geography_options_pr","placeHolder","react_select_browser_esm","MetricReactSelect","_makeMetricSelection","metrics_in_english","metrics_in_portuguese","metricSelection","FindMeButton","MyLocation_default","MappingPage","history","_this$props2","Metrics_MetricAppBar","justify","Metrics_MetricAppBarGeography","Metrics_MetricReactSelect","components_FindMeButton_FindMeButton","Map_BaseMapToggle_BaseMapToggle","Slider_SliderContainer","spacing","Map_LeafletMap","Legend_LeafletMapLegend","global_style","_headline","_basicText","_paperContainer","headline","basicText","centralAlign","paperContainer","LandingPage","direction","sm","md","GlobalStyle","NotFound404","HowToPage","src","frameBorder","gesture","EVENT_CATEGORIES_EN","EVENT_CATEGORIES_PR","MetricSurveySelect","markerSelection","eventBounds","LeafletMapEventSelect","moveCount","updateLocationDisplay","_e$target$_latlng","_latlng","lng","updateEventLocation","updatePotentialMarker","directionsContainer","directionsText","getMarkerDirectionsText","mapCenterCoordinates","eventCoords","onMoveend","updatePotentialMarkerState","getCenter","Marker","draggable","onDragend","renderEventLocation","renderEventInstructions","ChapaInputField","select","inputField","handleChange","onKeyPress","handleKeyPress","multiline","_legendContainer","_buttonGroup","flexGrow","buttonGroup","tableContainer","tableCell","borderBottom","tableCellDesc","verticalAlign","tableText","errorText","iconExit","actionButton","formSection","EventFormContent","eventname","eventdescription","createdby","potentialMarkerCoords","editMode","EventFormContent_objectSpread","setFeauxLocation","handleEventSubmit","newEvent","eventid","randomId","createdBy","userInfo","closePopUp","renderInputType","Chapa_ChapaInputField","renderFormTable","json","Table","TableBody","TableRow","TableCell","Map_LeafletMapEventSelect","Button","disabled","hidden","EventFormDialog","loggedIn","size","Room_default","formTitle","EventForm_EventFormContent","EventFormLegend","EventForm_EventFormDialog","textShadow","ChapaMarkers","events","LeafletMapSurvey","handleMapCenterChange","handleMapZoomChange","variableMapCenter","_this$props$surveyMap","mapBounds","chapaEvents","displayMarkers","boxZoom","onZoomend","getZoom","Map_ChapaMarkers_ChapaMarkers","SurveyPage","Metrics_MetricSurveySelect","Map_LeafletMapSurvey","EventForm_EventFormLegend","LoginFormStyle","section","marginBottom","resetText","LoginFormWelcome","handleSignOut","getWelcomeInstructions","LoginFormResetPassword","userEmail","handleClick","userObj","LoginFormResetPassword_objectSpread","backToLogin","loginInstructions","buttionAction","Box","fontStyle","m","LoginFormError","LoginFormContent","reset","LoginFormContent_objectSpread","renderFormRows","LoginText","RegisterText","ButtonGroup","LoginForm_LoginFormError","LoginForm_LoginFormResetPassword","LoadingLinear","LinearProgress","& > * + *","progressBar","SimpleToast","handleClose","reason","renderMessage","CheckCircle_default","Info_default","Error_default","Snackbar","autoHideDuration","ContentProps","aria-describedby","SnackbarContent","info","success","LoginFormContainer","loadAnimation","Animation_LoadingLinear_LoadingLinear","LoginForm_LoginFormWelcome","LoginForm_LoginFormContent","Toast_SimpleToast","toast","LoginPage","Container","LoginForm_LoginFormContainer","ResetFormContent","resetPasswordText","ResetFormContainer","LoginReset_ResetFormContent","LoginResetPage","params","search","queryParams","getQueryParams","LoginReset_ResetFormContainer","indexRoutes","path","enName","prName","exact","Home_default","Help_default","Map_default","ListAlt_default","ExitToApp_default","Language_default","HeaderLinks","listItemAction","newLanguage","navDrawer","pathname","selectedColor","selectedBg","defaultStyle","drawer","skip","HeaderLinks_objectSpread","ListItemIcon","Header","_getInitials","_handleDrawerToggle","toolbar","Avatar","avatar","edge","menuButton","Menu_default","Drawer","Header_HeaderLinks","App","CssBaseline","components_Header_Header","react_router_dom","react_router","initialStates","helio","sao","survey","user_id","updateStateValue","attribute","state_utils_objectSpread","registerUserResults","registeredUser","UserReducer_objectSpread","newState","UserLocationReducer_objectSpread","combineReducers","newEventState","toConsumableArray","addNewEvent","getSchemas","palette_type","num_schemes","rndm_select","getColorPalette","translatedValue","new_lang","lkp_value","foundMetric","translatePlaceholder","updateMetricState","currentTarget","toggleState","shortid","initialState","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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IACDC,QAAS,iEACTC,WACC,gQACDC,OACC,uGACDC,cACC,6PACDC,SAAU,0DACVC,SACC,sEACDC,SAAU,2DACVC,SAAU,8DACVC,SAAU,wDACVC,aACC,sEACDC,aACC,sEACDC,aACC,uEACDC,aACC,0EACDC,aACC,oEACDC,aACC,gFACDC,aACC,qEACDC,aACC,sEACDC,aACC,mFACDC,aACC,uEACDC,aACC,0EACDC,aACC,oEACDC,aACC,gFACDC,aACC,qEACDC,OAAQ,wCACRC,aACC,gQACDC,MAAO,2CAEPC,OAAQ,4BACRC,aACC,mPACDC,aACC,4OACDC,YACC,2IACDC,QAAS,2BACTC,aAAc,6DACdC,WAAY,yCACZC,WACC,+EACDC,UACC,kEACDC,QAAS,kEACTC,cACC,mJACDC,cACC,wIACDC,gBACC,uJACDC,cACC,wJACDC,kBACC,qJACDC,MACC,iOACDC,aACC,yFACDC,YAAa,0DACbC,YACC,8EACDC,WACC,+EACDC,YACC,uEAGWC,EAAwB,CACpCtD,QACC,2GACDC,IAAK,kCACLC,iBACC,gPACDC,gBACC,6OACDC,UACC,qNACDC,YACC,iMACDC,WACC,uMACDC,QAAS,sDACTC,WACC,8OACDC,OACC,oFACDC,cACC,6OACDC,SAAU,yDACVC,SACC,4EACDC,SAAU,4DACVC,SAAU,+DACVC,SAAU,qEACVC,aACC,6EACDC,aACC,4EACDC,aACC,2EACDC,aACC,8EACDC,aACC,qFACDC,aACC,+EACDC,aACC,sEACDC,aACC,gFACDC,aACC,kFACDC,aACC,iFACDC,aACC,iFACDC,aACC,wFACDC,aACC,qFACDC,aACC,yEACDC,OAAQ,+CACRC,aACC,mPACDC,MAAO,gCACPuB,MAAO,gCACPtB,OAAQ,uBACRC,aACC,0OACDC,aACC,mOACDC,YACC,yKACDC,QAAS,kCACTC,aAAc,sEACdC,WAAY,sDACZC,WAAY,+DACZC,UAAW,0DACXC,QACC,yFACDC,cACC,uJACDC,cACC,8IACDC,gBACC,oJACDC,cACC,gKACDC,kBACC,qKACDC,MACC,0OACDC,aACC,uHA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","file":"static/js/main.1efd4c69.chunk.js","sourcesContent":["export default theme => ({\r\n  container: {\r\n\t\tbackground: 'black'\r\n\t},\r\n\tcontainer2:{\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tmargin: '0px',\r\n\t\t\tpadding: '0px'\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tmargin: '0px 10px 0px 10px',\r\n\t\t\tpadding: '0px 10px 0px 10px',\r\n\t\t},\r\n\t},\r\n  formControl: {\r\n\t\tminWidth: '125px',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\twidth: '150px',\r\n\t\t\tmargin: '0px 5px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\twidth: '175px',\r\n\t\t\tmargin: '0px 10px',\r\n    },\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\twidth: '250px',\r\n\t\t\tmargin: '0px 15px',\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n\t\t\twidth: '350px',\r\n\t\t\tmargin: '0px 25px',\r\n    },\r\n\t\tborderRadius: '4px',\r\n\t\tbackground: \"white\",\r\n\t\tpadding: '2px 15px',\r\n\t\twhiteSpace: \"normal\"\r\n\t},\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n    height: 'auto',\r\n\t\tcursor: 'pointer',\r\n\t\ttextDecoration: 'none',\r\n    disableUnderline: \"true\",\r\n    \r\n\t}, \r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  noOptionsMessage: {\r\n    padding: '2px'\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    bottom: 6,\r\n\t\tfontSize: 16,\r\n\t\tmaxWidth: '80%',\r\n\t\ttextOverflow: \"ellipsis\",\r\n\t\tdisplay: \"initial\",\r\n\t\twhiteSpace: \"nowrap\",\r\n\t\toverflow: \"hidden\",\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: '2px',\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});","import React, { Component } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\n\r\nimport MetricStyle from \"components/Metrics/MetricStyle\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nclass MetricAppBar extends Component {\r\n  render() {\r\n\t\tconst { children, classes } = this.props;\r\n\t\t// console.log(this.props)\r\n    return (\r\n      <div>\r\n        <AppBar position=\"static\" className={classes.container}>\r\n          <Toolbar variant=\"dense\" className={classes.container2}>\r\n            <Grid item xs={12}>\r\n              {children}\r\n            </Grid>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withStyles(MetricStyle)(MetricAppBar);\r\n","import React from \"react\";\r\nimport { TileLayer, LayersControl, LayerGroup } from \"react-leaflet\";\r\n\r\n// CSS for main Map\r\nexport const MAP_CSS = {\r\n  height: \"500px\"\r\n};\r\n\r\n//currently need two seperate variables to feed the two map panes...\r\nexport const HELIO_MAP = {\r\n\tcoordinates: [-23.6135, -46.59]\r\n\t,prefix: \"helio\"\r\n\t,mapZoom: 15\r\n}\r\n\r\nexport const SAO_MAP = {\r\n\tcoordinates: [-23.6321, -46.453]\r\n\t,prefix: \"sao\"\r\n\t,mapZoom: 15\r\n}\r\n\r\n// Map Options for Map\r\nexport const DEFAULT_MAP_COORDS = [-8.2483213,-78.2228874];\r\nexport const DEFAULT_MAP_ZOOM = 3\r\n\r\n//Map Base Map PROVIDERS HERE: https://leaflet-extras.github.io/leaflet-providers/preview/\r\nexport const BASE_MAP_OPTIONS = function(_mapLayers) {\r\n\t// console.log(_mapLayers)\r\n\tlet { baseMapOpacity, baseMapSelection } = _mapLayers\r\n\t\r\n\t//section for toggling base map\r\n\treturn(\r\n\t<LayersControl position=\"topright\">\r\n    <LayersControl.BaseLayer name=\"OSM B&W\" checked={0 === baseMapSelection}>\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png\"\r\n\t\t\t\topacity={baseMapOpacity}\r\n      />\r\n    </LayersControl.BaseLayer>\r\n    <LayersControl.BaseLayer name=\"OSM\"  checked={1 === baseMapSelection}>\r\n      <TileLayer\r\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n\t\t\t\topacity={baseMapOpacity}\r\n      />\r\n    </LayersControl.BaseLayer>\r\n    <LayersControl.BaseLayer name=\"Aerial Hybrid\"  checked={2 === baseMapSelection}>\r\n\t\t\t<LayerGroup>\r\n\t\t\t\t<TileLayer\r\n\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n\t\t\t\t\turl=\"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\r\n\t\t\t\t\topacity={baseMapOpacity}\r\n\t\t\t\t/>\r\n\t\t\t\t<TileLayer\r\n\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n\t\t\t\t\turl=\"http://stamen-tiles-{s}.a.ssl.fastly.net/toner-lines/{z}/{x}/{y}.{ext}\"\r\n\t\t\t\t\text=\"png\"\r\n\t\t\t\t\topacity={baseMapOpacity}\r\n\t\t\t\t/>\r\n\t\t\t\t<TileLayer\r\n\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n\t\t\t\t\turl=\"http://stamen-tiles-{s}.a.ssl.fastly.net/toner-labels/{z}/{x}/{y}.{ext}\"\r\n\t\t\t\t\text=\"png\"\r\n\t\t\t\t\topacity={baseMapOpacity}\r\n\t\t\t\t/>\r\n\t\t\t</LayerGroup>\r\n    </LayersControl.BaseLayer>\r\n  </LayersControl>\r\n)\r\n};\r\n\r\n/*\r\nexport const BW_Map = L.tileLayer(\r\n  \"https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.png\",\r\n  {\r\n    maxZoom: 20,\r\n    ext: \"png\",\r\n    attribution:\r\n      'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n  }\r\n);\r\n\r\nexport const OSM_Map = L.tileLayer(\"http://{s}.tile.osm.org/{z}/{x}/{y}.png\", {\r\n  attribution:\r\n    '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n});\r\n\r\nexport const HYBRID_Aerial = L.layerGroup([\r\n  L.tileLayer(\r\n    \"http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\r\n    {\r\n      attribution:\r\n        \"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\"\r\n    }\r\n  ),\r\n  L.tileLayer(\r\n    \"http://stamen-tiles-{s}.a.ssl.fastly.net/toner-lines/{z}/{x}/{y}.{ext}\",\r\n    {\r\n      attribution:\r\n        'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\r\n      subdomains: \"abcd\",\r\n      minZoom: 2,\r\n      maxZoom: 20,\r\n      ext: \"png\"\r\n    }\r\n  ),\r\n  L.tileLayer(\r\n    \"http://stamen-tiles-{s}.a.ssl.fastly.net/toner-labels/{z}/{x}/{y}.{ext}\",\r\n    {\r\n      attribution:\r\n        'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\r\n      subdomains: \"abcd\",\r\n      minZoom: 2,\r\n      maxZoom: 20,\r\n      ext: \"png\"\r\n    }\r\n  )\r\n]);\r\n*/","//*   color schemes  *//\r\nexport const COLOR_SCHEMES = {\r\n\tsequential: {\r\n\t\t1: ['#ffffb2', '#fecc5c', '#fd8d3c', '#f03b20', '#bd0026'],\r\n\t\t2: ['#ffffcc', '#a1dab4', '#41b6c4', '#2c7fb8', '#253494'],\r\n\t\t3: ['#edf8fb', '#b3cde3', '#8c96c6', '#8856a7', '#810f7c'],\r\n\t\t4: ['#f6eff7', '#bdc9e1', '#67a9cf', '#1c9099', '#016c59'],\r\n\t\t5: ['#f0f9e8', '#bae4bc', '#7bccc4', '#43a2ca', '#0868ac'],\r\n\t\t6: ['#ECF0F6', '#B2C2DB', '#6182B5', '#4E71A6', '#43618F'],\r\n\t\t7: ['#F2D2D3', '#EBB7B9', '#D4686C', '#CC4E52', '#C1373C']\r\n\t},\r\n\tdiverging: {\r\n\t\t1: ['#a6611a', '#dfc27d', '#f5f5f5', '#80cdc1', '#018571'],\r\n\t\t2: ['#ca0020', '#f4a582', '#f7f7f7', '#92c5de', '#0571b0'],\r\n\t\t3: ['#d01c8b', '#f1b6da', '#f7f7f7', '#b8e186', '#4dac26'],\r\n\t\t4: ['#d7191c', '#fdae61', '#ffffbf', '#abd9e9', '#2c7bb6'],\r\n\t\t5: ['#e66101', '#fdb863', '#f7f7f7', '#b2abd2', '#5e3c99'],\r\n\t\t6: ['#ca0020', '#f4a582', '#ffffff', '#bababa', '#404040'],\r\n\t\t7: ['#d7191c', '#fdae61', '#ffffbf', '#abdda4', '#2b83ba']\r\n\t}\r\n\t,qualitativeSchemes: {\r\n\t\t1: ['#a6cee3','#1f78b4','#b2df8a','#33a02c','#fb9a99','#e31a1c','#fdbf6f','#ff7f00','#cab2d6','#6a3d9a','#ffff99','#b15928'],\r\n\t\t2: ['#8dd3c7','#ffffb3','#bebada','#fb8072','#80b1d3','#fdb462','#b3de69','#fccde5','#d9d9d9','#bc80bd','#ccebc5','#ffed6f']\r\n\t}\r\n};\r\n\r\nexport const LEGEND_LOOKUP = {\r\n\t'none':['Min:','Max:'],\r\n\t'gender':['Male (0)','Female (1)'],\r\n\t'affirm':['No (0)','Yes (1)'],\r\n\t'edu':['Low (0)','High (4)'],\r\n\t'commute':['Less than 15 min.(1)','More than 60 min.(4)'],\r\n\t'duration':['0 Months (1)','12+ Months (3)'],\r\n\t'secureA':['Low (0)','High (1)'],\r\n\t'secureB':['Low (0)','High (2)'],\r\n\t'superf':['Superficial (1)','Expansive (2)']\r\n}\r\n\r\nexport const LEGEND_LOOKUP_PR = {\r\n\t'none':['Min:','Max:'],\r\n\t'gender':['Masculino (0)','Fêmea (1)'],\r\n\t'affirm':['No (0)','Sim (1)'],\r\n\t'edu':['Baixo (0)','Alto (4)'],\r\n\t'commute':['Menos de 15 min.(1)','Mais de 60 min.(4)'],\r\n\t'duration':['0 Meses (1)','12+ Meses (3)'],\r\n\t'secureA':['Baixo (0)','Alto (1)'],\r\n\t'secureB':['Baixo (0)','Alto (2)'],\r\n\t'superf':['Superficial (1)','Expansive (2)']\r\n}\r\n\r\nexport const DESCRIPTION_LOOKUP = {\r\n\tACS_LDR:\r\n\t\t'Percent of people who feel they have access to a community leader who advocates on their behalf.',\r\n\tAGE: 'Average age of respondent.',\r\n\tASSAULTO_IMM_VIC:\r\n\t\t'Total complaints about street assault as an everyday challenge, as calculated by the number of times this word was mentioned within the context of the question “is there anything in your neighborhood that bothers you on a constant basis?”',\r\n\tBARULHO_IMM_VIC:\r\n\t\t'Total complaints about noise pollution as an everyday challenge, as calculated by the number of times this word was mentioned within the context of the question “is there anything in your neighborhood that bothers you on a constant basis?”',\r\n\tBLDG_QLTY:\r\n\t\t'Average level of building quality ranging from 0 (uninhabitable) to 5 (very good conditions). Learn more about building quality assessment from the Chapa field guide, <a href=\"www.google.com\" target=\"_blank\">here</a>.',\r\n\tBRTH_REG_NE:\r\n\t\t'Percent of respondents who were born in the states of Bahia, Pernambuco, Ceara, Alagoas, Paraiba, Piaui, Maranhao, Sergipe, Acre, Federal District (DF), Rodonia.',\r\n\tBRTH_REG_S:\r\n\t\t'Percent of respondents born in Minas Gerais, Sao Paulo State (interior), Parana, Rio de Janeiro, Goias, Santa Catarina, Rio Grande do Sul.',\r\n\tBRTH_SP: 'Percent of respondents who were born in the city of Sao Paulo.',\r\n\tCUR_INTENT:\r\n\t\t'Percent of people who want to stay in their homes, as defined by the question “what best describes your intentions for this house?” and responses of either “I will never leave my home” or “I have plans to renovate my home.”',\r\n\tDISP_Y:\r\n\t\t'Percent of respondents who have been forcibly removed from their homes at least once in their lives.',\r\n\tDROGA_IMM_VIC:\r\n\t\t'Total complaints about drug trafficking as an everyday challenge, as calculated by the number of times this word was mentioned within the context of the question “is there anything in your neighborhood that bothers you on a constant basis?”',\r\n\tED_LVL_0: 'Percent of survey respondents with no formal education.',\r\n\tED_LVL_1:\r\n\t\t'Percent of survey respondents who completed elementary school only.',\r\n\tED_LVL_2: 'Percent of survey respondents with a high school degree.',\r\n\tED_LVL_3: 'Percent of survey respondents with an undergraduate degree.',\r\n\tED_LVL_4: 'Percent of survey respondents with a graduate degree.',\r\n\tED_LVL_FAT_0:\r\n\t\t'Percent of survey respondents whose father has no formal education.',\r\n\tED_LVL_FAT_1:\r\n\t\t'Percent of survey respondents who completed elementary school only.',\r\n\tED_LVL_FAT_2:\r\n\t\t'Percent of survey respondents whose father has a high school degree.',\r\n\tED_LVL_FAT_3:\r\n\t\t'Percent of survey respondents whose father has an undergraduate degree.',\r\n\tED_LVL_FAT_4:\r\n\t\t'Percent of survey respondents whose father has a graduate degree.',\r\n\tED_LVL_FAT_5:\r\n\t\t'Percent of survey respondents whose father has an unknown educational status.',\r\n\tED_LVL_FAT_6:\r\n\t\t'Percent of survey respondents whose father has a technical degree.',\r\n\tED_LVL_MOT_0:\r\n\t\t'Percent of survey respondents whose mother has no formal education.',\r\n\tED_LVL_MOT_1:\r\n\t\t'Percent of survey respondents whose mother has completed elementary school only.',\r\n\tED_LVL_MOT_2:\r\n\t\t'Percent of survey respondents whose mother has a high school degree.',\r\n\tED_LVL_MOT_3:\r\n\t\t'Percent of survey respondents whose mother has an undergraduate degree.',\r\n\tED_LVL_MOT_4:\r\n\t\t'Percent of survey respondents whose mother has a graduate degree.',\r\n\tED_LVL_MOT_5:\r\n\t\t'Percent of survey respondents whose mother has an unknown educational status.',\r\n\tED_LVL_MOT_6:\r\n\t\t'Percent of survey respondents whose mother has a technical degree.',\r\n\tEMPL_Y: 'Percent of people currently employed.',\r\n\tFUNK_IMM_VIC:\r\n\t\t'Total complaints about funk street parties as an everyday challenge, as calculated by the number of times this word was mentioned within the context of the question “is there anything in your neighborhood that bothers you on a constant basis?”',\r\n\tGEN_F: 'The ratio of male to female respondents.',\r\n\t// GEN_M: 'Mauris rutrum mi sodales risus placerat molestie.',\r\n\tINCOME: 'Average household income.',\r\n\tLIXO_IMM_VIC:\r\n\t\t'Total complaints about trash as an everyday challenge, as calculated by the number of times this word was mentioned within the context of the question “is there anything in your neighborhood that bothers you on a constant basis?” ',\r\n\tNADA_IMM_VIC:\r\n\t\t'Total responses of no everyday challenge, as calculated by the number of times “nada” was mentioned within the context of the question “is there anything in your neighborhood that bothers you on a constant basis?”',\r\n\tNUM_FAM_LOT:\r\n\t\t'Average number of families living on the surveyed lot. Learn more about how lot occupation is assessed from the Chapa field guide, here.',\r\n\tNUM_FLR: 'Average building height.',\r\n\tNUM_PPL_HSHD: 'Average number of people living in the surveyed household.',\r\n\tNUM_SCH_AG: 'Average number of school age children.',\r\n\tNUM_YR_HSE:\r\n\t\t'Average number of years that respondent has lived in their current dwelling.',\r\n\tNUM_YR_SP:\r\n\t\t'Average number of years that respondent has lived in Sao Paulo.',\r\n\tPOL_AFL: 'Percent of people who claim affiliation to any political party.',\r\n\tPOL_PRIOR_ENV:\r\n\t\t'Percent of people who cite environmental stewardship in response to the question “what needs to change now to improve your community?”',\r\n\tPOL_PRIOR_HSG:\r\n\t\t'Percent of people who cite social housing in response to the question “what needs to change now to improve your community?”',\r\n\tPOL_PRIOR_INFRA:\r\n\t\t'Percent of people who cite infrastructure and sanitation in response to the question “what needs to change now to improve your community?”',\r\n\tPOL_PRIOR_TTL:\r\n\t\t'Percent of people who cite tenure and land regularization in response to the question “what needs to change now to improve your community?”',\r\n\tPOL_PRIOR_WST_MGT:\r\n\t\t'Percent of people who cite systematic waste management in response to the question “what needs to change now to improve your community?”',\r\n\tRENOV:\r\n\t\t'Percent of homes that have been expanded, renovated, and/or adapted from their original state.  Learn more about how home expansion is assessed from the Chapa field guide, <a href=\"www.google.com\" target=\"_blank\">here</a>.',\r\n\tSNS_GOOD_ACS:\r\n\t\t'Percent of people who believe their home to be well-located relative to city services.',\r\n\tSNS_SEC_HSE: 'Percent of people who feel secure inside of their home.',\r\n\tSNS_SEC_NEI:\r\n\t\t'Percent of people who feel secure walking on the streets around their home.',\r\n\tSPCL_NEEDS:\r\n\t\t'Percent of households with a person who faces physical or mental challenges.',\r\n\tUSE_HM_INCM:\r\n\t\t'Percent of people who use a space in their home to generate income.'\r\n};\r\n\r\nexport const DESCRIPTION_LOOKUP_PR = {\r\n\tACS_LDR:\r\n\t\t'Porcentagem de pessoas que sentem que têm acesso a um líder da comunidade que defende em seu nome.',\r\n\tAGE: 'Idade média do entrevistado.',\r\n\tASSAULTO_IMM_VIC:\r\n\t\t'Total de queixas sobre assalto como um desafio diário, conforme calculado pelo número de vezes que esta palavra foi mencionada no contexto da questão \"Existe alguma coisa em sua vizinhança que o incomoda numa base constante?\"',\r\n\tBARULHO_IMM_VIC:\r\n\t\t'Total de queixas sobre o barulho como um desafio diário, conforme calculado pelo número de vezes que esta palavra foi mencionada no contexto da questão \"Existe alguma coisa em seu bairro que o incomoda em uma base constante?\"',\r\n\tBLDG_QLTY:\r\n\t\t'Nível médio de qualidade de construção variando de 0 (inabitável) a 5 (muito boas condições). Saiba mais sobre a avaliação da qualidade do edifício no guia de campo de Chapa, aqui.',\r\n\tBRTH_REG_NE:\r\n\t\t'Porcentagem de entrevistados que nasceu nos estados do norte e nordeste, incluindo Bahia, Pernambuco, Ceara, Alagoas, Paraiba, Piaui, Maranhao, Sergipe, Acre, Federal District (DF), Rodonia.',\r\n\tBRTH_REG_S:\r\n\t\t'Porcentagem de entrevistados que nasceu na capital nos estados do sul e centro, incluindo Minas Gerais, Sao Paulo State (interior), Parana, Rio de Janeiro, Goias, Santa Catarina, Rio Grande do Sul',\r\n\tBRTH_SP: 'Porcentagem de entrevistados que nasceu na capital.',\r\n\tCUR_INTENT:\r\n\t\t'Porcentagem de pessoas que querem ficar em suas casas, conforme definido pela pergunta \"o que melhor descreve suas intenções para esta casa?\" e respostas de \"Eu nunca irei para minha casa\" ou \"Tenho planos de renovar minha casa\".',\r\n\tDISP_Y:\r\n\t\t'Porcentagem de entrevistados que fi removido/a de casa pelomenos uma vez na vida.',\r\n\tDROGA_IMM_VIC:\r\n\t\t'Total de queixas sobre o trafico como um desafio diário, conforme calculado pelo número de vezes que esta palavra foi mencionada no contexto da questão \"Existe alguma coisa em seu bairro que o incomoda em uma base constante?\"',\r\n\tED_LVL_0: 'Percentagem de entrevistados sem educação formal',\r\n\tED_LVL_1:\r\n\t\t'Percentagem de entrevistados que completaram apenas o ensino fundamental.',\r\n\tED_LVL_2: 'Percentagem de entrevistados com grau de ensino médio.',\r\n\tED_LVL_3: 'Percentagem de entrevistados com diploma de graduação.',\r\n\tED_LVL_4: 'Percentagem de entrevistados com diploma de pós-graduação',\r\n\tED_LVL_FAT_0:\r\n\t\t'Percentagem de entrevistados cujo pai não possui educação formal.',\r\n\tED_LVL_FAT_1:\r\n\t\t'Percentagem de entrevistados que completaram apenas o ensino fundamental.',\r\n\tED_LVL_FAT_2:\r\n\t\t'Percentagem de entrevistados cujo pai tem um diploma de ensino médio.',\r\n\tED_LVL_FAT_3:\r\n\t\t'Percentagem de entrevistados cujo pai possui um diploma de graduação.',\r\n\tED_LVL_FAT_4:\r\n\t\t'Percentagem de entrevistados cujo pai possui um diploma de pós-graduação.',\r\n\tED_LVL_FAT_5:\r\n\t\t'Percentagem de entrevistados cujo pai tem um status educacional desconhecido',\r\n\tED_LVL_FAT_6:\r\n\t\t'Percentagem de entrevistados cujo pai possui um diploma técnico.',\r\n\tED_LVL_MOT_0:\r\n\t\t'Percentagem de entrevistados cuja mãe não possui educação formal.',\r\n\tED_LVL_MOT_1:\r\n\t\t'Percentagem de entrevistados cuja mãe completou apenas a escola primária.',\r\n\tED_LVL_MOT_2:\r\n\t\t'Percentagem de entrevistados cuja mãe possui um diploma de ensino médio.',\r\n\tED_LVL_MOT_3:\r\n\t\t'Percentagem de entrevistados cuja mãe possui um diploma de graduação.',\r\n\tED_LVL_MOT_4:\r\n\t\t'Porcentagem de entrevistados cuja mãe possui um diploma de pós-graduação.',\r\n\tED_LVL_MOT_5:\r\n\t\t'Percentagem de entrevistados cuja mãe possui um status educacional desconhecido',\r\n\tED_LVL_MOT_6:\r\n\t\t'Porcentagem de entrevistados cuja mãe possui um diploma técnico.',\r\n\tEMPL_Y: 'Porcentagem de pessoas atualmente empregadas',\r\n\tFUNK_IMM_VIC:\r\n\t\t'Total de queixas sobre baile funk como um desafio diário, conforme calculado pelo número de vezes que esta palavra foi mencionada no contexto da questão \"Existe alguma coisa em sua vizinhança que o incomoda numa base constante?\"',\r\n\tGEN_F: 'Porcentagem de entrevistadas.',\r\n\tGEN_M: 'Porcentagem de entrevistados.',\r\n\tINCOME: 'Renda familiar media',\r\n\tLIXO_IMM_VIC:\r\n\t\t'Total de queixas sobre o lixo como um desafio diário, conforme calculado pelo número de vezes que esta palavra foi mencionada no contexto da questão \"Existe alguma coisa em seu bairro que o incomoda em uma base constante?\"',\r\n\tNADA_IMM_VIC:\r\n\t\t'As respostas totais de nenhum desafio diário, conforme calculado pelo número de vezes que \"nada\" foi mencionado no contexto da questão \"Existe alguma coisa em sua vizinhança que o incomoda em uma base constante?\"',\r\n\tNUM_FAM_LOT:\r\n\t\t'Número médio de famílias que vivem no lote pesquisado. Saiba mais sobre como a ocupação do lote é avaliada a partir do guia do campo de Chapa, aqui.',\r\n\tNUM_FLR: 'Altura média do edifício.',\r\n\tNUM_PPL_HSHD: 'Número médio de pessoas que vivem no domicílio pesquisado.',\r\n\tNUM_SCH_AG: 'Número médio de crianças de idade escolar.',\r\n\tNUM_YR_HSE: 'A media dos anos que o entrevistado viveu na sua casa atual.',\r\n\tNUM_YR_SP: 'A media dos anos que o entrevistado viveu em Sao Paulo.',\r\n\tPOL_AFL:\r\n\t\t'Porcentagem de pessoas que reivindicam afiliação a qualquer partido político.',\r\n\tPOL_PRIOR_ENV:\r\n\t\t'Porcentagem de pessoas que citam a administração ambiental em resposta à pergunta \"o que precisa mudar agora para melhorar sua comunidade?\"',\r\n\tPOL_PRIOR_HSG:\r\n\t\t'Porcentagem de pessoas que citam habitação social em resposta à pergunta \"o que precisa mudar agora para melhorar sua comunidade?\"',\r\n\tPOL_PRIOR_INFRA:\r\n\t\t'Porcentagem de pessoas que citam infra-estrutura e saneamento em resposta à pergunta \"o que precisa mudar agora para melhorar sua comunidade?\"',\r\n\tPOL_PRIOR_TTL:\r\n\t\t'Porcentagem de pessoas que citam a posse e a regularização da terra em resposta à pergunta \"o que precisa mudar agora para melhorar sua comunidade?\"',\r\n\tPOL_PRIOR_WST_MGT:\r\n\t\t'Porcentagem de pessoas que citam o gerenciamento sistemático de resíduos em resposta à pergunta \"o que precisa mudar agora para melhorar sua comunidade?\"',\r\n\tRENOV:\r\n\t\t'Porcentagem de casas que foram expandidas, renovadas e / ou adaptadas de seu estado original. Saiba mais sobre como a avaliação domiciliar é avaliada a partir do guia de campo de Chapa, <a href=\"\" target=\"_blank\">aqui</a>.',\r\n\tSNS_GOOD_ACS:\r\n\t\t'Porcentagem de pessoas que acreditam que sua casa está bem localizada em relação aos serviços da cidade.',\r\n\tSNS_SEC_HSE:\r\n\t\t'Porcentagem de pessoas que se sentem seguras dentro de sua casa.',\r\n\tSNS_SEC_NEI:\r\n\t\t'Porcentagem de pessoas que se sentem seguras nas ruas perto de casa.',\r\n\tSPCL_NEEDS:\r\n\t\t'Porcentagem de domicílios com uma pessoa que enfrenta desafios físicos ou mentais.',\r\n\tUSE_HM_INCM:\r\n\t\t'Porcentagem de pessoas que usam um espaço em sua casa para gerar renda, alem de aluguel.'\r\n};\r\n","export const geography_options = [ \r\n\t{ value:'blocks', label: 'Blocks', labelPR: 'Blocos'},\r\n\t{ value:'districts', label: 'Districts', labelPR: 'Distritos'},\r\n];\r\n\r\nexport const district_metrics = [\r\n\t{category:\"Social\", palette:'sequ', max:'75', min:'20', breaks:'20,39.483,44.511,49.54', value:'AGE', legend:'none', label:'Age', labelPR:'Idade'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.465,0.704,0.942', value:'GEN_F', legend:'gender', label:'Gender', labelPR:'Genero'},\r\n\t{category:\"Social\", palette:'sequ', max:'55', min:'0', breaks:'0,0.1,17.123,34.389', value:'NUM_YR_SP', legend:'none', label:'Years in São Paulo', labelPR:'Duração de tempo em Sao Paulo'},\r\n\t{category:\"Social\", palette:'sequ', max:'20', min:'0', breaks:'0,4.242,10.082,15.922', value:'NUM_YR_HSE', legend:'none', label:'Years in Current Dwelling', labelPR:'Duração de tempo na casa atual'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.16,0.344,0.528', value:'BRTH_SP', legend:'secureA', label:'Native Paulista', labelPR:'Paulistano/a'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.498,0.79,0.81', value:'BRTH_REG_NE', legend:'secureA', label:'Non Native Paulista - North-East', labelPR:'NÃO Paulistano/a Paulista - Norte e Nordeste'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.05,0.112,0.258', value:'BRTH_REG_S', legend:'secureA', label:'Non Native Paulista - South-Central', labelPR:'NÃO Paulistano/a -  Sul e Centro'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.05,0.292,0.586', value:'DISP_Y', legend:'secureA', label:'Displacement', labelPR:'Remoção'},\r\n\t{category:\"Social\", palette:'sequ', max:'5.5', min:'0', breaks:'0,0.1,1.281,2.61', value:'NUM_FAM_LOT', legend:'none', label:'Lot Occupation', labelPR:'Ocupação'},\r\n\t{category:\"Social\", palette:'sequ', max:'5', min:'0', breaks:'0,2.23,3.431,4.633', value:'NUM_PPL_HSHD', legend:'none', label:'Household Inhabitants', labelPR:'Habitantes domésticos'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.107,0.231', value:'ED_LVL_0', legend:'secureA', label:'Respondent Education - None', labelPR:'Nível educacional do entrevistado - Nada'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.213,0.43,0.648', value:'ED_LVL_1', legend:'secureA', label:'Respondent Education - Elementary', labelPR:'Nível educacional do entrevistado - primária'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.157,0.361,0.566', value:'ED_LVL_2', legend:'secureA', label:'Respondent Education - High School', labelPR:'Nível educacional do entrevistado - ensino médio'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.091,0.198', value:'ED_LVL_3', legend:'secureA', label:'Respondent Education - Undergraduate Deg.', labelPR:'Nível educacional do entrevistado - Graduação'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.276,0.523,0.769', value:'ED_LVL_MOT_0', legend:'secureA', label: \"Respondent Mother's Education - None\", labelPR:'Nível educacional do mãe de entrevistado - Nada'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.091,0.307,0.522', value:'ED_LVL_MOT_1', legend:'secureA', label: \"Respondent Mother's Education - Elementary\", labelPR:'Nível educacional do mãe de entrevistado - primária'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.052,0.138', value:'ED_LVL_MOT_2', legend:'secureA', label: \"Respondent Mother's Education - High School\", labelPR:'Nível educacional do mãe de entrevistado - High'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.012,0.048', value:'ED_LVL_MOT_3', legend:'secureA', label: \"Respondent Mother's Education - Undergraduate Deg.\", labelPR:'Nível educacional do mãe de entrevistado - Graduação'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.099,0.301', value:'ED_LVL_MOT_5', legend:'secureA', label: \"Respondent Mother's Education - No Information\", labelPR:'Nível educacional do mãe de entrevistado - sem informação'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.23,0.456,0.682', value:'ED_LVL_FAT_0', legend:'secureA', label: \"Respondent Father's Education - None\", labelPR:'Nível educacional do pai de entrevistado - Nada'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.048,0.273,0.499', value:'ED_LVL_FAT_1', legend:'secureA', label: \"Respondent Father's Education - Elementary\", labelPR:'Nível educacional do pai de entrevistado - primária'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.056,0.144', value:'ED_LVL_FAT_2', legend:'secureA', label: \"Respondent Father's Education - High School\", labelPR:'Nível educacional do pai de entrevistado - High'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.017,0.061', value:'ED_LVL_FAT_3', legend:'secureA', label: \"Respondent Father's Education - Undergraduate Deg.\", labelPR:'Nível educacional do pai de entrevistado - Graduação'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0,0.003,0.004', value:'ED_LVL_FAT_4', legend:'secureA', label: \"Respondent Father's Education - Graduate Deg.\", labelPR:'Nível educacional do pai de entrevistado - Graduate Deg.'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.09,0.19,0.405', value:'ED_LVL_FAT_5', legend:'secureA', label: \"Respondent Father's Education - No Information\", labelPR:'Nível educacional do pai de entrevistado - sem informação'},\r\n\t{category:\"Social\", palette:'sequ', max:'2.1', min:'0', breaks:'0,0.048,0.889,1.73', value:'NUM_SCH_AGE_CHD', legend:'none', label:'School Age Children', labelPR:'Idade Escolar'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.224,0.445,0.666', value:'EMPL_Y', legend:'secureA', label:'Employment', labelPR:'Emprego'},\r\n\t{category:\"Social\", palette:'sequ', max:'2655', min:'0', breaks:'0,812.878,1525.882,2238.887', value:'INCOME', legend:'none', label:'Income', labelPR:'Renda'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.046,0.211,0.376', value:'USE_HM_INCM', legend:'secureA', label:'Home Income Generation', labelPR:'Necessidades especiais'},\r\n\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.001,0.089,0.189', value:'SPCL_NEEDS', legend:'secureA', label:'Special Needs', labelPR:'Geração de renda doméstica'},\r\n\t\r\n\t{category:\"Physical\", palette:'sequ', max:'8', min:'1', breaks:'1,2.101,2.876,3.651', value:'NUM_FLR', legend:'none', label:'Building Height', labelPR:'Pavimentos'},\r\n\t{category:\"Physical\", palette:'sequ', max:'1', min:'0', breaks:'0,0.373,0.652,0.931', value:'RENOV', legend:'secureA', label:'Home Expansion', labelPR:'Expansão domiciliar'},\r\n\t{category:\"Physical\", palette:'sequ', max:'4', min:'0', breaks:'0,1.967,3.012,3.5', value:'BLDG_QLTY', legend:'none', label:'Building Quality and Physical Consolidation', labelPR:'Qualidade de construção e consolidação física'},\r\n\t\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.381,0.681,0.981', value:'SNS_SEC_HSE', legend:'secureA', label:'Sense of Security at Home', labelPR:'Sentido de segurança em casa'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.105,0.441,0.776', value:'SNS_SEC_NEI', legend:'secureA', label:'Sense of Security on the Street', labelPR:'Sentido de segurança na rua'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.009,0.422,0.834', value:'SNS_GOOD_ACS', legend:'secureA', label:'Sense of Access to Public Services', labelPR:'Sentido de acesso aos serviços públicos'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.137,0.33', value:'ACS_LDR', legend:'secureA', label:'Sense of Access to Community Leader', labelPR:'Sentido de acesso a um líder da comunidade'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'11', min:'0', breaks:'0,0.1,2.576,5.738', value:'LIXO_IMM_VIC', legend:'none', label:'Everyday challenge – Trash', labelPR:'Desafio maior - lixo'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'17', min:'0', breaks:'0,1,2.939,7.092', value:'DROGA_IMM_VIC', legend:'none', label:'Everyday challenge – Drugs', labelPR:'Desafio maior – trafico de droga'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'39', min:'0', breaks:'0,1,10.061,23.036', value:'BARULHO_IMM_VIC', legend:'none', label:'Everyday challenge – Noise Pollution', labelPR:'Desafio maior – barulho'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'36', min:'0', breaks:'0,1,8.394,20.023', value:'NADA_IMM_VIC', legend:'none', label:'Everyday challenge – Nothing', labelPR:'Desafio maior – Nada'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'4', min:'0', breaks:'0,1,1.152,2.568', value:'ASSAULTO_IMM_VIC', legend:'none', label:'Everyday challenge – Street Assault', labelPR:'Desafio maior – assalto'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'5', min:'0', breaks:'0,1,2,3', value:'FUNK_IMM_VIC', legend:'none', label:'Everyday challenge – Funk Street Parties', labelPR:'Desafio maior – Baile Funk'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'0.8', min:'0', breaks:'0,0.208,0.457,0.705', value:'CUR_INTENT', legend:'none', label:'Intention', labelPR:'Planos de futuro'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.086,0.207', value:'POL_AFL', legend:'secureA', label:'Political Affiliation', labelPR:'Afiliação política'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'4', min:'0', breaks:'0,0.755,2.142,3.529', value:'POL_PRIOR_INFRA', legend:'none', label:'Critical Change - Infrastructure and Sanitation', labelPR:'Mudança importante - Infraestrutura e saneamento'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'4.3', min:'0', breaks:'0,0.882,2.401,3.92', value:'POL_PRIOR_WST_MGT', legend:'none', label:'Critical Change - Waste Management', labelPR:'Mudança importante – Coleção de lixo'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'3.6', min:'0', breaks:'0,0.669,2.02,3.371', value:'POL_PRIOR_ENV', legend:'none', label:'Critical Change - Environmental Stewardship', labelPR:'Mudança importante – Meio ambient'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'4.1', min:'0', breaks:'0,0.774,2.303,3.832', value:'POL_PRIOR_HSG', legend:'none', label:'Critical Change - Housing', labelPR:'Mudança importante – Habitação'},\r\n\t{category:\"Urban Livability\", palette:'sequ', max:'4', min:'0', breaks:'0,0.579,1.97,3.36', value:'POL_PRIOR_TTL', legend:'none', label:'Critical Change - Title', labelPR:'Mudança importante – Regularização'}\r\n];\r\n\r\nexport const blocks_metrics = [\r\n\t\t{category:\"Social\", palette:'sequ', max:'75', min:'20', breaks:'20,36.387,44.594,52.801', value:'AGE', legend:'none', label:'Age', labelPR:'Idade'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.445,0.707,0.969', value:'GEN_F', legend:'gender', label:'Gender', labelPR:'Genero'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'55', min:'0', breaks:'0,1.883,18.375,34.867', value:'NUM_YR_SP', legend:'none', label:'Years in São Paulo', labelPR:'Duração de tempo em Sao Paulo'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'32', min:'0', breaks:'0,5.491,12.48,19.468', value:'NUM_YR_HSE', legend:'none', label:'Years in Current Dwelling', labelPR:'Duração de tempo na casa atual'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.07,0.333,0.596', value:'BRTH_SP', legend:'secureA', label:'Native Paulista', labelPR:'Paulistano/a'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.541,0.81,0.9', value:'BRTH_REG_NE', legend:'secureA', label:'Non Native Paulista - North-East', labelPR:'NÃO Paulistano/a Paulista - Norte e Nordeste'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.139,0.344', value:'BRTH_REG_S', legend:'secureA', label:'Non Native Paulista - South-Central', labelPR:'NÃO Paulistano/a -  Sul e Centro'},\r\n\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.234,0.545', value:'DISP_Y', legend:'secureA', label:'Displacement', labelPR:'Remoção'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'14.6', min:'0', breaks:'0,0.1,1.421,2.981', value:'NUM_FAM_LOT', legend:'none', label:'Lot Occupation', labelPR:'Ocupação'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'7.5', min:'0', breaks:'0,2.344,3.557,4.77', value:'NUM_PPL_HSHD', legend:'none', label:'Household Inhabitants', labelPR:'Habitantes domésticos'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.1,0.287', value:'ED_LVL_0', legend:'secureA', label:'Respondent Education - None', labelPR:'Nível educacional do entrevistado - Nada'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.151,0.427,0.703', value:'ED_LVL_1', legend:'secureA', label: \"Respondent Education - Elementary\", labelPR:'Nível educacional do entrevistado - primária'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.098,0.352,0.606', value:'ED_LVL_2', legend:'secureA', label: \"Respondent Education - High School\", labelPR:'Nível educacional do entrevistado - ensino médio'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.106,0.275', value:'ED_LVL_3', legend:'secureA', label: \"Respondent Education - Undergraduate Deg.\", labelPR:'Nível educacional do entrevistado - Graduação'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.236,0.522,0.808', value:'ED_LVL_MOT_0', legend:'secureA', label: \"Respondent Mother's Education - None\", labelPR:'Nível educacional do mãe de entrevistado - Nada'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.062,0.331,0.599', value:'ED_LVL_MOT_1', legend:'secureA', label: \"Respondent Mother's Education - Elementary\", labelPR:'Nível educacional do mãe de entrevistado - primária'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.001,0.05,0.175', value:'ED_LVL_MOT_2', legend:'secureA', label: \"Respondent Mother's Education - High\", labelPR:'Nível educacional do mãe de entrevistado - High'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.001,0.014,0.101', value:'ED_LVL_MOT_3', legend:'secureA', label: \"Respondent Mother's Education - Undergraduate Deg.\", labelPR:'Nível educacional do mãe de entrevistado - Graduação'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.07,0.24', value:'ED_LVL_MOT_5', legend:'secureA', label: \"Respondent Mother's Education - No Information\", labelPR:'Nível educacional do mãe de entrevistado - sem informação'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.178,0.469,0.76', value:'ED_LVL_FAT_0', legend:'secureA', label: \"Respondent Father's Education - None\", labelPR:'Nível educacional do pai de entrevistado - Nada'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.028,0.286,0.544', value:'ED_LVL_FAT_1', legend:'secureA', label: \"Respondent Father's Education - Elementary\", labelPR:'Nível educacional do pai de entrevistado - primária'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.05,0.169', value:'ED_LVL_FAT_2', legend:'secureA', label: \"Respondent Father's Education - High\", labelPR:'Nível educacional do pai de entrevistado - High'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.001,0.013,0.075', value:'ED_LVL_FAT_3', legend:'secureA', label: \"Respondent Father's Education - Undergraduate Deg.\", labelPR:'Nível educacional do pai de entrevistado - Graduação'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0,0.002,0.016', value:'ED_LVL_FAT_4', legend:'secureA', label: \"Respondent Father's Education - Graduate Deg.\", labelPR:'Nível educacional do pai de entrevistado - Graduate Deg.'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.168,0.411', value:'ED_LVL_FAT_5', legend:'secureA', label: \"Respondent Father's Education - No Information\", labelPR:'Nível educacional do pai de entrevistado - sem informação'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'4', min:'0', breaks:'0,0.224,1.12,2.016', value:'NUM_SCH_AG', legend:'none', label:'School Age Children', labelPR:'Idade Escolar'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.19,0.476,0.761', value:'EMPL_Y', legend:'secureA', label:'Employment', labelPR:'Emprego'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'7640', min:'0', breaks:'0,857.928,1743.932,2629.936', value:'INCOME', legend:'none', label:'Income', labelPR:'Renda'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.094,0.237', value:'SPCL_NEEDS', legend:'secureA', label:'Special Needs', labelPR:'Necessidades especiais'},\r\n\t\t{category:\"Social\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.221,0.459', value:'USE_HM_INCM', legend:'secureA', label:'Home Income Generation', labelPR:'Geração de renda doméstica'},\r\n\r\n\t\t{category:\"Physical\", palette:'sequ', max:'8', min:'1', breaks:'1,1.774,2.656,3.537', value:'NUM_FLR', legend:'none', label:'Building Height', labelPR:'Pavimentos'},\r\n\t\t{category:\"Physical\", palette:'sequ', max:'1', min:'0', breaks:'0,0.434,0.723,1.011', value:'RENOV', legend:'secureA', label:'Home Expansion', labelPR:'Expansão domiciliar'},\r\n\t\t{category:\"Physical\", palette:'sequ', max:'5', min:'0', breaks:'0,2.307,3.139,3.972', value:'BLDG_QLTY', legend:'none', label:'Building Quality and Physical Consolidation', labelPR:'Qualidade de construção e consolidação física'},\r\n\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.41,0.719,1.029', legend:'secureA', value:'SNS_SEC_HSE', label:'Sense of Security at Home', labelPR:'Sentido de segurança em casa'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.203,0.562,0.922', legend:'secureA', value:'SNS_SEC_NE', label:'Sense of Security on the Street', labelPR:'Sentido de segurança na rua'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.124,0.541,0.958', legend:'secureA', value:'SNS_GOOD_ACS', label:'Sense of Access to Public Services', labelPR:'Sentido de acesso aos serviços públicos'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.1,0.205,0.489', legend:'secureA', value:'ACS_LDR', label:'Sense of Access to Community Leader', labelPR:'Sentido de acesso a um líder da comunidade'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'4', min:'0', breaks:'0,1,2,3', legend:'none', value:'LIXO_IMM_VIC', label:'Everyday challenge – Trash', labelPR:'Desafio maior - lixo'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'5', min:'0', breaks:'0,1,2,3', legend:'none', value:'DROGA_IMM_VIC', label:'Everyday challenge – Drugs', labelPR:'Desafio maior – trafico de droga'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'8', min:'0', breaks:'0,2,4,6', legend:'none', value:'BARULHO_IMM_VIC', label:'Everyday challenge – Noise Pollution', labelPR:'Desafio maior – barulho'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'7', min:'0', breaks:'0,2,4,6', legend:'none', value:'NADA_IMM_V', label:'Everyday challenge – Nothing', labelPR:'Desafio maior – Nada'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'3', min:'0', breaks:'0,0.9,1.9,2.9', legend:'none', value:'ASSAULTO_IMM_VIC', label:'Everyday challenge – Street Assault', labelPR:'Desafio maior – assalto'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'4', min:'0', breaks:'0,1,2,3', legend:'none', value:'FUNK_IMM_VIC', label:'Everyday challenge – Funk Street Parties', labelPR:'Desafio maior – Baile Funk'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.01,0.097,0.273', legend:'none', value:'POL_AFL', label:'Political Affiliation', labelPR:'Planos de futuro'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'1', min:'0', breaks:'0,0.239,0.535,0.831', legend:'secureA', value:'CUR_INTENT', label:'Intention', labelPR:'Afiliação política'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'5', min:'0', breaks:'0,0.638,1.921,3.203', legend:'none', value:'POL_PRIOR_TTL', label:'Critical Change - Title', labelPR:'Mudança importante - Infraestrutura e saneamento'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'5', min:'0', breaks:'0,0.813,2.175,3.537', legend:'none', value:'POL_PRIOR_INFRA', label:'Critical Change - Infrastructure and Sanitation', labelPR:'Mudança importante – Coleção de lixo'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'5', min:'0', breaks:'0,1.023,2.552,4.08', legend:'none', value:'POL_PRIOR_WST_MGT', label:'Critical Change - Waste Management', labelPR:'Mudança importante – Meio ambient'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'5', min:'0', breaks:'0,0.886,2.279,3.672', legend:'none', value:'POL_PRIOR_ENV', label:'Critical Change - Environmental Stewardship', labelPR:'Mudança importante – Habitação'},\r\n\t\t{category:\"Urban Livability\", palette:'sequ', max:'5', min:'0', breaks:'0,0.918,2.492,4.066', legend:'none', value:'POL_PRIOR_HSG', label:'Critical Change - Housing', labelPR:'Mudança importante – Regularização'}\r\n\r\n];","export const setCache = (name, object) => {\r\n\t// let cache;\r\n\ttry {\r\n\t\t\tlocalStorage.setItem(name,JSON.stringify(object));  \r\n\t} catch (e) {\r\n\t\t\tconsole.log(\"ERROR SETTING LOCAL STORAGE\");\r\n\t\t\tconsole.log(e)\r\n\t}\r\n\r\n}\r\n\r\nexport const getCache = (name) => {\r\n\r\n\treturn JSON.parse(localStorage.getItem(name));\r\n}\r\n","import { COLOR_SCHEMES, DESCRIPTION_LOOKUP, DESCRIPTION_LOOKUP_PR, LEGEND_LOOKUP, LEGEND_LOOKUP_PR }from \"constants/lookup_variables\";\r\nimport { district_metrics } from \"constants/metrics\";\r\nimport { getCache } from \"utils/cache_utils\";\r\nimport * as turf from '@turf/turf'\r\nimport L from 'leaflet'\r\n\r\n/* UTILITY FUNCTIONS */\r\nlet toTitleCase = function(str) {\r\n\treturn str.replace(/\\w\\S*/g, function(txt) {\r\n\t\treturn txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n\t});\r\n};\r\nlet toCurrency = function(num) {\r\n\tif (num == null) {\r\n\t\treturn 'N/A';\r\n\t}\r\n\tlet txt = parseFloat(num)\r\n\t\t.toFixed(2)\r\n\t\t.toString();\r\n\tif (txt.length > 5) {\r\n\t\treturn (\r\n\t\t\t'R$' +\r\n\t\t\tparseFloat(num)\r\n\t\t\t\t.toFixed(0)\r\n\t\t\t\t.toString()\r\n\t\t\t\t.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,')\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t'R$' +\r\n\t\t\tparseFloat(num)\r\n\t\t\t\t.toFixed(2)\r\n\t\t\t\t.toString()\r\n\t\t\t\t.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,')\r\n\t\t);\r\n\t}\r\n};\r\n\r\n\r\nlet toPercent = function(num) {\r\n\tlet a = parseFloat(num * 100).toFixed(1);\r\n\treturn a + '%';\r\n};\r\n\r\nlet runArrayTest = function(arr, value){\r\n\t//loop through test array and if anything shows up, return true\r\n\t//this function filters through the given word array\r\n\t//if any word in the label description matches, then it is added to the result array\r\n\tlet result = arr.filter( wrd => value.toUpperCase().indexOf(wrd) > -1 )\r\n\t// finally if the length of the array is greater than 0 we return true, else false\r\n\treturn (result.length > 0 ? true : false)\r\n}\r\n\r\nlet testForPercent = function(value){\r\n\tlet percentArray = ['GROWTH','POVERTY RATE', 'PERCENT', '%', 'RATIO'];\r\n\treturn runArrayTest(percentArray, value);\r\n} \r\n\r\nlet testForCurrency = function(value){\r\n\tlet currencyArray = ['WAGE','EARNING','HOUSEHOLD INCOME'];\r\n\treturn runArrayTest(currencyArray, value);\r\n}\r\n\r\nlet testForAverages = function(value){\r\n\tlet averageArray = ['AVERAGE NUMBER', 'RATIO OF'];\r\n\treturn runArrayTest(averageArray, value);\r\n}\r\n\r\n\r\nlet _valueConversion = function(label, value) {\r\n\t//get metric text\r\n\tlet label_desc = DESCRIPTION_LOOKUP[label] === undefined ? '' : DESCRIPTION_LOOKUP[label];\r\n\t//test for empty value\r\n\tif (value === undefined || value === null || value === '') {\r\n\t\treturn 'Insuff. Data';\r\n\t}\r\n\r\n\t// console.log(label, value)\r\n\tif ( testForPercent(label_desc) ){\r\n\t\t//convert number to a percent\r\n\t\treturn toPercent(value);\r\n\r\n\t} else if ( testForCurrency(label_desc) ) {\r\n\t\t//convert number to a percent\r\n\t\treturn toCurrency(value);\r\n\r\n\t} else if ( testForAverages(label_desc) ) {\r\n\t\t//convert number to a fixed decimal\r\n\t\treturn value = Number(value).toFixed(1);\r\n\t\t\t\t\r\n\t} else {\r\n\t\t//return number that might have commas and round down\r\n\t\tvalue = Math.floor(value)\r\n\t\tvalue = value.toString().replace(/(.)(?=(\\d{3})+$)/g, '$1,');\r\n\t\t// console.log(value)\r\n\t\treturn value;\r\n\t}\r\n};\r\n\r\n/* LAYER STYLE FUNCTIONS */\r\nlet setInitialStyle = function(){\r\n\treturn {\r\n\t\topacity: 0.6,\r\n\t\tcolor: 'rgb(0,0,0)',\r\n\t\tdashArray: '',\r\n\t\tlineCap: 'butt',\r\n\t\tlineJoin: 'miter',\r\n\t\tweight: 1.0,\r\n\t\tfillOpacity: 0.6,\r\n\t\tfillColor: '#333333'\r\n\t}\r\n}\r\n\r\nlet setMetricStyle = function(feature, metric, palette){\r\n\t// console.log(metric)\r\n\treturn {\r\n\t\tcolor: 'rgb(0,0,0)',\r\n\t\tdashArray: '',\r\n\t\tlineCap: 'butt',\r\n\t\tlineJoin: 'miter',\r\n\t\tweight: 1.0,\r\n\t\topacity: myStrokeOpacity(feature, metric),\r\n\t\tfillOpacity: myFillOpacity(feature, metric),\r\n\t\tfillColor: myFillColor(feature, metric, palette)\r\n\t}\r\n} \r\n\r\nlet myFillOpacity = function(feature, sent_props) {\r\n\tlet { value } = sent_props;\r\n\tlet x = feature.properties[value];\r\n\tif (x == null) {\r\n\t\treturn 0.1;\r\n\t} else {\r\n\t\treturn 0.7;\r\n\t}\r\n}\r\n\r\nlet myStrokeOpacity = function(feature, sent_props) {\r\n\tlet { value } = sent_props;\r\n\tlet x = feature.properties[value];\r\n\tif (x == null) {\r\n\t\treturn 0.1;\r\n\t} else {\r\n\t\treturn 0.6;\r\n\t}\r\n}\r\n\r\nlet selectColorValue = function(_x, _br, _max, _pal){\r\n\treturn _x >= _max\r\n\t\t\t\t? _pal[4]\r\n\t\t\t\t: _x >= _br[3]\r\n\t\t\t\t\t? _pal[3]\r\n\t\t\t\t\t: _x >= _br[2]\r\n\t\t\t\t\t\t? _pal[2]\r\n\t\t\t\t\t\t: _x >= _br[1]\r\n\t\t\t\t\t\t\t? _pal[1]\r\n\t\t\t\t\t\t\t: _pal[0];\r\n}\r\nlet myFillColor = function(feature, sent_props, chosen_palette) {\r\n\t// console.log(chosen_palette)\r\n\tlet { breaks, max, value } = sent_props;\r\n\tlet metric_value = feature.properties[value];\r\n\t// let metric_type = sent_props.value;\r\n\t//get values, break into an array of numbers and cleanup a touch\r\n\tbreaks = breaks.split(',').map(function(elem, index) {\r\n\t\treturn parseFloat(Math.round(elem * 100) / 100).toFixed(5);\r\n\t});\r\n\t\r\n\tif (metric_value === null) {\r\n\t\treturn '#999999';\r\n\t} else {\r\n\t\treturn selectColorValue(metric_value, breaks, max, chosen_palette);\r\n\t}\r\n}\r\n\r\n/* POPUP FUNCTIONS */\r\nlet getPopupContent = function(feature, metric, pref_lang) {\r\n\t// console.log(metric)\r\n\tlet _location = toTitleCase(feature.properties['LABEL'].substr(2, 20));\r\n\tlet _location_label = (pref_lang === 'en' ? 'LOCATION' : 'LOCALIZAÇÃO');\r\n\tlet _content = '<p><b>' + _location_label +': </b>' + _location;\r\n\tlet _value = feature.properties[metric.value];\r\n\tif (metric.value.length > 1){\r\n\t\t_content += '<br/><b>'+(metric.label).toUpperCase() +': </b>'+ _valueConversion(metric.value, _value) +'</p>';\r\n\t} else {\r\n\t\t_content += '</p>';\r\n\t}\r\n\treturn  _content;\r\n}\r\n\r\nlet highlightFeature = function(e) {\r\n\tlet highlightLayer = e.target;\r\n\thighlightLayer.openPopup();\r\n\t//there was previous code to highlight on click\r\n\t//or highlight on hover...\r\n}\r\n\r\n\r\n/* EXPORTED FUNCTIONS */\r\nexport function updateKey(){\r\n\treturn Math.random()\r\n}\r\n\r\nexport function set_style(feature, metric, palette) {\r\n\tlet newStyle = {}\r\n\tif (metric.value.length <= 1){\r\n\t\tnewStyle = setInitialStyle()\r\n\t} else {\r\n\t\tnewStyle = setMetricStyle(feature, metric, palette)\r\n\t}\r\n\treturn newStyle\r\n}\r\n\r\nexport function basic_popup(feature, layer, metric, pref_lang ) {\r\n\tlayer.on({\r\n\t\tclick: highlightFeature\r\n\t});\r\n\t// console.log(feature)\r\n\tlet popupContent = getPopupContent(feature, metric, pref_lang);\r\n\tlayer.bindPopup(popupContent);\r\n}\r\n\r\nexport const getColorPalette = function(palette_type) {\r\n\t// console.log(metric)\r\n\tif (palette_type === \"sequ\"){\r\n\t\t// get number of colorSchemes\r\n\t\tlet num_schemes = Object.keys(COLOR_SCHEMES.sequential).length\r\n\t\t// use schemes to randomly select within the given objects\r\n\t\tlet rndm_select = Math.floor(Math.random() * num_schemes) + 1;\r\n\t\treturn COLOR_SCHEMES.sequential[rndm_select]\r\n\t} else if (palette_type === \"diver\"){\r\n\t\t// get number of colorSchemes\r\n\t\tlet num_schemes = Object.keys(COLOR_SCHEMES.diverging).length\r\n\t\t// use schemes to randomly select within the given objects\r\n\t\tlet rndm_select = Math.floor(Math.random() * num_schemes) + 1;\r\n\t\treturn COLOR_SCHEMES.diverging[rndm_select]\r\n\t} else if (palette_type === \"quant\"){\r\n\t\t// get number of colorSchemes\r\n\t\tlet num_schemes = Object.keys(COLOR_SCHEMES.qualitativeSchemes).length\r\n\t\t// use schemes to randomly select within the given objects\r\n\t\tlet rndm_select = Math.floor(Math.random() * num_schemes) + 1;\r\n\t\tconsole.log(rndm_select)\r\n\t\treturn COLOR_SCHEMES.qualitativeSchemes[rndm_select]\r\n\t} else {\r\n\t\treturn []\r\n\t}\r\n} \r\n\r\nexport function getDescription(pref_lang, val) {\r\n\treturn (pref_lang === 'en' ? DESCRIPTION_LOOKUP[val] : DESCRIPTION_LOOKUP_PR[val]);\r\n}\r\n\r\nexport function legendHelper(pref_lang, min, max, type, label) {\r\n\tlet lkp_val = (pref_lang === 'en' ? LEGEND_LOOKUP[type] : LEGEND_LOOKUP_PR[type]);\r\n\t// console.log(lkp_val)\r\n\tif (type === undefined){\r\n\t\treturn []\r\n\t} else if (type === \"none\"){\r\n\t\treturn [ lkp_val[0] + \" \" + _valueConversion(label, min), lkp_val[1] + \" \" + _valueConversion(label, max) ]\r\n\t} else {\t\r\n\t\treturn [ lkp_val[0], lkp_val[1] ] \r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const adjustLabelsForPR = function(metrics) {\r\n\treturn metrics.map( elem => {\r\n\t\treturn {\r\n\t\t\tlabel: elem.labelPR,\r\n\t\t\tvalue: elem.value,\r\n\t\t\tcategory: elem.category,\r\n\t\t\tpalette: elem.palette,\r\n\t\t\tmax: elem.max,\r\n\t\t\tmin: elem.min,\r\n\t\t\tbreaks: elem.breaks,\r\n\t\t\tlegend: elem.legend\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport const translatePlaceholder = function(new_lang, lkp_value) {\r\n\t//if there is nothing to translate, get out of the function\r\n\tif (lkp_value === ''){\r\n\t\treturn ''\r\n\t}\r\n\r\n\t// takes the new chosen language, and the attribute's label and returns the translated value\r\n\tlet translatedMetric = '';\r\n\t//loop through metrics and return the Object that has the same LABEL\r\n\tlet foundMetric = district_metrics.filter( item => {\r\n\t\treturn lkp_value === item.value\r\n\t})[0]\r\n\tif (new_lang === 'en'){\r\n\t\ttranslatedMetric = foundMetric.label;\r\n\t} else {\r\n\t\ttranslatedMetric = foundMetric.labelPR;\r\n\t}\r\n\treturn translatedMetric\r\n}\r\n\r\n/**\r\n * @param text string representing category of marker\r\n * @returns leaflet icon object\r\n */\r\nexport const getMarkerIcon = (marker_category) => {\r\n\t// console.log(marker_category)\r\n\t//source: http://icon-park.com/icon/simple-location-map-pin-icon2-orange-free-vector-data/\r\n\tlet icon_png = (\r\n\t\tmarker_category === 'Noise'\t\t? \"../icons/blue_pin.png\" : \r\n\t\tmarker_category === 'Pollution' ? \"../icons/brown_pin.png\" : \r\n\t\tmarker_category === 'Energy' \t? \"../icons/green_pin.png\" : \r\n\t\tmarker_category === 'Safety' \t? \"../icons/yellow_pin.png\" : \r\n\t\tmarker_category === 'Other' \t? \"../icons/grey_pin.png\" : \r\n\t\t\t\t\t\t\t\t\t\t\"../icons/turquoise_pin.png\" )\r\n\treturn L.icon({\r\n\t\ticonUrl: icon_png,\r\n\t\ticonSize: [24,32], //width, height\r\n\t\ticonAnchor: [13, 44],\r\n\t\tpopupAnchor: [0,-34],\r\n\t\tshadowUrl: null,\r\n\t\tshadowSize: null,\r\n\t\tshadowAnchor: null\r\n\t});\r\n}\r\n\r\n\r\n/**\r\n * @param array of arrays with latitude and longitude decimal values\r\n * @returns centroid array pf bounding box around points\r\n */\r\nconst getCentroidFromPoints = (coord_array) => {\r\n\r\n\t//if there is only one point, return single point\r\n\tif (coord_array.length === 1){\r\n\t\t// console.log(coord_array[0].length )\r\n\t\treturn coord_array[0]\r\n\t} else {\r\n\t\tlet bboxPolygon = getBoundingBox(coord_array);\r\n\t\tlet centroid = turf.centroid(bboxPolygon);\r\n\t\treturn centroid.geometry.coordinates;\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * @param array of arrays with latitude and longitude decimal values\r\n * @returns polygon representing bounding box\r\n */\r\nconst getBoundingBox = (coord_array) => {\r\n\tconsole.log(coord_array)\r\n\t//if there is only one point, duplicate point\r\n\tif (coord_array.length === 1){\r\n\t\treturn coord_array[0]\r\n\t}\r\n\tlet line = turf.lineString(coord_array);\r\n\tlet bbox = turf.bbox(line);\r\n\r\n\treturn turf.bboxPolygon(bbox);\r\n\t\r\n}\r\n\r\n/**\r\n * @param {array} array_of_obj marker objects in array\r\n * @returns {array} array of values of points only\r\n */\r\nconst convertMarkersToArray = (array_of_obj) => {\r\n\tconsole.log(array_of_obj)\r\n\tlet singleArray = array_of_obj.map( item => {\r\n\t\treturn [ item.eventlatitude, item.eventlongitude]\r\n\t})\r\n\t// console.log(array_of_obj)\r\n\t// console.log(singleArray)\r\n\treturn singleArray\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} selection category of marker\r\n * @returns {array} filtered array\r\n */\r\nexport const filterSelectedMarkers = (selection) => {\r\n\treturn (selection === 'All' ? getCache(\"chapaEvents\") : \r\n\t\tgetCache(\"chapaEvents\").filter( item => {\r\n\t\t\treturn selection === item.eventcategory\r\n\t\t})\r\n\t)\r\n}\r\n/**\r\n * \r\n * @param {string} selection category of marker\r\n * @returns {array} centroid array\r\n */\r\nexport const getCentroidFromSelection = (selectedMarkers) => {\r\n\t\r\n\tlet convertedArray = convertMarkersToArray(selectedMarkers)\r\n\t// console.log(event_array\r\n\t\r\n\treturn getCentroidFromPoints(convertedArray)\r\n}\r\n\r\n/**\r\n * \r\n * @param {string} selection category of marker\r\n * @returns {Object} Leaflet object representing map bounds\r\n */\r\nexport const getEventBoundsFromSelection = (selectedMarkers) => {\r\n\t//get filtered selection\r\n\tlet convertedArray = convertMarkersToArray(selectedMarkers)\r\n\t//get bounding box\r\n\tlet bboxPolygon = getBoundingBox(convertedArray);\r\n\t//get nw and se corner of box\r\n\tlet bboxCoords = turf.coordAll(bboxPolygon)\r\n\tconsole.log(bboxCoords)\r\n\tlet corner_1 = L.latLng(bboxCoords[0][0], bboxCoords[0][1])\r\n\tlet corner_2 = L.latLng(bboxCoords[2][0], bboxCoords[2][1])\r\n\tlet bounds = L.latLngBounds(corner_1, corner_2);\r\n\treturn bounds;\r\n}","import React, { Component } from \"react\";\r\nimport { Popup, CircleMarker } from \"react-leaflet\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nclass FindMeIcon extends Component {\r\n\r\n\tdisplayPopUpText(lang, userLocation){\t\r\n\t\tlet text_pt1 = (lang === 'en' ? 'This is your current location!' : 'Esta é a sua localização atual!')\r\n\t\tlet text_pt2 = (lang === 'en' ? `Accuracy: ~${userLocation.accurMeters} meters` : `Precisão: ~${userLocation.accurMeters} metros`)\r\n\r\n\t\treturn(<div>\r\n\t\t\t\t\t\t<Typography variant=\"subtitle2\" gutterBottom>{text_pt1}</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"caption\" gutterBottom>{text_pt2}</Typography>\r\n\t\t\t\t\t</div>  )\r\n\t}\r\n\r\n\trender(){\r\n\t\tlet { language, location } = this.props;\r\n\t\tlet mainColor = '#3498db';\r\n\t\tlet popupLocationText = (language === 'en' ? this.displayPopUpText('en', location) : this.displayPopUpText('pr', location) )\r\n\t\tlet coords = [location.lat, location.long]\r\n\t\t\r\n\t\treturn(<span>\r\n\t\t\t<CircleMarker \r\n\t\t\t\t\tweight={0.0}\r\n\t\t\t\t\tfillOpacity={0.3}\r\n\t\t\t\t\tfillColor={mainColor}\r\n\t\t\t\t\tradius={15}\r\n\t\t\t\t\tcenter={coords}>\r\n\t\t\t</CircleMarker>\r\n\r\n\t\t\t<CircleMarker \r\n\t\t\t\t\tcolor=\"white\"\r\n\t\t\t\t\tweight={1}\r\n\t\t\t\t\tfillOpacity={1}\r\n\t\t\t\t\tfillColor={mainColor}\r\n\t\t\t\t\tradius={7}\r\n\t\t\t\t\tcenter={coords}>\r\n\t\t\t\t\t<Popup>{popupLocationText}</Popup>\r\n\t\t\t</CircleMarker>\r\n\r\n\t\t</span>)\r\n\t}\r\n}\r\n\r\nexport default FindMeIcon;","import React, { Component } from \"react\";\r\nimport { Map, GeoJSON, FeatureGroup } from \"react-leaflet\";\r\nimport * as _constants from \"constants/mapping\";\r\nimport * as _util from \"utils/mapping_utils\";\r\nimport FindMeIcon from \"components/FindMeButton/FindMeIcon\";\r\n\r\nclass LeafletMap extends Component {\r\n\r\n\tcomponentDidMount(){\r\n\t\t// console.log(this.props)\r\n\t\tlet { prefix } = this.props.map_constants;\r\n\t\tlet { type } = this.props.mapLayers;\r\n\t\t//load layers on mount\r\n\t\tthis.props.fetchMapLayerById(prefix, type);\r\n\t}\r\n\r\n  render() {\r\n    let { coordinates, prefix, mapZoom } = this.props.map_constants;\r\n\t\tlet { classes, mapLayers, preferredLanguage, userLocation } = this.props;\r\n\t\t// console.log(this.props)\r\n\t\tlet object_check = Object.keys(mapLayers[prefix]).length\r\n\t\tlet leaflet_layer = <div />;\r\n\r\n\t\tif (object_check > 0) {\r\n      // use the mapped data prefix to get data key \r\n      leaflet_layer = (\r\n        <FeatureGroup >\r\n\t\t\t\t\t<GeoJSON \r\n\t\t\t\t\t\tkey={_util.updateKey()} //this function is needed to update the GeoJSON when new data is loaded\r\n\t\t\t\t\t\tdata={mapLayers[prefix]} \r\n\t\t\t\t\t\tonEachFeature={(feature, layer) => _util.basic_popup(feature, layer, this.props.mapLayers[\"metric\"], preferredLanguage) }  \r\n\t\t\t\t\t\tstyle={ (feature) =>  _util.set_style(feature, this.props.mapLayers[\"metric\"], this.props.mapLayers.colorPalette)} \r\n\t\t\t\t\t\t/>\r\n        </FeatureGroup>\r\n      );\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t<Map \r\n\t\t\tclassName={classes.map} \r\n\t\t\tcenter={coordinates} \r\n\t\t\tzoom={mapZoom}\r\n\t\t\tfadeAnimation={true}\r\n\t\t\tzoomAnimation={true}\r\n\t\t\t>\r\n\t\t\t\r\n\t\t\t{ userLocation.show ? \r\n\t\t\t\t<FindMeIcon location={userLocation} language={preferredLanguage} /> : <div></div> }\r\n\r\n\t\t\t{leaflet_layer}\r\n\r\n\t\t\t{_constants.BASE_MAP_OPTIONS(mapLayers, classes)}\r\n\t\t\t\t\r\n   \t   </Map>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LeafletMap;\r\n","export const LOGIN_CONTENTS = {\r\n\t\ten: {\r\n\t\t\tforgotMsg: 'Forget your username/password? Click Here.',\r\n\t\t\tresetInstr: 'Please enter your email address. We will send you an email to reset your password.',\r\n\t\t\trows: [{\r\n\t\t\t\tid: 'username',\r\n\t\t\t\tname: 'Username',\r\n\t\t\t\ttype: 'text'\r\n\t\t\t},{\r\n\t\t\t\tid: 'password',\r\n\t\t\t\tname: 'Password',\r\n\t\t\t\ttype: 'password'\r\n\t\t\t},{\r\n\t\t\t\tid: 'passwordConfirm',\r\n\t\t\t\tname: 'Confirm Password',\r\n\t\t\t\ttype: 'password'\r\n\t\t\t},{\r\n\t\t\t\tid: 'email',\r\n\t\t\t\tname: 'Email',\r\n\t\t\t\ttype: 'text'\r\n\t\t\t}]\r\n\t\t}\r\n\t\t,\r\n\t\tpr: {\r\n\t\t\tforgotMsg: 'Esqueceu seu nome de usuário / senha? Clique aqui.',\r\n\t\t\tresetInstr: 'Por favor, indique o seu endereço de e-mail. Enviaremos um e-mail para redefinir sua senha.',\r\n\t\t\trows: [{\r\n\t\t\t\tid: 'username',\r\n\t\t\t\tname: 'Nome de Usuário',\r\n\t\t\t\ttype: 'text'\r\n\t\t\t},{\r\n\t\t\t\tid: 'password',\r\n\t\t\t\tname: 'Senha',\r\n\t\t\t\ttype: 'password'\r\n\t\t\t},{\r\n\t\t\t\tid: 'passwordConfirm',\r\n\t\t\t\tname: 'Confirme Senha',\r\n\t\t\t\ttype: 'password'\r\n\t\t\t},{\r\n\t\t\t\tid: 'email',\r\n\t\t\t\tname: 'Email',\r\n\t\t\t\ttype: 'text'\r\n\t\t\t}]\r\n\t\t}\r\n}\r\n\r\nexport const EVENT_FORM_CONTENTS = {\r\n\ten: {\r\n\t\ttitle: 'Event Details',\r\n\t\theader: ['Field Name', 'User Input'],\r\n\t\trows: [{\r\n\t\t\t\tname: 'Event Name',\r\n\t\t\t\tid: 'eventname',\r\n\t\t\t\ttype: 'text'\r\n\t\t\t},{\r\n\t\t\t\tname: 'Event Category',\r\n\t\t\t\tid: 'eventcategory',\r\n\t\t\t\ttype: 'dropdown'\r\n\t\t\t},{\r\n\t\t\t\tname: 'Notes',\r\n\t\t\t\tid: 'eventdescription',\r\n\t\t\t\ttype: 'multiline'\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\tpr: {\r\n\t\ttitle: 'Detalhes do Evento',\r\n\t\theader: ['Field Name', 'User Input'],\r\n\t\trows: [{\r\n\t\t\tname: 'Nome do Evento',\r\n\t\t\tid: 'eventname',\r\n\t\t\ttype: 'text'\r\n\t\t},{\r\n\t\t\tname: 'Descrição do Evento',\r\n\t\t\tid: 'eventcategory',\r\n\t\t\ttype: 'dropdown'\r\n\t\t},{\r\n\t\t\tname: 'Notas',\r\n\t\t\tid: 'eventdescription',\r\n\t\t\ttype: 'multiline'\r\n\t\t}\r\n\t]\r\n\t}\r\n}\r\n\r\nexport const BUTTON_ACTIONS = \r\n\t{\r\n\t\ten: {\r\n\t\t\tsubmit: 'Submit',\r\n\t\t\tcancel: 'Cancel',\r\n\t\t\tpostEvent: 'Post Event',\r\n\t\t\tlogin: 'Login',\r\n\t\t\tsignUp: 'Register',\r\n\t\t\tsignOut: 'Sign Out',\r\n\t\t\tsendEmail: 'Send Email',\r\n\t\t\ttype: 'text',\r\n\t\t\taddPoint: 'Add Point',\r\n\t\t\tresetPassword: 'Reset Password'\r\n\t\t},\r\n\t\tpr: {\r\n\t\t\tsubmit: 'Enviar',\r\n\t\t\tcancel: 'Cancelar',\r\n\t\t\tpostEvent: 'Adicionar Evento',\r\n\t\t\tlogin: 'Conecte-se',\r\n\t\t\tsignUp: 'Registro',\r\n\t\t\tsignOut: 'Sair',\r\n\t\t\tsendEmail: 'Enviar Email',\r\n\t\t\ttype: 'text',\r\n\t\t\taddPoint: 'Adicionar Ponto',\r\n\t\t\tresetPassword: 'Redefinir Senha'\r\n\t\t}\r\n}\r\n\r\nexport const SURVEY_LEGEND = {\r\n\ten:{\r\n\t\ttitle: 'ABOUT',\r\n\t\tdesc: 'This map will display survey results as collected by the user. To see survey results or upload your own data, please login or create an account.' \r\n\t},\r\n\tpr: {\r\n\t\ttitle: 'SOBRE',\r\n\t\tdesc: 'Este mapa exibirá os resultados da pesquisa conforme coletados pelo usuário. Para ver os resultados da pesquisa ou enviar seus próprios dados, faça o login ou crie uma conta.'\r\n\t}\r\n}\r\n\r\nexport const POPOVER_TEXT = {\r\n\ten: {\r\n\t\tfindMe: \"Show Your Location\",\r\n\t\tslider: \"Base Map Transparency\",\r\n\t\tbaseMap: \"Toggle Base Map\",\r\n\t\tpostEvent: \"Registered Users Only\"\r\n\t},\r\n\tpr: {\r\n\t\tfindMe: \"Mostre sua Localização\",\r\n\t\tslider: \"Transparência do Mapa Base\",\r\n\t\tbaseMap: \"Alterar Mapa Base\",\r\n\t\tpostEvent: \"Apenas Usuários Registrados\"\r\n\t}\r\n}\r\n\r\nexport const COLOR_PALETTE = {\r\n\ten: {\r\n\t\tchange: \"Click to change color palette\"\r\n\t\t,instruction: \"Select a Color Palette:\"\r\n\t},\r\n\tpr: {\r\n\t\tchange: \"Clique para alterar a paleta de cores\"\r\n\t\t,instruction: \"Selecione uma paleta de cores:\"\r\n\t}\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport Colors from \"nice-color-palettes\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport ColorPaletteStyle from \"./ColorPaletteStyle\";\r\nimport { Typography, DialogContent } from \"@material-ui/core\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { COLOR_PALETTE } from \"constants/forms\"\r\n\r\nclass ColorPaletteSelector extends Component {\r\n  state = {\r\n    open: false\r\n  };\r\n\r\n  _handleClickOpen = () => {\r\n    this.setState({\r\n      open: true\r\n    });\r\n  };\r\n\r\n  _handleClose = () => {\r\n    this.setState({\r\n      open: false\r\n    });\r\n  };\r\n\r\n  _handleColorChange = (palette, row, action) => {\r\n\t\t// console.log(row);\r\n\t\taction(palette)\r\n    // this.setState({\r\n    //   open: false\r\n    // });\r\n  };\r\n\r\n  render() {\r\n    let { classes, preferredLanguage, action } = this.props;\r\n    // console.log(this.props)\r\n    return (\r\n      <div >\r\n\r\n\t\t\t\t<div className={classes.clickMeContainer}>\r\n\t\t\t\t\t<Typography \r\n\t\t\t\t\t\tvariant=\"caption\" \r\n\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\tclassName={classes.clickMe} \r\n\t\t\t\t\t\tonClick={() => this._handleClickOpen()}>\r\n\t\t\t\t\t\t{ COLOR_PALETTE[preferredLanguage][\"change\"] }\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dialog \r\n\t\t\t\t\tonClose={this._handleClose} \r\n\t\t\t\t\topen={this.state.open} \r\n\t\t\t\t\tmaxWidth=\"md\" >\r\n          <DialogTitle id=\"simple-dialog-title\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<IconButton aria-label=\"close\" className={classes.closeButton} onClick={this._handleClose}>\r\n\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t{ COLOR_PALETTE[preferredLanguage][\"instruction\"] }\r\n\t\t\t\t\t</DialogTitle>\r\n\r\n\t\t\t\t\t<DialogContent dividers>\r\n            <List dense className={classes.myList}>\r\n              {Colors.map((palette, row) => {\r\n                let arrayOfColor = (\r\n                  <span>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tpalette.map( (color, idx) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (<span key={idx} className={classes.quartile} style={{ background: color }} />)\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n                );\r\n\r\n                return (\r\n                  <ListItem\r\n                    button\r\n                    onClick={() => this._handleColorChange(palette, row, action)}\r\n                    key={row}\r\n                  >\r\n                    <ListItemText primary={arrayOfColor} />\r\n                  </ListItem>\r\n                );\r\n              })}\r\n            </List>\r\n\t\t\t\t\t\t</DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(ColorPaletteStyle)(ColorPaletteSelector);\r\n","export default theme => ({\r\n\tclickMeContainer: {\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\tclickMe: {\r\n\t\tcolor: \"blue\", \r\n\t\ttextDecoration: \"underline\" ,\r\n\t\tcursor: \"pointer\"\r\n\t},\r\n\t// myList: {\r\n\t// \tpadding: \"0px 30px\" ,\r\n\t// \twidth: '400px'\r\n\t// },\r\n\tquartile: {\r\n\t\tpadding: \"5px 20px\"\r\n\t}\r\n})","import React, { Component } from \"react\";\r\nimport * as _util from \"utils/mapping_utils\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ColorPaletteSelector from \"./ColorPaletteSelector\";\r\n\r\nclass LeafletMapLegend extends Component {\r\n  render() {\r\n\t\tlet { classes, mapLayers, preferredLanguage } = this.props;\r\n\t\tlet { label, min, max, value, legend } = this.props.mapLayers[\"metric\"];\r\n\t\t// console.log(this.props.mapLayers[\"metric\"])\r\n\t\tlet about_text = _util.getDescription(preferredLanguage, value)\r\n\t\tlet _min_max = _util.legendHelper(preferredLanguage, min, max, legend, value);\r\n\t\treturn ( <div>\r\n\t\t\t{/* if there is nothing to display, we won't show component */}\r\n\t\t\t<Paper className={classes.legendContainer}>\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div className={classes.titleText}>{ label }</div>\r\n\t\t\t\t\t\t<ul className={classes.legendPaletteContainer}>\r\n\t\t\t\t\t\t\t<li className={classes.min}>{_min_max[0]}</li>\r\n\t\t\t\t\t\t\t<li className={classes.max}>{_min_max[1]}</li>\r\n\t\t\t\t\t\t\t<li className={classes.graph}>\r\n\t\t\t\t\t\t\t\t<div className={classes.colors}>\r\n\t\t\t\t\t\t\t\t{ mapLayers.colorPalette === null ? <div/> :\r\n\t\t\t\t\t\t\t\t mapLayers.colorPalette.map( (elem, idx) => {\r\n\t\t\t\t\t\t\t\t\t\treturn(<div  key={idx}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t className={classes.quartile} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t style={{ backgroundColor:elem }} ></div>)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div className={classes.aboutText}>{about_text}</div>\r\n\t\t\t\t\t\t<ColorPaletteSelector action={this.props.updateColorPalette} preferredLanguage={this.props.preferredLanguage} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t</div>)\r\n  }\r\n}\r\n\r\nexport default LeafletMapLegend;\r\n","import axios from \"axios\";\r\n\r\n// export const fetchMapLayer = map_layer_id => async dispatch => {\r\n// \t\t// map_layer_id = \"sao_districts\"\r\n// \t\tconst res = await axios.get(\"../temp_data/\" + map_layer_id + \".json\");\r\n// \t\t// console.log(res.data.);\r\n// \t\tdispatch({type: \"GET_MAP_LAYER\", payload: res.data});\r\n// };\r\n\r\nexport const fetchMapLayerById = (map_layer_id, geo_type) => async dispatch => {\r\n\t// map_layer_id = \"sao_districts\"\r\n\t// console.log(map_layer_id, geo_type)\r\n\tlet _url =  \"../temp_data/\" + map_layer_id + \"_\" + geo_type + \".json\";\r\n\t// console.log(_url)\r\n\tconst res = await axios.get(_url);\r\n\t// console.log(res.data);\r\n\tdispatch({type: \"GET_MAP_LAYER_BY_ID\", payload: res.data, id: map_layer_id });\r\n};\r\n\r\nexport const updateLayerStyle = (metric) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_LAYER_METRIC\",\r\n\t\tpayload: metric\r\n  };\r\n  return action;\r\n}\r\n\r\nexport const updateLayerOpacity = (opacity) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_LAYER_OPACITY\",\r\n\t\tpayload: opacity\r\n\t}\r\n\treturn action;\r\n}\r\n\r\n\r\nexport const updateBaseLayer = (selection) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_BASE_LAYER\",\r\n\t\tpayload: selection\r\n\t}\r\n\treturn action;\r\n}\r\n\r\n\r\nexport const updateLayerType = (geoType) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_LAYER_TYPE\",\r\n\t\tpayload: geoType\r\n  };\r\n  return action;\r\n}\r\n\r\n\r\nexport const translateMetric = (language) => {\r\n\tconst action = {\r\n\t\ttype: \"TRANSLATE_METRIC\",\r\n\t\tpayload: language\r\n\t}\r\n\treturn action\r\n}\r\n\r\nexport const updateColorPalette = (palette) => {\r\n\t// console.log(palette)\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_COLOR_PALETTE\",\r\n\t\tpayload: palette\r\n\t}\r\n\treturn action\r\n}\r\n\r\nexport const updateMapCenterCoordinates = (coords) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_MAP_CENTER_COORDINATES\",\r\n\t\tpayload: coords\r\n\t}\r\n\treturn action\r\n}\r\nexport const updateMapZoom = (zoom) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_MAP_ZOOM\",\r\n\t\tpayload: zoom\r\n\t}\r\n\treturn action\r\n}\r\nexport const updateMapBounds = (bounds) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_MAP_BOUNDS\",\r\n\t\tpayload: bounds\r\n\t}\r\n\treturn action\r\n}\r\n","import Joi from '@hapi/joi';\r\n\r\nexport const REGISTER_SCHEMA = Joi.object({\r\n\t// user_id: Joi.string().regex(/[a-zA-Z0-9-_]/).required(),\r\n\tusername: Joi.string().regex(/[a-zA-Z0-9-_]/).min(5).max(30).required(),\r\n\tpassword: Joi.string().regex(/^[a-zA-Z0-9]{6,30}$/),\r\n\temail: Joi.string().email({ minDomainSegments: 2, tlds: { allow: ['com', 'net', 'io', 'gov'] } })\r\n});\r\n\r\nexport const LOGIN_SCHEMA = Joi.object({\r\n\t// user_id: Joi.string().regex(/[a-zA-Z0-9-_]/).required(),\r\n\tusername: Joi.string().regex(/[a-zA-Z0-9-_]/).min(5).max(30).required(),\r\n\tpassword: Joi.string().regex(/^[a-zA-Z0-9]{6,30}$/)\r\n});\r\n\r\nexport const RESET_SCHEMA = Joi.object({\r\n\t// user_id: Joi.string().regex(/[a-zA-Z0-9-_]/).required(),\r\n\t// username: Joi.string().regex(/[a-zA-Z0-9-_]/).min(5).max(30).required(),\r\n\tpassword: Joi.string().regex(/^[a-zA-Z0-9]{6,30}$/),\r\n\temail: Joi.string().email({ minDomainSegments: 2, tlds: { allow: ['com', 'net', 'io', 'gov'] } })\r\n});","export const navigateTo = (destination, ctx) => {\r\n  // console.log(ctx);\r\n  // console.log(destination)\r\n  ctx.navLocation.push(\"/\" + destination + \"\");\r\n};","/**\r\n * This document contains functions and variables for getting strings for portuguese and english.\r\n */\r\nexport const getWelcomeHeadline = (lang, user) => {\r\n\treturn (lang === 'en' ?\r\n\t\t`Welcome to the App, ${user}!`:\r\n\t\t`Bem-vindo ao aplicativo, ${user}!`)\r\n}\r\n\r\nexport const getWelcomeInstructions = (lang) => {\r\n\treturn (lang === 'en' ?\t\r\n\t\t`You now have the ability to report points in the Survey section of the app. More features will be coming as we get to them!` :\r\n\t\t`Agora você tem a capacidade de relatar pontos na seção Pesquisa do aplicativo. Mais recursos virão à medida que chegarmos a eles!`)\r\n\t\r\n}\r\n\r\nexport const getVideoInstructions = (lang) => {\r\n\treturn (lang === 'en' ? \r\n\t\t`Watch the video below for a quick, one minute introduction.` :\r\n\t\t`Assista ao vídeo abaixo para uma rápida introdução de um minuto` )\r\n}\r\n\r\nexport const getLandingPageText = (lang) => {\r\n\treturn (lang === 'en' ?\r\n\t\t`ComuniDADOS is a data visualization tool designed to help citizens and their governments make decisions about the future of urban neighborhoods. Its current form visualizes 50 of over 400 variables studied within a comparative analysis of redevelopment's (\"upgrading\") impact on 903 households located within two of Sao Paulo's largest informal settlements. \r\n\t\t\\n\r\n\t\tEstablished with the support of a National Science Foundation Postdoctoral Fellowship (2015 – 2017), ComuniDADOS was constructed by Nathan Brigmon and Kristine Stiphany.\r\n\t\t\\n\r\n\t\tExplore allied work, research methodology, and ComuniDADOS future phasing at www.chapa.io.` :\r\n\t\t\r\n\t\t`O ComuniDADOS é uma ferramenta de visualização de dados projetada para ajudar os cidadãos e seus governos a tomar decisões sobre o futuro dos bairros urbanos. Sua forma atual visualiza 50 das mais de 400 variáveis estudadas em uma análise comparativa do impacto da remodelação (\"modernização\") em 903 famílias localizadas em dois dos maiores assentamentos informais de São Paulo.\r\n\t\t\\n\r\n\t\tEstabelecido com o apoio de uma bolsa de pós-doutorado da National Science Foundation (2015 - 2017), o ComuniDADOS foi construído por Nathan Brigmon e Kristine Stiphany.\r\n\t\t\\n\r\n\t\tExplore o trabalho aliado, a metodologia de pesquisa e as fases futuras do ComuniDADOS em www.chapa.io.`\r\n\t\t)\r\n}\r\n\r\nexport const getMarkerEventText = (lang) => {\r\n\treturn (lang === 'en' ? \"Location of the Event\": \"Local do Evento\")\r\n} \r\n\r\nexport const getMarkerDirectionsText = ({preferredLanguage, userLocation}) => {\r\n\t//if there is no user location (no geolocation enabled), return instructions on how to add a basic point\r\n\treturn (userLocation.lat === null && preferredLanguage === 'en' ? \r\n\t\t'If your location is not enabled, use the map to navigate and click \"Add Point\" to place a marker' : \r\n\t\tuserLocation.lat === null && preferredLanguage === 'pr' ? \r\n\t\t'Se a sua localização não estiver activada, utilize o mapa para navegar e clique em \"Adicionar Ponto\" para colocar um marcador.' :\r\n\t\tpreferredLanguage === 'en' ? \"The marker is moveable! Try and place it in the location of the reported event.\": \r\n\t\t\"O marcador é móvel! Tente colocá-lo no local do evento relatado.\")\r\n} \r\n\r\nexport const interpretErrorMessage = (msg, lang) => {\r\n\tlet errorText;\r\n\t//password match fail\r\n\tif (msg.includes(\"password match\")) {\r\n\t\terrorText = ( lang === 'en' ? \r\n\t\t\t'Sorry! Your passwords do not match! Try again.' : \r\n\t\t\t'Desculpa! Suas senhas não coincidem! Tente novamente.')\r\n\t} else if (msg.includes(\"username\")){\r\n\t\terrorText = ( lang === 'en' ? \r\n\t\t`\"Username\" length must be at least five characters long.` :\r\n\t\t`O comprimento do \"Nome de Usuário\" deve ter pelo menos cinco caracteres.`)\r\n\t} else if (msg.includes(`\"password\" is not allowed`)){\r\n\t\terrorText = ( lang === 'en' ? \r\n\t\t`\"Password\" is not allowed to be empty.` :\r\n\t\t`\"Senha\" não pode ficar vazia.`)\r\n\t} else if (msg.includes(`\"email\" is not allowed`)){\r\n\t\terrorText = ( lang === 'en' ? \r\n\t\t`\"Email\" is not allowed to be empty.` :\r\n\t\t`\"Email\" não pode ficar vazia.`)\r\n\t} else if (msg.includes(`\"email\" must be a valid email`)){\r\n\t\terrorText = ( lang === 'en' ? \r\n\t\t`\"Email\" must be a valid email address.` :\r\n\t\t`\"Email\" deve ser um email válido.`)\r\n\t} else if (msg.includes(`password`) && msg.includes(`fails to match the required pattern`)){\r\n\t\terrorText = ( lang === 'en' ? \r\n\t\t`\"Password\" field must be at least six characters in length.` :\r\n\t\t`\"Senha\" deve ter pelo menos seis caracteres.`)\r\n\t} else {\r\n\t\terrorText = msg\r\n\t} \r\n\treturn errorText\r\n}\r\n\r\n","import { LOGIN_SCHEMA, REGISTER_SCHEMA, RESET_SCHEMA } from \"schemas/loginSchema\";\r\nimport { navigateTo } from \"utils/nav_utils\";\r\nimport { interpretErrorMessage } from \"utils/language_utils\";\r\n\r\n/// USER LOCATION\r\nlet errorState = {\r\n\tshow: false,\r\n\tlat: 0,\r\n\tlong: 0,\r\n\taccurMeters: 0,\r\n\terr: true,\r\n\terrMsg: \"There was an error of some kind... Sorry!\"\r\n}\r\n\r\nfunction requestPosition() {\r\n  // additionally supplying options for fine tuning, if you want to\r\n  let options = {\r\n    enableHighAccuracy: true,\r\n    timeout:    5000,   // time in millis when error callback will be invoked\r\n    maximumAge: 0,      // max cached age of gps data, also in millis\r\n  };\r\n\r\n  return new Promise(function(resolve, reject) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      pos => { resolve({\r\n\t\t\t\tshow: true,\r\n\t\t\t\tlat: pos.coords.latitude,\r\n\t\t\t\tlong: pos.coords.longitude,\r\n\t\t\t\taccurMeters: pos.coords.accuracy, \r\n\t\t\t\terr: false,\r\n\t\t\t\terrMsg: \"success\"\r\n\t\t\t}); }, \r\n      err => { reject (errorState); }, \r\n      options);\r\n  });\r\n}\r\n\r\nexport const getUserCoordinates = async () => {\r\n\tlet userState = {}\r\n\t// // console.log('trying to get user coordinates...')\r\n\tif (navigator.geolocation) {\r\n\t\t\r\n\t\tuserState = await requestPosition();\r\n\t\t// (position) => {\t\t\t//\r\n\t} else {\r\n\t\tuserState = errorState;\r\n\t}\r\n\r\n\tif (userState === undefined){\r\n\t\tuserState = {}\r\n\t}\r\n\treturn  userState;\r\n\t\r\n};\r\n\r\n//USER TOKEN FUNCTIONS\r\n// let createExpiryToken = function(){\r\n//     let dateObj = new Date();\r\n//     let dateMilliseconds = dateObj.getTime() //convert to milliseconds\r\n//     let encryptedToken = (dateMilliseconds + Number(process.env.TOKEN_ADDITION) ).toString(16) //add custom addition and then HEX\r\n//     let dubdubToken = String(encryptedToken) + String(encryptedToken)\r\n//     return dubdubToken\r\n// }\r\n\r\nconst decryptExpiryToken = (token) => {\r\n\tlet halfToken = token.substring(0, token.length/2) //token is doubled, so we half it\r\n\treturn parseInt(halfToken, 16) - 3005 //convert back to decimal and use 3005 as adjustment\r\n}\r\n\r\nexport const checkExpiryToken = (token) => {\r\n\t// this function decrypts the token and returns true or false depending on 24 hr time constraint\r\n\tlet decryptedToken = decryptExpiryToken(token)\r\n\tlet dateObj = new Date();\r\n\tlet dateMilliseconds = dateObj.getTime() //convert to milliseconds\r\n\tlet timeBalance = (( (dateMilliseconds - decryptedToken) / 1000 ) / 60 / 60 ) //current timestamp in milliseconds vs token milliseconds (hours)\r\n\t// console.log(timeBalance)\r\n\treturn ( timeBalance > 24 ? true : \r\n\t\t\t timeBalance === undefined ? true :\r\n\t\t\t isNaN(timeBalance) ? true : false ) //true -> has expired\r\n}\r\n\r\n//USER LOGIN FUNCTIONS\r\n\r\nconst validateSchema = (state) => {\r\n\tlet results;\r\n\tif (state.view === 'Login'){\r\n\t\tresults = LOGIN_SCHEMA.validate({username: state.username, password: state.password});\r\n\t} else if (state.view === 'Register'){\r\n\t\tresults = REGISTER_SCHEMA.validate({username: state.username, password: state.password, email: state.email});\r\n\t} else {\r\n\t\t//there is no view state and this is password reset\r\n\t\tresults = RESET_SCHEMA.validate({password: state.password, email: state.email});\r\n\t}\r\n\treturn results;\r\n}\r\n\r\n\r\nexport const handleLoginEvent = (_props, _state) => {\r\n\t//put loading animation in play\r\n\t_props.startLoadingAnimation()\r\n\t\r\n\tlet validCredentials = validateSchema(_state)\r\n\t//test credentials \r\n\tif (validCredentials.error !== undefined){\r\n\t\t\r\n\t\tlet errMsg = interpretErrorMessage(validCredentials.error.details[0].message, _props.preferredLanguage);\r\n\t\t_props.userLoginFail(errMsg)\r\n\t\t// this.props.updateLoadingAnimation()\r\n\r\n\t} else {\r\n\t\t// basic validation is passed\r\n\t\t/// USER iS LOGGING IN\r\n\t\tif (_state.view === 'Login'){\r\n\t\t\t_props.userLogin(_state)\r\n\t\t\t//if success will navigate home\r\n\t\t\tnavigateTo(\"home\", _props);\r\n\t\t} else {\r\n\t\t\t/// USER IS REGISTERING OR UPDATING PASSWORD\r\n\t\t\tif (_state.password !== _state.passwordConfirm) {\r\n\t\t\t\tlet pwErr = interpretErrorMessage(\"password match\", _props.preferredLanguage)\r\n\t\t\t\t_props.userLoginFail(pwErr)\r\n\r\n\t\t\t} else if (_state.view === 'Register'){\r\n\t\t\t\t//success\r\n\t\t\t\t_props.userRegister(_state);\r\n\t\t\t\t//if success will navigate home\r\n\t\t\t\tnavigateTo(\"home\", _props);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t//USER IS UPDATING PASSWORD\r\n\t\t\t\t_props.userUpdatePassword(_state);\r\n\t\t\t\tnavigateTo(\"home\", _props);\r\n\r\n\t\t\t}\r\n\t\t\t_props.stopLoadingAnimation() //stop loading animation\r\n\r\n\t\t}\r\n\t}\r\n}\r\n","export const API_CONFIG = {\r\n\theaders: {\r\n\t\t'Content-Type':'application/json',\r\n\t},\r\n\tauth: process.env.REACT_APP_SERVER_KEY\r\n}","import axios from 'axios';\r\nimport { getUserCoordinates } from \"utils/user_utils\";\r\nimport { API_CONFIG } from \"constants/axios_config\";\r\n\r\n/* USER ACTIONS */\r\nexport const defaultUser = () => {\r\n  const action = {\r\n    type: \"DEFAULT_USER\"\r\n  };\r\n  return action;\r\n};\r\n\r\nexport const handleUserUpdate = (_id, _val) => {\r\n\t// console.log(_id)\r\n\t// console.log(_val)\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_USER_INFO\"\r\n\t\t,payload: {\r\n\t\t\t_id,\r\n\t\t\t_val\r\n\t\t}\r\n\t};\r\n\treturn action\r\n}\r\n\r\nexport const userLogin = (user) => async dispatch => {\r\n\t\r\n\tAPI_CONFIG.data = user;\r\n\t\r\n\tawait axios.post(process.env.REACT_APP_API_URL+'api/existing_user/', API_CONFIG)\r\n\t\t.then( (response) => {\r\n\t\t\tdispatch({ type: 'EXISTNG_USER_LOGIN', payload: response.data });\r\n\t\t})\r\n\t\t.catch( (error) => {\r\n\t\t\tconsole.log(Object.keys(error))\r\n\t\t\tconsole.log(Object.values(error))\r\n\t\t\tif (error.isAxiosError){\r\n\t\t\t\tdispatch({ type: 'USER_LOGIN_NETWORK_FAIL', payload: 'Network error. Please try again later :(' });\r\n\t\t\t}\r\n\t\t})\t\r\n\r\n}\r\n\r\nexport const userRegister = (user) => async dispatch => {\r\n\t// console.log('registering new user...')\r\n\t// console.log(user)\r\n\tAPI_CONFIG.data = user;\r\n\tconst res = await axios.post(process.env.REACT_APP_API_URL+'api/new_user/', API_CONFIG);\t\t\r\n\t// const res = await axios.post('/api/new_user/', user);\t\r\n\t// console.log('received registered response...')\r\n\t// console.log(res)\r\n\r\n\tdispatch({ type: 'NEW_USER_REGISTER', payload: res.data });\r\n}\r\n\r\nexport const userUpdatePassword = (user) => async dispatch => {\r\n\t\r\n\tAPI_CONFIG.data = user;\r\n\tlet { email } = user;\r\n\t// console.log(API_CONFIG)\r\n\tawait axios.put(process.env.REACT_APP_API_URL+'api/existing_user/'+email, API_CONFIG)\r\n\t\t.then( (response) => {\r\n\t\t\tif (response.err){\r\n\t\t\t\tdispatch({ type: 'SEND_TOAST_INFO', payload: response.errMsg });\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({ type: 'SEND_TOAST_SUCCESS', payload: 'Password Updated! Login using your new credentials' });\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch( (error) => {\r\n\t\t\tconsole.log(Object.keys(error))\r\n\t\t\tconsole.log(Object.values(error))\r\n\t\t\tif (error.isAxiosError){\r\n\t\t\t\tdispatch({ type: 'USER_LOGIN_NETWORK_FAIL', payload: 'Network error. Please try again later :(' });\r\n\t\t\t}\r\n\t\t})\t\r\n}\r\n\r\nexport const userLoginFail = (msg) => {\r\n\tconst action = {\r\n\t\ttype: \"USER_LOGIN_FAIL\"\r\n\t\t,payload: msg\r\n\t};\r\n\treturn action\r\n}\r\n\r\nexport const addUserLocation = (show) => async dispatch => {\r\n\t//if we decide to show, get usercoordinates\r\n\tif (show){\r\n\t\tconst res = await getUserCoordinates();\r\n\t\t// console.log(res)\r\n\t\tdispatch({ type: \"ADD_USER_LOCATION\", payload: res });\r\n\t} else {\r\n\t\t//if we decide not to show, we remove location\r\n\t\tdispatch({ type: \"NO_LOCATION\",\tpayload: show });\r\n\t}\r\n}\r\n\r\nexport const updateUserLocation = (coords) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_USER_LOCATION\",\r\n\t\tpayload: coords\r\n\t}\r\n\treturn action;\r\n}\r\n\r\nexport const addFeauxLocation = (coords) => {\r\n\tlet res = {\r\n\t\tshow: true,\r\n\t\tlat: coords[0],\r\n\t\tlong: coords[1],\r\n\t\taccurMeters: 0, \r\n\t\terr: false,\r\n\t\terrMsg: \"success\"\t\r\n\t}\r\n\tconst action = {\r\n\t\ttype: \"ADD_FEAUX_USER_LOCATION\"\r\n\t\t,payload: res\r\n\t};\r\n\treturn action\r\n}\r\n\r\nexport const userSignOut =  () => {\r\n\tconst action = {\r\n\t\ttype: \"SIGN_OUT_USER\"\r\n\t};\r\n\treturn action\r\n\r\n}\r\n\r\n\r\nexport const sendPasswordResetEmail = (user) => async dispatch => {\r\n\t\r\n\tAPI_CONFIG.data = user;\r\n\t\r\n\tawait axios.post(process.env.REACT_APP_API_URL+'api/password_reset/', API_CONFIG)\r\n\t\t.then( (response) => {\r\n\t\t\tdispatch({ type: 'SEND_TOAST_SUCCESS', payload: 'Email Sent! Check your inbox for resetting instructions.' });\r\n\t\t})\r\n\t\t.catch( (error) => {\r\n\t\t\tconsole.log(Object.keys(error))\r\n\t\t\tconsole.log(Object.values(error))\r\n\t\t\tif (error.isAxiosError){\r\n\t\t\t\tdispatch({ type: 'SEND_TOAST_ERROR', payload: 'Network error. Please try again later :(' });\r\n\t\t\t}\r\n\t\t})\t\r\n\r\n}","export const fetchRandomId = () => {\r\n  const action = {\r\n    type: \"FETCH_RANDOM_ID\"\r\n  };\r\n  return action;\r\n};\r\n\r\nexport const startLoadingAnimation = () => {\r\n  const action = {\r\n    type: \"START_LOADING_ANIMATION\"\r\n  };\r\n  return action;\r\n};\r\n\r\nexport const stopLoadingAnimation = () => {\r\n  const action = {\r\n    type: \"STOP_LOADING_ANIMATION\"\r\n  };\r\n  return action;\r\n};\r\n\r\nexport const closeToast = () => {\r\n  const action ={\r\n    type: \"CLOSE_TOAST\"\r\n  }\r\n  return action;\r\n}","export const updatePopOver = (event) => {\r\n\tconst action = {\r\n\t\ttype: \"UPDATE_POPOVER\",\r\n\t\tpayload: event\r\n\t}\r\n\treturn action\r\n}","\r\nexport const setLocation = (hist) => {\r\n\tconst action = {\r\n\t\ttype: \"SET_NAV\",\r\n\t\tpayload: hist\r\n\t}\r\n\treturn action;\r\n}\r\n\r\nexport const toggleDrawer = (state) => {\r\n\tconst action = {\r\n\t\ttype: \"TOGGLE_DRAWER\",\r\n\t\tpayload: state\r\n\t}\r\n\treturn action;\r\n}","export const setLanguage = (language) => {\r\n\tconst action = {\r\n\t\ttype: \"SET_LANGUAGE\",\r\n\t\tpayload: language\r\n\t}\r\n\treturn action\r\n}\r\n","import axios from 'axios';\r\nimport { API_CONFIG } from \"constants/axios_config\";\r\n\r\nexport const postNewEvent = (event) => async dispatch => {\r\n\t\r\n\tAPI_CONFIG.data = event;\r\n\tconst res = await axios.post(process.env.REACT_APP_API_URL+'api/chapa_event/', API_CONFIG);\t\r\n\tconsole.log(res)\r\n\r\n\tdispatch({ type: 'NEW_CHAPA_EVENT', payload: res.data.data });\r\n}\r\n\r\nexport const fetchAllEvents = () => async dispatch => {\r\n\r\n\tconst res = await axios.get(process.env.REACT_APP_API_URL+'api/chapa_event/');\t\r\n\t// console.log('returnning all events')\r\n\tdispatch({ type: 'ALL_CHAPA_EVENTS', payload: res.data });\r\n\r\n}\r\n\r\n\r\nexport const selectEventCategory = (cat) => {\r\n\tconst action = {\r\n\t\ttype: \"SELECT_EVENT_CATEGORY\",\r\n\t\tpayload: cat\r\n\t}\r\n\treturn action\r\n}\r\n\r\nexport const filterChapaEvents = (metric) => {\r\n\tconst action = {\r\n\t\ttype: \"FILTER_EVENTS_BY_METRIC\",\r\n\t\tpayload: metric\r\n\t}\r\n\treturn action\r\n}","import React, { Component} from 'react';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport ToggleStyle from \"components/Map/BaseMapToggle/ToggleStyle\";\r\nimport LayersIcon from '@material-ui/icons/Layers';\r\nimport { POPOVER_TEXT } from \"constants/forms\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nclass BaseMapToggle extends Component {\r\n\r\n\t\t_handleMouseClick = (baseMapSelection) => {\r\n\t\t\t//we only have 3 base maps so the toggle will select numbers 0, 1, 2\r\n\t\t\tbaseMapSelection = (baseMapSelection+1) % 3;\r\n\t\t\t// console.log(baseMapSelection)\r\n\t\t\tthis.props.updateBaseLayer(baseMapSelection)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\t\tlet { classes, preferredLanguage, mapLayers, popover } = this.props;\r\n\t\t\t\tlet { baseMapSelection } = mapLayers;\r\n\t\t\t\tlet popUpText = POPOVER_TEXT[preferredLanguage]['baseMap'];let popOverId = 'slider-basemap';\r\n\t\t\t\tlet openLogic = (popover.open && popover.anchor.id === popOverId)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t\t<Paper className={classes.container}\r\n\t\t\t\t\t\tonMouseEnter={this.props.updatePopOver}\r\n\t\t\t\t\t\tonMouseLeave={this.props.updatePopOver}\r\n\t\t\t\t\t\tid={popOverId}\r\n\t\t\t\t\t\tonClick={() => this._handleMouseClick(baseMapSelection)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.interior} \r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<LayersIcon  fontSize=\"large\"/>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Popover\r\n\t\t\t\t\t\t\t\t\t\tid=\"mouse-over-popover\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.popover}\r\n\t\t\t\t\t\t\t\t\t\tclasses={{ paper: classes.paper }}\r\n\t\t\t\t\t\t\t\t\t\topen={openLogic}\r\n\t\t\t\t\t\t\t\t\t\tanchorEl={popover.anchor}\r\n\t\t\t\t\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\t\t\t\t\tvertical: 6,\r\n\t\t\t\t\t\t\t\t\t\t\thorizontal: 'center'\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\t\t\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\t\t\t\t\t\t\thorizontal: 'center',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClose={this.props.updatePopOver}\r\n\t\t\t\t\t\t\t\t\t\tdisableRestoreFocus>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.text}> { popUpText } </Typography>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t);\r\n\t\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tmapLayers: state.mapLayers\r\n\t\t,userLocation: state.userLocation\r\n\t\t,popover: state.popover\r\n\t\t,preferredLanguage: state.preferredLanguage\r\n  };\r\n}\r\n\r\nexport default withStyles(ToggleStyle)(connect(mapStateToProps, actions)(BaseMapToggle));","export default theme => ({\r\n\tcontainer: {\r\n\t\tposition: \"absolute\"\r\n\t\t,padding: \"6px 10px\"\r\n\t\t,right: \"20px\"\r\n\t\t,zIndex: \"500\"\r\n\t\t,boxShadow: 'rgba(0, 0, 0, 0.2) 0 0 5px 1px'\r\n\t\t,cursor: \"pointer\"\r\n\t\t,border: '1px solid #999'\r\n\t\t,borderRadius: '2px'\r\n\t\r\n\t\t,[theme.breakpoints.down('xs')]: {\r\n\t\t\ttop: '116px'\r\n\t\t},\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\ttop: '121px'\r\n\t\t},\r\n\t},  \r\n\tpopover: {\r\n\t\tpointerEvents: 'none',\r\n\t\ttop: '130px'\r\n\t},\r\n\tinterior:{\r\n\t\tmarginTop: '5px'\r\n\t},\r\n  paper: {\r\n\t\tmarginRight: '75px'\r\n\t\t,marginLeft: '-65px'\r\n\t},\r\n\ttext: {\r\n\t\t// display: \"block\"\r\n\t\t// ,position: \"absolute\"\r\n\t\tpadding: \"9px 13px\"\r\n\t\t,color: \"#aaa\"\r\n\t\t,background: \"black\"\r\n\t\t,fontSize: \"12px\"\r\n\t}\r\n})","import React, { Component } from \"react\";\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\n// import Popover from '@material-ui/core/Popover';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport SliderTransparencyStyle from \"./SliderTransparencyStyle\";\r\n\r\n\r\nclass SliderTransparency extends Component {\r\n\r\n\t_onSliderUpdate(obj, evt){\r\n\t\tlet adjusted_variable = ( Number(evt) / 100 ).toFixed(1)\r\n\t\tthis.props.updateLayerOpacity(adjusted_variable)\r\n\t}\r\n\r\n\trender(){\r\n\t\tlet { classes, mapLayers } = this.props\r\n\t\tlet adjusted_opacity = ( Number(mapLayers.baseMapOpacity) * 100 )\r\n\t\t// console.log(adjusted_opacity)\r\n\t\treturn (\r\n\t\t<div >\r\n      <Slider\r\n\t\t\t\tclasses={classes}\r\n        defaultValue={adjusted_opacity}\r\n\t\t\t\tvalueLabelDisplay=\"auto\"\r\n        step={10}\r\n        // marks\r\n        min={0}\r\n\t\t\t\tmax={100}\r\n\t\t\t\tonChange={(obj, evt) => this._onSliderUpdate(obj, evt)}\r\n      />\r\n\r\n\t\t</div>)\r\n\t}\r\n}\r\n\r\nexport default withStyles(SliderTransparencyStyle)(SliderTransparency);","export default theme => ({\r\n\t\troot: {\r\n\t\t\t// color: '#52af77',\r\n\t\t\theight: 8,\r\n\t\t},\r\n\t\tthumb: {\r\n\t\t\theight: 24,\r\n\t\t\twidth: 24,\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t\tborder: '2px solid currentColor',\r\n\t\t\tmarginTop: -8,\r\n\t\t\tmarginLeft: -12,\r\n\t\t\t'&:focus,&:hover,&$active': {\r\n\t\t\t\tboxShadow: 'inherit',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {},\r\n\t\tvalueLabel: {\r\n\t\t\tleft: 'calc(-50% + 4px)',\r\n\t\t},\r\n\t\ttrack: {\r\n\t\t\theight: 8,\r\n\t\t\tborderRadius: 4,\r\n\t\t},\r\n\t\trail: {\r\n\t\t\theight: 8,\r\n\t\t\tborderRadius: 4,\r\n\t\t},\r\n})","import React, { Component} from 'react';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { POPOVER_TEXT } from \"constants/forms\";\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport SliderTransparency from \"./SliderTransparency\"\r\nimport SliderContainerStyle from \"./SliderContainerStyle\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nclass SliderContainer extends Component {\r\n\r\n\t\trender() {\r\n\t\t\t\tlet { classes, preferredLanguage, popover, ...rest } = this.props;\r\n\t\t\t\tlet popUpText = POPOVER_TEXT[preferredLanguage]['slider'];\r\n\t\t\t\tlet popOverId = 'slider-popover'\r\n\t\t\t\tlet openLogic = (popover.open && popover.anchor.id === popOverId)\r\n\t\t\t\t// console.log(openLogic)\r\n\t\t\t\t// console.log(this.props.mapLayers[\"metric\"])\r\n\t\t\t\t// console.log(classes)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className={classes.container}\r\n\t\t\t\t\t\t\tonMouseEnter={this.props.updatePopOver}\r\n\t\t\t\t\t\t\tonMouseLeave={this.props.updatePopOver}\r\n\t\t\t\t\t\t\tid={popOverId}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Popover\r\n\t\t\t\t\t\t\t\t\t\tid=\"mouse-over-popover\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.popover}\r\n\t\t\t\t\t\t\t\t\t\tclasses={{ paper: classes.paper }}\r\n\t\t\t\t\t\t\t\t\t\topen={openLogic}\r\n\t\t\t\t\t\t\t\t\t\tanchorEl={popover.anchor}\r\n\t\t\t\t\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\t\t\t\t\tvertical: 6,\r\n\t\t\t\t\t\t\t\t\t\t\thorizontal: 'center'\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\t\t\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\t\t\t\t\t\t\thorizontal: 'center',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClose={this.props.updatePopOver}\r\n\t\t\t\t\t\t\t\t\t\tdisableRestoreFocus>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.text}> { popUpText } </Typography>\r\n\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<SliderTransparency {...rest } />\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tmapLayers: state.mapLayers\r\n\t\t,userLocation: state.userLocation\r\n\t\t,preferredLanguage: state.preferredLanguage\r\n\t\t,popover: state.popover\r\n  };\r\n}\r\n\r\nexport default withStyles(SliderContainerStyle)(connect(mapStateToProps, actions)(SliderContainer));","export default theme => ({\r\n\t\tcontainer: {\r\n\t\t\tposition: \"absolute\"\r\n\t\t\t,top: \"190px\"\r\n\t\t\t,right: \"23px\"\r\n\t\t\t,zIndex: \"500\"\r\n\t\t\t,width: \"110px\"\r\n\t\t\t,height: \"30px\"\r\n\t\t},\r\n\t\tpopover: {\r\n\t\t\tpointerEvents: 'none',\r\n\t\t\ttop: '130px'\r\n\t\t},\r\n\t\tinterior:{\r\n\t\t\tmarginTop: '5px'\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\tmarginLeft: '-5px'\r\n\t\t\t,marginRight: '0'\r\n\t\t\t,marginTop: '30px'\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\t// display: \"block\"\r\n\t\t\t// ,position: \"absolute\"\r\n\t\t\tpadding: \"9px 13px\"\r\n\t\t\t,color: \"#aaa\"\r\n\t\t\t,background: \"black\"\r\n\t\t\t,fontSize: \"12px\"\r\n\t\t}\r\n})","export default theme => ({\r\n\troot: {\r\n\t  // flexGrow: 1\r\n\t  // height: \"35px\",\r\n\t  // background: \"black\"\r\n\t  // background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\"\r\n\t},\r\n\tmap: {\r\n\t\t  position: \"fixed\"\r\n\t  ,height: \"100vh\"\r\n\t\t  ,width: \"50%\"\r\n\t\t  ,background: \"white\"\r\n\t\t  // ,borderRight: \"inset white\"\r\n\t\t  // ,borderLeft: \"inset white\"\r\n\t  },\r\n\t  surveyMap:{\r\n\t\t  position: \"fixed\"\r\n\t  ,height: \"100vh\"\r\n\t\t  ,width: \"100%\"\r\n\t\t  ,background: \"white\"\r\n\t  },\r\n\t  mapContainer:{\r\n\t\t  margin: 0\r\n\t\t  ,height: \"100%\"\r\n\t\t  ,width: \"100%\"\r\n\t\t  ,position:\"relative\"\r\n\t  },\r\n\t  legendContainer: {\r\n\t\t  left: '10px',\r\n\t\t  bottom: '10px',\r\n\t\t  width: '300px',\r\n\t\t  borderRadius: '4px',\r\n\t\t  zIndex: '8999',\r\n\t\t  position: 'absolute',\r\n\t\t  backgroundColor: 'white',\r\n\t\t  transition: 'display 0.25s ease-in-out',\r\n\t\t  boxShadow: 'rgba(0, 0, 0, 0.2) 0 0 5px 1px',\r\n\t\t  padding: '12px',\r\n\t\t  margin: '4px'\r\n\t  },\r\n\t  legendPaletteContainer: {\r\n\t\t  minWidth: '210px',\r\n\t\t  padding: '0',\r\n\t\t  margin: '0',\r\n\t\t  listStyle: 'none',\r\n\t\t  textTransform: 'uppercase'\r\n\t  },\r\n\t  min: {\r\n\t\t  float: 'left',\r\n\t\t  margin: '0 0 5px'\r\n\t  },\r\n\t  max: {\r\n\t\t  float: 'right',\r\n\t\t  margin: '0 0 5px'\r\n\t  },\r\n\t  graph: {\r\n\t\t  clear: 'both',\r\n\t\t  overflow: 'hidden',\r\n\t\t  display: 'table',\r\n\t\t  width: '100%',\r\n\t\t  height: '15px',\r\n\t\t  borderRadius: '3px',\r\n\t\t  border: '1px solid #b3b3b3'\r\n\t  },\r\n\t  colors: {\r\n\t\t  display: 'table-row'\r\n\t  },\r\n\t  quartile: {\r\n\t\t  height: '13px',\r\n\t\t  display: 'table-cell',\r\n\t\t  width: '55px'\r\n\t  },\r\n\t  titleText: {\r\n\t\t  fontSize: '16px',\r\n\t\t  fontWeight: '600',\r\n\t\t  textAlign: 'center'\r\n\t  }\r\n  });\r\n  ","\r\nimport React from \"react\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nfunction NoOptionsMessage(props) {\r\n\t// console.log(props)\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\n\r\nfunction Control(props) {\r\n  const {\r\n    children,\r\n    innerProps,\r\n    innerRef,\r\n    selectProps: { classes, TextFieldProps },\r\n  } = props;\r\n\r\n  return (\r\n    <TextField\r\n\t\t\tfullWidth\r\n      InputProps={{\r\n\t\t\t\tdisableUnderline: true,\r\n        inputComponent,\r\n        inputProps: {\r\n          className: classes.input,\r\n          ref: innerRef,\r\n          children,\r\n          ...innerProps,\r\n        },\r\n      }}\r\n      {...TextFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n\tlet currentlySelected = props.selectProps.placeholder;\r\n\tlet currentItem = props.children;\r\n  return (\r\n    <MenuItem\r\n      ref={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n\t\t\t\tfontWeight: currentItem ===  currentlySelected ? 700 : 100,\r\n\t\t\t\tminHeight: '38px',\r\n\t\t\t\tpadding: '0px 18px'\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\n\r\nfunction Placeholder(props) {\r\n\tconst { selectProps, innerProps = {}, children } = props;\r\n\t\r\n  return (\r\n    <Typography color=\"textSecondary\" className={selectProps.classes.placeholder} {...innerProps}>\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\n\r\nfunction Menu(props) {\r\n  return (\r\n\t\t<Paper square className={props.selectProps.classes.paper} \r\n\t\t{...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport const components = {\r\n  Control,\r\n  Menu,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Select from 'react-select';\r\nimport { components } from \"./MetricFunctions\";\r\nimport { geography_options } from \"constants/metrics\";\r\n\r\nimport MetricStyle from \"components/Metrics/MetricStyle\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nclass MetricAppBarGeography extends Component {\r\n\r\n\t_makeGeographySelection = (e) => {\r\n\t\t// console.log(this.props)\r\n\t\t// console.log(e)\r\n\t\t//the first action will update the app bar display\r\n\t\tthis.props.updateLayerType(e.value);\r\n\t\tif (this.props.mapLayers.type !== e.value){\r\n\t\t\t//the second action will update the map layer\r\n\t\t\tthis.props.fetchMapLayerById(\"sao\", e.value);\r\n\t\t\tthis.props.fetchMapLayerById(\"helio\", e.value);\r\n\t\t}\r\n\t}\r\n\r\n  render() {\r\n\t\tlet { classes, mapLayers, preferredLanguage } = this.props;\r\n\t\tlet placeHolder = ( mapLayers.type === \"districts\" ? \"Districts\" : \"Blocks\" );\r\n\t\tlet geography_options_pr;\r\n\t\t//section to make label changes based on language update\r\n\t\tif (preferredLanguage === 'pr'){\r\n\t\t\t// console.log(\"PR!\")\r\n\t\t\tgeography_options_pr = geography_options.map( elem => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: elem.labelPR,\r\n\t\t\t\t\tvalue: elem.value\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(temp_options)\r\n\t\t\tplaceHolder = ( mapLayers.type === \"districts\" ? \"Distritos\" : \"Blocos\" );\r\n\t\t}\r\n\t\t\r\n\r\n    return ( \r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tplaceholder={placeHolder}\r\n\t\t\t\t\t\toptions={preferredLanguage === 'en' ? geography_options : geography_options_pr}\r\n\t\t\t\t\t\tcomponents={components}\r\n\t\t\t\t\t\tvalue={this.props.mapLayers.type}\r\n\t\t\t\t\t\tonChange={this._makeGeographySelection}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(MetricStyle)(MetricAppBarGeography);\r\n","import React, { Component } from 'react';\r\nimport Select from 'react-select';\r\nimport { components } from \"./MetricFunctions\";\r\nimport { district_metrics, blocks_metrics } from \"constants/metrics\";\r\n\r\nimport MetricStyle from \"components/Metrics/MetricStyle\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport * as _util from \"utils/mapping_utils\";\r\n\r\nclass MetricReactSelect extends Component {\r\n\r\n\t_makeMetricSelection = (layer, e) => {\r\n\t\tthis.props.updateLayerStyle(e);\r\n\t}\r\n\r\n\t//need a method for translating existing content on page...\r\n\r\n\trender(){\r\n\t\tlet { classes, mapLayers, preferredLanguage } = this.props;\r\n\t\t\r\n\t\tlet metricSelection = mapLayers.metric.label;\r\n\t\tlet placeHolder, metrics_in_english, metrics_in_portuguese;\r\n\t\t// console.log(this.props)\r\n\t\t//section to make metric changes based on language update\r\n\t\tif (preferredLanguage === 'pr'){\r\n\t\t\t// console.log(\"PR!\")\r\n\t\t\tmetrics_in_portuguese = (mapLayers.type === 'districts' ? _util.adjustLabelsForPR(district_metrics) : _util.adjustLabelsForPR(blocks_metrics) );\r\n\t\t\t// console.log(temp_options)\r\n\t\t\tplaceHolder = (mapLayers.metric.label === \"\" ? \"Selecione uma Métrica\" : metricSelection);\r\n\t\t} else {\r\n\t\t\tplaceHolder = (mapLayers.metric.label === \"\" ? \"Select a Metric\" : metricSelection);\r\n\t\t\tmetrics_in_english = (mapLayers.type === 'districts' ? district_metrics : blocks_metrics)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tplaceholder={placeHolder}\r\n\t\t\t\t\t\toptions={preferredLanguage === 'en' ? metrics_in_english : metrics_in_portuguese}\r\n\t\t\t\t\t\tcomponents={components}\r\n\t\t\t\t\t\tvalue={metricSelection}\r\n\t\t\t\t\t\tonChange={(e) => this._makeMetricSelection(mapLayers, e)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t</div>\r\n  \t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(MetricStyle)(MetricReactSelect);","import React, { Component } from 'react'\r\n// import Button from \"@material-ui/core/Button\"\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport MyLocationIcon from '@material-ui/icons/MyLocation';\r\nimport FindMeStyle from \"components/FindMeButton/FindMeStyle\";\r\nimport { POPOVER_TEXT } from \"constants/forms\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nclass FindMeButton extends Component {\r\n\r\n\t\t_handleMouseClick = (show) => {\r\n\t\t\t//if user is hidden, we add it\r\n\t\t\tif (show === false){\r\n\t\t\t\t///get the user location\r\n\t\t\t\tthis.props.addUserLocation(true)\r\n\t\t\t} else {\r\n\t\t\t\t//if user is showing, we remove it\r\n\t\t\t\tthis.props.addUserLocation(false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\trender(){\r\n\t\tlet { classes, preferredLanguage, userLocation, popover } = this.props;\r\n\t\tlet popUpText = POPOVER_TEXT[preferredLanguage]['findMe'];\r\n\t\tlet popOverId = 'slider-findme'\r\n\t\tlet openLogic = (popover.open && popover.anchor.id === popOverId)\r\n\t\t\r\n\t\t// console.log(this.props)\r\n\t\treturn(\r\n\t\t\t<Paper \r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tonMouseEnter={this.props.updatePopOver}\r\n\t\t\t\tonMouseLeave={this.props.updatePopOver}\r\n\t\t\t\tid={popOverId}\r\n\t\t\t\tonClick={() => this._handleMouseClick(userLocation.show)}\r\n\t\t\t\tstyle={userLocation.show ? { background: '#b0b7dd' } : {} }\r\n\t\t\t>\r\n\t\t\t\t<Typography className={classes.interior}  >\r\n\t\t\t\t\t<MyLocationIcon  fontSize=\"small\"/>\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Popover\r\n\t\t\t\t\t\tid=\"mouse-over-popover\"\r\n\t\t\t\t\t\tclassName={classes.popover}\r\n\t\t\t\t\t\tclasses={{ paper: classes.paper }}\r\n\t\t\t\t\t\topen={openLogic}\r\n\t\t\t\t\t\tanchorEl={popover.anchor}\r\n\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\tvertical: 0,\r\n\t\t\t\t\t\t\thorizontal: 'center'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\t\t\thorizontal: 'center',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClose={this.props.updatePopOver}\r\n\t\t\t\t\t\tdisableRestoreFocus>\r\n\t\t\t\t\t\t<Typography className={classes.text}> { popUpText } </Typography>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</Popover>\r\n\t\t\t</Paper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tpreferredLanguage: state.preferredLanguage\r\n\t\t,popover: state.popover\r\n\t\t,userLocation: state.userLocation\r\n  };\r\n}\r\n\r\nexport default withStyles(FindMeStyle)(connect(\r\n  mapStateToProps,\r\n\tactions\r\n)(FindMeButton));","export default theme => ({\r\n\tcontainer: {\r\n\t\tposition: \"absolute\"\r\n\t\t,padding: \"0px 5px\"\r\n\t\t,top: \"195px\"\r\n\t\t,left: \"10px\"\r\n\t\t,zIndex: \"500\"\r\n\t\t,boxShadow: 'rgba(0, 0, 0, 0.2) 0 0 5px 1px'\r\n\t\t,cursor: \"pointer\"\r\n\t\t,border: '1px solid #999'\r\n\t\t,borderRadius: '3px'\r\n\t},  \r\n\tpopover: {\r\n\t\tpointerEvents: 'none',\r\n\t\ttop: '130px'\r\n\t},\r\n\tinterior:{\r\n\t\tmarginTop: '5px'\r\n\t},\r\n  paper: {\r\n\t\tmarginRight: '75px'\r\n\t\t,marginLeft: '45px'\r\n\t\t,top: '195px'\r\n\t},\r\n\ttext: {\r\n\t\t// display: \"block\"\r\n\t\t// ,position: \"absolute\"\r\n\t\tpadding: \"9px 13px\"\r\n\t\t,color: \"#aaa\"\r\n\t\t,background: \"black\"\r\n\t\t,fontSize: \"12px\"\r\n\t}\r\n})","import React, { Component } from \"react\";\r\nimport MetricAppBar from \"components/Metrics/MetricAppBar\";\r\nimport LeafletMap from \"components/Map/LeafletMap\";\r\nimport LeafletMapLegend from \"components/Map/Legend/LeafletMapLegend\";\r\nimport BaseMapToggle from \"components/Map/BaseMapToggle/BaseMapToggle\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport SliderContainer from \"components/Map/Slider/SliderContainer\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport MapStyle from \"components/Map/MapStyle\";\r\n\r\nimport { HELIO_MAP, SAO_MAP} from \"constants/mapping\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nimport MetricAppBarGeography from 'components/Metrics/MetricAppBarGeography';\r\nimport MetricReactSelect from 'components/Metrics/MetricReactSelect';\r\nimport FindMeButton from \"components/FindMeButton/FindMeButton\";\r\n\r\n\r\nclass MappingPage extends Component {\r\n\tcomponentDidMount(){\r\n\t\tthis.props.setLocation(this.props.history)\r\n\t\t\r\n\t}\r\n  render() {\r\n\t\tlet { classes, ...rest } = this.props;\r\n\t\tlet { mapLayers, userLocation } = this.props;\r\n\t\tlet { metric } = mapLayers;\r\n\t\t// console.log(userLocation) \r\n\t\tif (userLocation.show){\r\n\t\t\tHELIO_MAP.coordinates = [userLocation.lat, userLocation.long]\r\n\t\t\tHELIO_MAP.mapZoom = 17\r\n\r\n\t\t\tSAO_MAP.coordinates = [userLocation.lat, userLocation.long]\t\r\n\t\t\tSAO_MAP.mapZoom = 17\r\n\t\t}\r\n\t\t\r\n    return (\r\n\t\t\t<div>\r\n        <MetricAppBar >\r\n\t\t\t\t\t\t<Grid container justify=\"center\">\r\n\t\t\t\t\t\t\t{/* First item is for choosing geography */}\r\n\t\t\t\t\t\t\t<MetricAppBarGeography {...rest} />\r\n\r\n\t\t\t\t\t\t\t{/* Second item is for choosing a metric */}\r\n\t\t\t\t\t\t\t<MetricReactSelect {...rest} />\r\n\t\t\t\t\t\t\t{/* <MetricAppBarSelection {...this.props} /> */} \r\n\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t</MetricAppBar>\r\n\r\n\t\t\t\t<FindMeButton />\r\n\r\n\t\t\t\t<BaseMapToggle  />\r\n\r\n\t\t\t\t<SliderContainer />\r\n\r\n      \t<Grid container spacing={0}>\r\n\t\t\t\t\t{/* helio map */}\r\n        \t<Grid item xs={6} className={classes.mapContainer} >\r\n\t\t\t\t\t\t<LeafletMap \r\n\t\t\t\t\t\t\t{...this.props} \r\n\t\t\t\t\t\t\tmap_constants={HELIO_MAP}  />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{/* sao francisco map */}\r\n\t\t\t\t\t<Grid item xs={6} className={classes.mapContainer}>\r\n\t\t\t\t\t\t<LeafletMap \r\n\t\t\t\t\t\t\t{...this.props} \r\n\t\t\t\t\t\t\tmap_constants={SAO_MAP} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{ metric.value !== \"\" ?  <LeafletMapLegend {...this.props} /> : <div/> }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tmapLayers: state.mapLayers\r\n\t\t,userLocation: state.userLocation\r\n\t\t,preferredLanguage: state.preferredLanguage\r\n  };\r\n}\r\n\r\nexport default withStyles(MapStyle)(connect(mapStateToProps, actions)(MappingPage));\r\n","export default theme => ({\r\n  headline: {\r\n\t\tfontWeight: '700',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tfontSize: '25px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: '30px',\r\n    },\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tfontSize: '35px',\r\n    }\r\n  },\r\n  basicText: {\r\n\t\tcolor: 'rgba(0, 0, 0, 0.54)',\r\n\t\tmargin: '5px 0px',\r\n\t\tpadding: '2px 0px',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tfontSize: '15px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: '20px',\r\n    }\r\n\t},\r\n\tcentralAlign: {\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\tpaperContainer: {\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tmargin:'10px',\r\n\t\t\tpadding:'20px'\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tmargin:'30px',\r\n\t\t\tpadding:'30px'\r\n    },\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tmargin:'40px',\r\n\t\t\tpadding:'40px'\r\n    }\r\n\t}\r\n})","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { getLandingPageText } from \"utils/language_utils\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport GlobalStyle from \"constants/global_style\";\r\n\r\nclass LandingPage extends Component {\r\n\tcomponentDidMount(){\r\n\t\tthis.props.setLocation(this.props.history)\r\n\t}\r\n\t\r\n  \r\n  render() {\r\n\t\tlet { preferredLanguage, classes } = this.props;\r\n    return (\r\n\t\t<Grid container\r\n\t\t\tdirection=\"row\"\r\n\t\t\tjustify=\"center\"\r\n\t\t\talignItems=\"center\" >\r\n\t\t\t<Grid item xs={12} sm={8} md={6}>\t\t\t\t\t\r\n\t\t\t\t<Paper className={classes.paperContainer}>\r\n\t\t\t\t\t<div className={classes.headline}>\r\n\t\t\t\t\t\tComuniDADOS\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\tgetLandingPageText(preferredLanguage).split('\\n').map( (row, idx) => {\r\n\t\t\t\t\t\t\treturn  (\r\n\t\t\t\t\t\t\t\t<div className={classes.basicText} key={idx}>\r\n\t\t\t\t\t\t\t\t\t{row}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}) \r\n\t\t\t\t\t}\r\n\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tpreferredLanguage: state.preferredLanguage\r\n  };\r\n}\r\n\r\nexport default withStyles(GlobalStyle)(connect(\r\n  mapStateToProps,\r\n  actions\r\n)(LandingPage));\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nclass NotFound404 extends Component {\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.props.setLocation(this.props.history)\r\n\t}\r\n\r\n  render() {\r\n    return <div>404 Not Found</div>;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  actions\r\n)(NotFound404);\r\n\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { getVideoInstructions } from \"utils/language_utils\";\r\nimport { Paper } from \"@material-ui/core\";\r\n\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport GlobalStyle from \"constants/global_style\";\r\n\r\nclass HowToPage extends Component {\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.props.setLocation(this.props.history)\r\n\t}\r\n\r\n  render() {\r\n\t\tlet { preferredLanguage, classes } = this.props;\r\n    return (\r\n\t\t\t<Grid container\r\n\t\t\t\tdirection=\"row\"\r\n\t\t\t\tjustify=\"center\"\r\n\t\t\t\talignItems=\"center\" >\r\n\t\t\t\t<Grid item xs={12} sm={8} md={6}>\r\n\t\t\t\t\t<Paper className={classes.paperContainer}>\r\n\t\t\t\t\t\t\t<div className={classes.headline}>\r\n\t\t\t\t\t\t\tComuniDADOS\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={classes.basicText}>\r\n\t\r\n\t\t\t\t\t\t\t{ getVideoInstructions(preferredLanguage)}\r\n\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={classes.basicText}>\r\n\t\t\t\t\t\t\t<iframe src=\"https://drive.google.com/file/d/1BRxfzB0arMBTpdw7xxRZDJniEJPHrxUb/preview\" \r\n\t\t\t\t\t\t\ttitle=\"how-to-comunidados\"\r\n\t\t\t\t\t\t\twidth=\"100%\" height=\"480\" frameBorder=\"0\" gesture=\"media\" allow=\"encrypted-media\"></iframe>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t</Paper>\r\n\t\t\t</Grid>\r\n\t\t</Grid>)\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tpreferredLanguage: state.preferredLanguage\r\n  };\r\n}\r\n\r\nexport default withStyles(GlobalStyle)(connect(\r\n  mapStateToProps,\r\n  actions\r\n)(HowToPage));\r\n\r\n","export const EVENT_CATEGORIES_EN = [\r\n\t{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 0\r\n\t\t,value:\"All\"\r\n\t\t,label:\"All\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 1\r\n\t\t,value:\"Noise\"\r\n\t\t,label:\"Noise\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 2\r\n\t\t,value:\"Pollution\"\r\n\t\t,label:\"Pollution\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 3\r\n\t\t,value:\"Energy\"\r\n\t\t,label:\"Energy\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 4\r\n\t\t,value:\"Safety\"\r\n\t\t,label:\"Safety\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 5\r\n\t\t,value:\"Other\"\r\n\t\t,label:\"Other\"\r\n\t}\r\n]\r\n\r\nexport const EVENT_CATEGORIES_PR = [\r\n\t{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 0\r\n\t\t,value:\"All\"\r\n\t\t,label:\"Todos\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 1\r\n\t\t,value:\"Noise\"\r\n\t\t,label:\"Barulho\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 2\r\n\t\t,value:\"Pollution\"\r\n\t\t,label:\"Poluição\"\t\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 3\r\n\t\t,value:\"Energy\"\r\n\t\t,label:\"Energia\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 4\r\n\t\t,value:\"Safety\"\r\n\t\t,label:\"Segurança\"\r\n\t}\r\n\t,{\r\n\t\tid: \"eventcategory\"\r\n\t\t,row: 5\r\n\t\t,value:\"Other\"\r\n\t\t,label:\"De outros\"\r\n\t}\r\n]","import React, {Component} from \"react\";\r\nimport Select from 'react-select';\r\nimport { components } from \"components/Metrics/MetricFunctions\";\r\nimport { EVENT_CATEGORIES_EN, EVENT_CATEGORIES_PR } from \"constants/events\";\r\nimport MetricStyle from \"components/Metrics/MetricStyle\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { getEventBoundsFromSelection, filterSelectedMarkers } from \"utils/mapping_utils\";\r\n\r\nclass MetricSurveySelect extends Component {\r\n\r\n\t_makeMetricSelection = (e) => {\r\n\t\t// update map coordinates based on selection (value) and total array of events\r\n\t\tlet markerSelection = filterSelectedMarkers(e.value)\r\n\t\tconsole.log(markerSelection)\r\n\t\tif (markerSelection.length === 1){\r\n\t\t\t// let centroidCoords = getCentroidFromSelection(markerSelection)\r\n\t\t\tthis.props.updateMapCenterCoordinates([markerSelection[0].eventlatitude, markerSelection[0].eventlongitude])\r\n\t\t} else {\r\n\t\t\tlet eventBounds = getEventBoundsFromSelection(markerSelection)\r\n\t\t\tthis.props.updateMapBounds(eventBounds);\r\n\t\t}\r\n\t\t// console.log(centroidCoords)\r\n\t\t// update metricSelection state\r\n\t\tthis.props.selectEventCategory(e)\r\n\t\t// console.log(e) and update chapaEvents state\r\n\t\tthis.props.filterChapaEvents(e)\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet {classes, preferredLanguage, metricSelection} = this.props;\r\n\t\tlet placeHolder = (preferredLanguage === 'en' ? 'View Events'\t: 'Ver Eventos')\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\tplaceholder={placeHolder}\r\n\t\t\t\t\toptions={preferredLanguage === 'en'\r\n\t\t\t\t\t\t? EVENT_CATEGORIES_EN\r\n\t\t\t\t\t\t: EVENT_CATEGORIES_PR}\r\n\t\t\t\t\tvalue={preferredLanguage === 'en'\r\n\t\t\t\t\t\t? EVENT_CATEGORIES_EN[metricSelection.row]\r\n\t\t\t\t\t\t: EVENT_CATEGORIES_PR[metricSelection.row]}\r\n\t\t\t\t\tcomponents={components}\r\n\t\t\t\t\tonChange={(e) => this._makeMetricSelection(e)}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(MetricStyle)(MetricSurveySelect);\r\n","import React, { Component } from \"react\";\r\nimport { Map, Marker, Popup } from \"react-leaflet\";\r\nimport FindMeIcon from \"components/FindMeButton/FindMeIcon\";\r\nimport { getMarkerEventText, getMarkerDirectionsText } from \"utils/language_utils\";\r\nimport * as _constants from \"constants/mapping\";\r\n\r\nclass LeafletMapEventSelect extends Component {\r\n\tstate = {\r\n\t\tmoveCount: 0\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.fetchRandomId()\r\n\t}\r\n\r\n\tupdatePotentialMarkerState(props, {lat,lng}){\r\n\t\tif (props.userLocation.lat === null){\r\n\t\t\t//send an update to the parent component's state that we now have a lat and lng\r\n\t\t\tprops.updatePotentialMarker([lat,lng])\r\n\t\t}\r\n\t\t//else don't do anything\r\n\t}\r\n\r\n\trenderEventLocation(props){\r\n\t\tif (props.userLocation.lat === null){\r\n\t\t\treturn <div />\r\n\t\t} else {\r\n\t\t\treturn (<div className={props.classes.coords}>\r\n\t\t\t\t{(props.userLocation.lat).toFixed(4) }, {(props.userLocation.long).toFixed(4) }\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\trenderEventInstructions(props){\r\n\t\treturn (\r\n\t\t\t<div className={props.classes.directionsContainer} >\r\n\t\t\t\t<div className={props.classes.directionsText}>\r\n\t\t\t\t{ getMarkerDirectionsText(props) }\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\t)\r\n\t}\r\n\r\n\tupdateLocationDisplay = (e) => {\r\n\t\t// enable marker to be moveable\r\n\t\tthis.setState({\r\n\t\t\tmoveCount: this.state.moveCount + 1\r\n\t\t})\r\n\t\tlet { lat, lng } = e.target._latlng;\t\t// console.log(this.state)\r\n\t\tthis.props.updateEventLocation({lat, lng})\r\n\t}\r\n\r\n  render() {\r\n    \tlet { mapCenterCoordinates } = this.props.surveyMap;\r\n\t\tlet { classes, preferredLanguage, userLocation, eventCoords } = this.props;\r\n\t\tlet coordinates = [];\r\n\t\t// console.log(this.props)\r\n\t\tif (userLocation.show){\r\n\t\t\t// if the user is showing set map coordinates to the user location\r\n\t\t\tcoordinates = [userLocation.lat, userLocation.long]\t\t\r\n\t\t} else {\r\n\t\t\tcoordinates = mapCenterCoordinates\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t\r\n\t\t\t<Map \r\n\t\t\t\tclassName={classes.mapContainer}\r\n\t\t\t\tcenter={coordinates} \r\n\t\t\t\tzoom={17}\r\n\t\t\t\tfadeAnimation={true}\r\n\t\t\t\tzoomAnimation={true}\r\n\t\t\t\tonMoveend={e=>this.updatePotentialMarkerState( this.props, e.target.getCenter())}\r\n\t\t\t\t>\t\t\r\n\t\t\t\t{ userLocation.show ? \r\n\t\t\t\t\t<Marker \r\n\t\t\t\t\t\tdraggable={true}\r\n\t\t\t\t\t\tonDragend={this.updateLocationDisplay}\r\n\t\t\t\t\t\tposition={eventCoords}>\r\n\t\t\t\t\t\t<Popup>{ getMarkerEventText(preferredLanguage) }</Popup>\r\n\t\t\t\t\t</Marker> : <div></div> }\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t{ userLocation.show ? \r\n\t\t\t\t\t<FindMeIcon location={userLocation} language={preferredLanguage} moveCount={this.state.moveCount} /> : <div></div> }\r\n\r\n\t\t\t\t{ this.renderEventLocation(this.props) }\r\n\t\t\t\t\r\n\t\t\t\t{ this.renderEventInstructions(this.props) }\r\n\r\n\t\t\t\t{ _constants.BASE_MAP_OPTIONS({baseMapOpacity:1, baseMapSelection:0}) }\r\n\t\t\t\t\r\n      </Map>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default LeafletMapEventSelect;\r\n","import React, { Component } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport ChapaInputStyle from \"components/Chapa/ChapaInputStyle\";\r\n\r\nclass ChapaInputField extends Component {\r\n\t// console.log(this.props);\r\n\trender(){\r\n\t\tlet { elem, state, classes, error, options } = this.props;\r\n\r\n\t\treturn ( elem.type === 'dropdown' ? \r\n\t\t\t<TextField\r\n\t\t\t\t\tselect\r\n\t\t\t\t\tid={elem.id}\r\n\t\t\t\t\tlabel={elem.name}\r\n\t\t\t\t\ttype={elem.type}\r\n\t\t\t\t\tclassName={classes.inputField}\r\n\t\t\t\t\tvalue={state[elem.id]}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tpadding=\"dense\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\toptions.map(item => (\r\n\t\t\t\t\t\t<MenuItem key={item.value} value={item.value} id={item.id}>\r\n\t\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t)) \r\n\t\t\t\t}\r\n\t\t\t</TextField>\r\n\t\t\t:\r\n\t\t\t<TextField\r\n\t\t\t\t\t// disabled={item.disable}\r\n\t\t\t\t\t// key={idx}\r\n\t\t\t\t\t// placeholder={\"item.placeholder\"}\r\n\t\t\t\t\tid={elem.id}\r\n\t\t\t\t\tlabel={elem.name}\r\n\t\t\t\t\ttype={elem.type}\r\n\t\t\t\t\tclassName={classes.inputField}\r\n\t\t\t\t\tvalue={state[elem.id]}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\tonChange={this.props.handleChange}\r\n\t\t\t\t\tonKeyPress={this.props.handleKeyPress}\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tpadding=\"dense\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tmultiline={elem.type === \"multiline\"}\r\n\t\t\t\t\trows={elem.type === \"multiline\" ? 4 : 1}\r\n\t\t\t\t\t// helperText={item.helperText}\r\n\t\t\t\t/>\r\n\t\t);\r\n\t}\t\r\n}\r\n\r\nexport default withStyles(ChapaInputStyle)(ChapaInputField);\r\n// export default ChapaInputField;\r\n","export default theme => ({\r\n  root: {\r\n\t\tflexGrow: 1,\r\n    // height: \"35px\",\r\n    // background: \"black\"\r\n    // background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\"\r\n\t},\r\n\tlegendContainer: {\r\n\t\tborder:'1px solid #999', \r\n\t\tpadding: '10px 20px', \r\n\t\tmargin: '10px 10px', \r\n\t\tposition: 'absolute',\r\n\t\tbottom: '20px',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\twidth: '95%',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\twidth: '50%',\r\n    },\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\twidth: '33%'\r\n    }\r\n\t},\r\n\tbuttonGroup: {\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tpadding: '10px 0px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tpadding: '20px 10px',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tpadding: '30px 20px',\r\n    },\r\n\t\tmargin: '10px 0px',\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\ttableContainer: {\r\n\t\tmaxWidth: '500px'\r\n\t\t,margin: '0 auto'\r\n\t},\r\n\ttableCell: {\r\n\t\tborderBottom: 'none',\r\n\t\tpadding: '5px 20px'\r\n\t},\r\n\ttableCellDesc: {\r\n\t\tborderBottom: 'none',\r\n\t\tpadding: '20px 20px',\r\n\t\tverticalAlign: 'top',\r\n\t\tfontWeight: '700'\r\n\t},\r\n\ttableText: {\r\n\t\twidth: '100%'\r\n\t},\r\n\terrorText: {\r\n\t\tcolor: 'red',\r\n\t\tfontWeight: '700'\r\n\t},\r\n\ticonExit: {\r\n\t\tright: '10px',\r\n\t\tposition: 'absolute',\r\n\t\ttop: '10px'\r\n\t},\r\n\tactionButton: {\r\n\t\tmarginLeft: '10px',\r\n\t\tmarginRight: '10px'\r\n\t},\r\n\tmapContainer: {\r\n\t\twidth: '100%', \r\n\t\theight:'100%'\r\n\t},\r\n\tformSection:{\r\n\t\tminHeight: '250px'\r\n\t},\r\n\tpostEvent: {\r\n\t\tmargin: '10px 0px 10px 0px'\r\n\t},\r\n\tcoords: {\r\n\t\tzIndex: 2000,\r\n\t\tposition: 'absolute',\r\n\t\tbottom: '0px',\r\n\t\tbackground: 'whitesmoke'\r\n\t},\r\n\tdirectionsContainer: {\r\n\t\tzIndex: 999,\r\n\t\tposition: 'absolute',\r\n\t\ttop: '0px',\r\n\t\tbackground: 'rgba(52, 152, 219,0.4)',\r\n\t\ttextAlign: 'center',\r\n\t\twidth:'100%'\r\n\t},\r\n\tdirectionsText: {\r\n\t\tmargin: '0 auto',\r\n\t\tpadding: '0px 20px',\r\n\t\twidth: '80%'\r\n\t},\r\n\tinputField:{\r\n\t\twidth: '100%'\r\n\t},\r\n\tpopover: {\r\n\t\tpointerEvents: 'none',\r\n\t\ttop: '130px'\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: '-6px',\r\n\t\tmarginLeft: '64px'\r\n\t},\r\n\ttext: {\r\n\t\t// display: \"block\"\r\n\t\t// ,position: \"absolute\"\r\n\t\tpadding: \"9px 13px\"\r\n\t\t,color: \"#aaa\"\r\n\t\t,background: \"black\"\r\n\t\t,fontSize: \"12px\"\r\n\t},\r\n\theadline: {\r\n\t\tfontWeight: '700',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tfontSize: '25px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: '30px',\r\n    },\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tfontSize: '35px',\r\n    }\r\n  },\r\n  basicText: {\r\n\t\tcolor: 'rgba(0, 0, 0, 0.54)',\r\n\t\tmargin: '5px 0px',\r\n\t\tpadding: '2px 0px',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tfontSize: '15px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: '20px',\r\n    }\r\n\t}\r\n});\r\n","import React, { Component } from \"react\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { EVENT_FORM_CONTENTS, BUTTON_ACTIONS } from \"constants/forms\";\r\nimport { EVENT_CATEGORIES_EN, EVENT_CATEGORIES_PR } from \"constants/events\";\r\nimport LeafletMapEventSelect from \"components/Map/LeafletMapEventSelect\";\r\nimport ChapaInputField from \"components/Chapa/ChapaInputField\";\r\n\r\nclass EventFormContent extends Component {\r\n\tstate = {\r\n\t\teventname:'',\r\n\t\teventcategory:'',\r\n\t\teventdescription:'',\r\n\t\tcreatedby:'',\r\n\t\teventlatitude:0,\r\n\t\teventlongitude:0,\r\n\t\tpotentialMarkerCoords: [],\r\n\t\teditMode: false\r\n\t}\r\n\t\r\n\t//if component mounts, we need to get the users location if possible, otherwise we have no coordinates\r\n\t// componentDidMount(){\r\n\t// \tif (this.props.userLocation.show === false){\r\n\t// \t\tthis.props.addUserLocation(true)\r\n\t// \t}\r\n\t// }\r\n\thandleChange = (e) =>{\r\n\t\t// console.log(e.target)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value\r\n\t\t})\r\n\t\tlocalStorage.setItem('eventState', JSON.stringify({\r\n\t\t\t...this.state,\r\n\t\t\t[e.target.id]: e.target.value\r\n\t\t})) \r\n\t}\r\n\r\n\tsetFeauxLocation = () => {\r\n\r\n\t\t// if potentialMarkerCoords is empty, add mapcentercoords (original)\r\n\t\tif (this.state.potentialMarkerCoords.length < 1){\r\n\t\t\tthis.props.addFeauxLocation(this.props.surveyMap.mapCenterCoordinates)\r\n\t\t} else {\r\n\t\t\t//else use potential markercoords as feauxuserlocation (user informed)\r\n\t\t\tthis.props.addFeauxLocation(this.state.potentialMarkerCoords)\r\n\t\t}\r\n\t}\r\n\r\n\tpotentialMarkerCoords = (coords) => {\r\n\t\tthis.setState({\r\n\t\t\tpotentialMarkerCoords: coords\r\n\t\t})\r\n\t}\r\n\r\n\tupdateEventLocation = ({lat, lng}) => {\r\n\t\t// console.log(lat, lng)\r\n\t\tthis.setState({\r\n\t\t\teventlatitude: lat,\r\n\t\t\teventlongitude: lng,\r\n\t\t\teditMode: true\r\n\t\t})\r\n\t\tlocalStorage.setItem('eventState', JSON.stringify({\r\n\t\t\t...this.state,\r\n\t\t\teventlatitude: lat,\r\n\t\t\teventlongitude: lng\r\n\t\t})) \r\n\t\t// console.log(lat, lng)\r\n\t}\r\n\r\n\thandleEventSubmit = (state, props) => {\r\n\t\t// console.log(state)\r\n\t\tlet newEvent = {\r\n\t\t\teventid: props.randomId, \r\n\t\t\teventname: state.eventname,\r\n\t\t\teventcategory: state.eventcategory,\r\n\t\t\teventdescription: state.eventdescription,\r\n\t\t\teventlatitude: (state.eventlatitude === 0 ? props.userLocation.lat : state.eventlatitude),\r\n\t\t\teventlongitude: (state.eventlongitude === 0 ? props.userLocation.long : state.eventlongitude),\r\n\t\t\tcreatedBy: props.userInfo.username\r\n\t\t}\r\n\t\t// console.log(newEvent)\r\n\t\t//send the object ot the database\r\n\t\tprops.postNewEvent(newEvent) \r\n\t\t//close this window\r\n\t\tprops.closePopUp()\r\n\t}\r\n\r\n\trenderInputType = (elem, props) => {\r\n\t\t// console.log(t)\r\n\t\tlet options = ( props.preferredLanguage === 'en' ? EVENT_CATEGORIES_EN : EVENT_CATEGORIES_PR )\r\n\t\t\r\n\t\treturn ( elem.type === 'dropdown' ? \r\n\t\t\t\t<ChapaInputField \r\n\t\t\t\t\t\thandleChange={ e => {\r\n\t\t\t\t\t\t\t\te = { ...e, target: { ...e.target, id: elem.id } } \r\n\t\t\t\t\t\t\t\t// console.log(elem.id)\r\n\t\t\t\t\t\t\t\tthis.handleChange(e)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\telem={elem}\r\n\t\t\t\t\t\tstate={this.state}\r\n\t\t\t\t\t\tprops={props}\r\n\t\t\t\t\t\toptions={options}\r\n\t\t\t\t/> :\r\n\t\t\t\t\t\t<ChapaInputField \r\n\t\t\t\t\t\t\thandleChange={ e => this.handleChange(e)}\r\n\t\t\t\t\t\t\t// handleKeyPress={ e => this.handleKeyPress(e)}\r\n\t\t\t\t\t\t\telem={elem}\r\n\t\t\t\t\t\t\tstate={this.state}\r\n\t\t\t\t\t\t\tprops={props}\r\n\t\t\t\t\t\t\t// error={this.props.userInfo.err}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t}\r\n\r\n\trenderFormTable = (json, props) => {\r\n\t\tlet { classes } = props;\r\n\t\t\r\n\t\treturn (<Table>\r\n\t\t\t<TableBody>\r\n\t\t\t{\r\n\t\t\t\tjson.rows.map( ( elem, idx) => {\r\n\r\n\t\t\t\t\treturn(\r\n\t\t\t\t\t\t<TableRow key={idx}>\r\n\t\t\t\t\t\t<TableCell className={classes.tableCell} > \r\n\t\t\t\t\t\t\t{this.renderInputType(elem, props)}\t\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t</TableBody>\r\n\t\t</Table>\r\n\t\t)\r\n\t\r\n\t}\r\n\r\n  render() {\r\n\t\tlet { classes, closePopUp, userLocation, preferredLanguage } = this.props;\r\n\t\tlet eventCoords = []\r\n\t\tif (this.props.userLocation.show && this.state.editMode === false){\r\n\t\t\teventCoords = [userLocation.lat, userLocation.long]\r\n\t\t} else {\r\n\t\t\teventCoords = [this.state.eventlatitude, this.state.eventlongitude]\r\n\t\t}\r\n\t\t// console.log(eventCoords)\r\n\t\t// console.log(this.props.userLocation)\r\n    return (<div>\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item sm={6} xs={12} className={classes.formSection}> \r\n\t\t\t\t\t{ this.renderFormTable(EVENT_FORM_CONTENTS[preferredLanguage], this.props) }\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item sm={6} xs={12} className={classes.formSection}> \r\n\t\t\t\t\t<LeafletMapEventSelect \r\n\t\t\t\t\t\t{...this.props} \r\n\t\t\t\t\t\teventCoords={eventCoords} \r\n\t\t\t\t\t\tupdateEventLocation={this.updateEventLocation} \r\n\t\t\t\t\t\tupdatePotentialMarker={this.potentialMarkerCoords} \r\n\t\t\t\t\t\t/>\t\t\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item sm={12} xs={12} className={classes.buttonGroup}>\r\n\t\t\t\t{/* IF there is not user location, and no current location -- we can add a point manually */}\r\n\t\t\t\t\t\r\n\t\t\t\t\t{ !this.props.userLocation.show && eventCoords[0] === 0 ? \r\n\t\t\t\t\t<Button \r\n\t\t\t\t\t\thidden={false} //hide if there is a marker or user location\r\n\t\t\t\t\t\tonClick={() => this.setFeauxLocation()}\r\n\t\t\t\t\t\tvariant=\"contained\" \r\n\t\t\t\t\t\tclassName={classes.actionButton}\r\n\t\t\t\t\t\tcolor=\"secondary\" >{BUTTON_ACTIONS[preferredLanguage]['addPoint']}</Button>\r\n\t\t\t\t\t :\r\n\t\t\t\t\t<Button \r\n\t\t\t\t\t\t//hide if there is no location or marker\r\n\t\t\t\t\t\tdisabled={this.props.userLocation.show === false} //disable submit if no user location available\r\n\t\t\t\t\t\tonClick={() => this.handleEventSubmit(this.state, this.props)}\r\n\t\t\t\t\t\tvariant=\"contained\" \r\n\t\t\t\t\t\tclassName={classes.actionButton}\r\n\t\t\t\t\t\tcolor=\"secondary\" >{BUTTON_ACTIONS[preferredLanguage]['submit']}</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{/* IF there is not user location, submit will be disabled until point is added */}\r\n\r\n\t\t\t\t\t<Button \r\n\t\t\t\t\t\tonClick={() => closePopUp() }\r\n\t\t\t\t\t\tvariant=\"contained\" \r\n\t\t\t\t\t\tclassName={classes.actionButton}\r\n\t\t\t\t\t\tcolor=\"default\" \r\n\t\t\t\t\t\t> {BUTTON_ACTIONS[preferredLanguage]['cancel']} </Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>)\r\n\t\t}\r\n\t}\r\nexport default EventFormContent;","import React, { Component } from \"react\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport { DialogContent, Button } from \"@material-ui/core\";\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { EVENT_FORM_CONTENTS, BUTTON_ACTIONS, POPOVER_TEXT } from \"constants/forms\";\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport EventFormContent from \"./EventFormContent\";\r\n\r\nclass EventFormDialog extends Component {\r\n  state = {\r\n\t\topen: false\r\n\t};\r\n\t\r\n  _handleClickOpen = () => {\r\n\t\t// console.log(this.props)\r\n\t\t//get user location if not already available\r\n\t\tif (this.props.userLocation.show === false){\r\n\t\t\t// this.props.addUserLocation()\r\n\t\t}\r\n\t\t//open window\r\n    this.setState({ open: true});\r\n  };\r\n\r\n  _handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n\t\r\n  render() {\r\n\t\t// console.log(this.props)\r\n\t\tlet { classes, preferredLanguage, userInfo, popover } = this.props;\r\n\t\tlet loggedIn = ( userInfo.token.length >= 3 ? true : false);\r\n\t\tlet popOverId = 'slider-postEvent'\r\n\t\tlet openLogic = (popover.open && popover.anchor.id === popOverId && !loggedIn)\r\n\t\tlet popUpText = POPOVER_TEXT[preferredLanguage]['postEvent'];\r\n\t\t\r\n    return (\r\n\t<div >\r\n\r\n\t\t<div \r\n\t\t\tonMouseEnter={this.props.updatePopOver}\r\n\t\t\tonMouseLeave={this.props.updatePopOver}\r\n\t\t\tid={popOverId}\r\n\t\t\tclassName={classes.postEvent}\r\n\t\t\t>\r\n\t\t\t<Button \r\n\t\t\t\tonClick={() => this._handleClickOpen()}\r\n\t\t\t\tvariant=\"contained\" \r\n\t\t\t\tsize='medium'\r\n\t\t\t\tdisabled={ !loggedIn }\r\n\t\t\t\tcolor=\"primary\" ><RoomIcon size='sm' /> {BUTTON_ACTIONS[preferredLanguage]['postEvent']}</Button>\r\n\r\n\t\t\t<Popover\r\n\t\t\t\t\tid=\"mouse-over-popover\"\r\n\t\t\t\t\tclassName={classes.popover}\r\n\t\t\t\t\tclasses={{ paper: classes.paper }}\r\n\t\t\t\t\topen={openLogic}\r\n\t\t\t\t\tanchorEl={popover.anchor}\r\n\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\tvertical: 6,\r\n\t\t\t\t\t\thorizontal: 'center'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\t\thorizontal: 'center',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonClose={this.props.updatePopOver}\r\n\t\t\t\t\tdisableRestoreFocus>\r\n\t\t\t\t\t<Typography className={classes.text}> { popUpText } </Typography>\r\n\t\t\t</Popover>\r\n\t\t</div>\r\n\r\n\t\t<Dialog \r\n\t\t\tfullWidth={true}\r\n\t\t\tonClose={this._handleClose} \r\n\t\t\topen={this.state.open}  >\r\n\t\r\n\t\t\t<DialogTitle id=\"simple-dialog-title\" className={classes.formTitle}>\t\r\n\t\t\t\t\r\n\t\t\t\t{ EVENT_FORM_CONTENTS[preferredLanguage]['title'] }\r\n\t\t\t\t\r\n\t\t\t\t<IconButton aria-label=\"close\" onClick={this._handleClose} className={classes.iconExit}>\r\n\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t\t\r\n\t\t\t</DialogTitle>\r\n\t\t\t\t\r\n\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\r\n          \t\t<EventFormContent {...this.props} closePopUp={this._handleClose} />\r\n\r\n\t\t\t</DialogContent>\r\n        </Dialog>\r\n\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EventFormDialog;\r\n","import React, { Component } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport EventFormDialog from \"components/EventForm/EventFormDialog\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport EventFormStyle from \"components/EventForm/EventFormStyle\";\r\nimport { SURVEY_LEGEND } from \"constants/forms\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nclass EventFormLegend extends Component {\r\n\t/**\r\n\t * next steps:\r\n\t * 1. when user clicks add point, fire an action to drop marker and feaux location\r\n\t */\r\n  render() {\r\n\t\tlet { classes, preferredLanguage } = this.props;\t\t\r\n    return (\r\n\t\t\t<Grid container spacing={0}>\r\n\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t<Paper className={classes.legendContainer}>\r\n      \t\t\t\t<div className={classes.headline}>{ SURVEY_LEGEND[preferredLanguage]['title'] }</div>\r\n\t\t\t\t\t\t\t<div className={classes.basicText}> { SURVEY_LEGEND[preferredLanguage]['desc'] } </div>\r\n\r\n\t\t\t\t\t\t\t<EventFormDialog {...this.props} />\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\treturn {\r\n\t\t\tpreferredLanguage: state.preferredLanguage\r\n\t\t\t,randomId: state.randomId\r\n\t\t\t,userInfo: state.userInfo\r\n\t\t\t,popover: state.popover\r\n\t\t\t,userLocation: state.userLocation\r\n\t\t\t,surveyMap: state.surveyMap\r\n\t\t};\r\n\t}\r\n\t\r\nexport default withStyles(EventFormStyle)(connect(\r\n\tmapStateToProps,\r\n\tactions\r\n)(EventFormLegend));","export default theme => ({\r\n  root: {\r\n\t\tflexGrow: 1,\r\n    // height: \"35px\",\r\n    // background: \"black\"\r\n    // background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\"\r\n\t},\r\n\tlegendContainer: {\r\n\t\tborder:'1px solid #999', \r\n\t\tpadding: '10px 20px', \r\n\t\tmargin: '10px 10px', \r\n\t\tposition: 'absolute',\r\n\t\tbottom: '20px',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\twidth: '95%',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\twidth: '50%',\r\n    },\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\twidth: '33%'\r\n    }\r\n\t},\r\n\tbuttonGroup: {\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tpadding: '10px 0px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tpadding: '20px 10px',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tpadding: '30px 20px',\r\n    },\r\n\t\tmargin: '10px 0px',\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\ttableContainer: {\r\n\t\tmaxWidth: '500px'\r\n\t\t,margin: '0 auto'\r\n\t},\r\n\ttableCell: {\r\n\t\tborderBottom: 'none',\r\n\t\tpadding: '5px 20px'\r\n\t},\r\n\ttableCellDesc: {\r\n\t\tborderBottom: 'none',\r\n\t\tpadding: '20px 20px',\r\n\t\tverticalAlign: 'top',\r\n\t\tfontWeight: '700'\r\n\t},\r\n\ttableText: {\r\n\t\twidth: '100%'\r\n\t},\r\n\terrorText: {\r\n\t\tcolor: 'red',\r\n\t\tfontWeight: '700'\r\n\t},\r\n\ticonExit: {\r\n\t\tright: '10px',\r\n\t\tposition: 'absolute',\r\n\t\ttop: '10px'\r\n\t},\r\n\tactionButton: {\r\n\t\tmarginLeft: '10px',\r\n\t\tmarginRight: '10px'\r\n\t},\r\n\tmapContainer: {\r\n\t\twidth: '100%', \r\n\t\theight:'100%'\r\n\t},\r\n\tformSection:{\r\n\t\tminHeight: '250px'\r\n\t},\r\n\tpostEvent: {\r\n\t\tmargin: '10px 0px 10px 0px'\r\n\t},\r\n\tcoords: {\r\n\t\tzIndex: 2000,\r\n\t\tposition: 'absolute',\r\n\t\tbottom: '0px',\r\n\t\tbackground: 'whitesmoke'\r\n\t},\r\n\tdirectionsContainer: {\r\n\t\tzIndex: 999,\r\n\t\tposition: 'absolute',\r\n\t\ttop: '0px',\r\n\t\tbackground: 'rgba(52, 152, 219,0.6)',\r\n\t\ttextAlign: 'center',\r\n\t\twidth:'100%'\r\n\t},\r\n\tdirectionsText: {\r\n\t\tmargin: '0 auto',\r\n\t\tpadding: '0px 20px',\r\n\t\twidth: '80%',\r\n\t\tfontWeight: 700,\r\n\t\tcolor: 'white',\r\n\t\ttextShadow: '1px 1px 3px #c51162'\r\n\t},\r\n\tinputField:{\r\n\t\twidth: '100%'\r\n\t},\r\n\tpopover: {\r\n\t\tpointerEvents: 'none',\r\n\t\ttop: '130px'\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: '-6px',\r\n\t\tmarginLeft: '64px'\r\n\t},\r\n\ttext: {\r\n\t\t// display: \"block\"\r\n\t\t// ,position: \"absolute\"\r\n\t\tpadding: \"9px 13px\"\r\n\t\t,color: \"#aaa\"\r\n\t\t,background: \"black\"\r\n\t\t,fontSize: \"12px\"\r\n\t},\r\n\theadline: {\r\n\t\tfontWeight: '700',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tfontSize: '25px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: '30px',\r\n    },\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tfontSize: '35px',\r\n    }\r\n  },\r\n  basicText: {\r\n\t\tcolor: 'rgba(0, 0, 0, 0.54)',\r\n\t\tmargin: '5px 0px',\r\n\t\tpadding: '2px 0px',\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tfontSize: '15px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: '20px',\r\n    }\r\n\t}\r\n});\r\n","import React, { Component } from \"react\";\r\nimport { Marker, Popup } from \"react-leaflet\";\r\n// import * as B from 'Leaflet.vector-markers';\r\nimport { getMarkerIcon } from \"utils/mapping_utils\";\r\n\r\nclass ChapaMarkers extends Component {\r\n\r\n\trender(){\r\n\t\tlet { events } = this.props;\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<span>\r\n\t\t\t\t{\r\n\t\t\t\t\tevents.map( (elem, idx) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<span key={idx}>\r\n\t\t\t\t\t\t\t<Marker\r\n\t\t\t\t\t\t\t\ticon={getMarkerIcon(elem.eventcategory)}\r\n\t\t\t\t\t\t\t\tposition={[elem.eventlatitude, elem.eventlongitude]}>\r\n\t\t\t\t\t\t\t\t<Popup>{elem.eventname}</Popup>\r\n\t\t\t\t\t\t\t</Marker>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</span>)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</span>)\r\n\t}\r\n\r\n}\r\n\r\nexport default ChapaMarkers;","import React, { Component } from \"react\";\r\nimport { Map } from \"react-leaflet\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport MapStyle from \"components/Map/MapStyle\";\r\nimport FindMeIcon from \"components/FindMeButton/FindMeIcon\";\r\nimport ChapaMarkers from \"components/Map/ChapaMarkers/ChapaMarkers\";\r\nimport * as _constants from \"constants/mapping\";\r\n// import * as _util from \"utils/mapping_utils\";\r\n// import * as L from 'leaflet'\r\n\r\nclass LeafletMapSurvey extends Component {\r\n\r\n\thandleMapCenterChange = ({lat, lng}) => {\r\n\t\t// console.log(lat, lng)\r\n\t\tthis.props.updateMapCenterCoordinates([lat, lng])\r\n\t}\r\n\r\n\thandleMapZoomChange = (zoom) => {\r\n\t\t// console.log(zoom)\r\n\t\tthis.props.updateMapZoom(zoom)\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tlet { mapCenterCoordinates, mapZoom, mapBounds } = this.props.surveyMap;\r\n\t\tlet { classes, mapLayers, userLocation, preferredLanguage, chapaEvents, metricSelection } = this.props;\r\n\t\tlet displayMarkers = false;\r\n\t\tlet variableMapCenter;\r\n\t\tif (chapaEvents.length >= 1) {\r\n\t\t\tdisplayMarkers = true;\r\n\t\t}\r\n\t\tif (mapBounds){\r\n\t\t\tmapZoom = null;\r\n\t\t\tvariableMapCenter = null;\r\n\t\t} else if (userLocation.show){\r\n\t\t\tvariableMapCenter = [userLocation.lat, userLocation.long]\r\n\t\t\tmapBounds = null;\r\n\t\t} else {\r\n\t\t\tvariableMapCenter = mapCenterCoordinates;\r\n\t\t\tmapBounds = null;\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Map \r\n\t\t\t\tclassName={classes.surveyMap} \r\n\t\t\t\tcenter={variableMapCenter} \r\n\t\t\t\tzoom={mapZoom}\r\n\t\t\t\tbounds={mapBounds}\r\n\t\t\t\tboxZoom={true}\r\n\t\t\t\tonMoveend={e=>this.handleMapCenterChange(e.target.getCenter()) }\r\n\t\t\t\tonZoomend={e=>this.handleMapZoomChange(e.target.getZoom())}\r\n\t\t\t\t>\r\n\t\t\t\t\r\n\t\t\t\t{ userLocation.show ? \r\n\t\t\t\t\t<FindMeIcon location={userLocation} language={preferredLanguage} /> : \r\n\t\t\t\t\t<div></div> }\r\n\r\n\t\t\t\t{ displayMarkers ? <ChapaMarkers events={chapaEvents} selection={metricSelection} /> : <div></div> }\r\n\r\n\t\t\t\t{_constants.BASE_MAP_OPTIONS(mapLayers, classes)}\t\t\t\t\r\n\r\n\t\t\t</Map>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(MapStyle)(LeafletMapSurvey);\r\n","import React, { Component } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\nimport MetricAppBar from \"components/Metrics/MetricAppBar\"\r\nimport MetricSurveySelect from \"components/Metrics/MetricSurveySelect\"\r\n// import InputBase from '@material-ui/core/InputBase';\r\nimport EventFormLegend from \"components/EventForm/EventFormLegend\";\r\nimport LeafletMapSurvey from \"components/Map/LeafletMapSurvey\";\r\nimport FindMeButton from \"components/FindMeButton/FindMeButton\";\r\nimport BaseMapToggle from \"components/Map/BaseMapToggle/BaseMapToggle\";\r\n// import { getCache } from \"utils/cache_utils\";\r\n\r\n/** TO DO\r\n * on load, prompt to get user location if not already cached in the state\r\n * https://developers.google.com/web/fundamentals/native-hardware/user-location\r\n * we also need a metho to get users to either LOGIN or be anonymous without the ability to uplaod points\r\n */\r\n\r\nclass SurveyPage extends Component {\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.props.setLocation(this.props.history)\r\n\t\t// this.props.addUserLocation()\r\n\t\t// console.log(getCache(\"chapaEvents\"))\r\n\r\n\t\t// this needs to be removed when uploaded to the server or else it wont recognize new posts\r\n\t\t// need to implement a timing event, if user hasn't logged in 1 hour, refresh cache...\r\n\t\t// if ( getCache(\"chapaEvents\") === null){\r\n\t\tthis.props.fetchAllEvents()\r\n\t\t// }\r\n\t}\r\n\r\n  render() {\r\n\t\tlet { preferredLanguage, mapLayers, updateBaseLayer } = this.props;\t\t\r\n\t\tlet { baseMapSelection } = mapLayers;\r\n\r\n    return (\r\n\t\t\t<div>\r\n\t\t\t<MetricAppBar >\r\n\t\t\t\t\t<Grid container justify=\"center\">\r\n\t\t\t\t\t\t{/* First item is for choosing geography */}\r\n\t\t\t\t\t\t<MetricSurveySelect {...this.props} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t</MetricAppBar>\r\n\t\t\t\r\n\t\t\t<FindMeButton />\r\n\r\n\t\t\t<BaseMapToggle \r\n\t\t\t\tpreferredLanguage={preferredLanguage} \r\n\t\t\t\taction={updateBaseLayer} \r\n\t\t\t\tbaseMapSelection={baseMapSelection} />\r\n\r\n\t\t\t<Grid container spacing={0}>\r\n\t\t\t\t{/* helio map */}\r\n\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t<LeafletMapSurvey \r\n\t\t\t\t\t\t// variableMapCenter={variableMapCenter}\r\n\t\t\t\t\t\t{...this.props}  \r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<EventFormLegend />\r\n\r\n\t\t\t</div>\r\n\t\t)\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tchapaEvents: state.chapaEvents\r\n\t\t// ,loadAnimation: state.loadAnimation\r\n\t\t,mapLayers: state.mapLayers\r\n\t\t,metricSelection: state.metricSelection\r\n\t\t,preferredLanguage: state.preferredLanguage\r\n\t\t,randomId: state.randomId\r\n\t\t,userInfo: state.userInfo\r\n\t\t,popover: state.popover\r\n\t\t,userLocation: state.userLocation\r\n\t\t,surveyMap: state.surveyMap\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  actions\r\n)(SurveyPage);\r\n","export default theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n    // height: \"35px\",\r\n    // background: \"black\"\r\n    // background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\"\r\n\t},\r\n\tcentralAlign: {\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\tbuttonGroup: {\r\n\t\t[theme.breakpoints.down('xs')]: {\r\n\t\t\tpadding: '10px 0px',\r\n    },\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tpadding: '20px 10px',\r\n    },\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tpadding: '30px 20px',\r\n    },\r\n\t\tmargin: '10px 0px',\r\n\t\ttextAlign: 'center'\r\n\t},\r\n\ttableContainer: {\r\n\t\tmaxWidth: '500px'\r\n\t\t,margin: '0 auto'\r\n\t},\r\n\ttableCell: {\r\n\t\tborderBottom: 'none',\r\n\t\tpadding: '5px 20px'\r\n\t},\r\n\ttableText: {\r\n\t\twidth: '100%'\r\n\t},\r\n\terrorText: {\r\n\t\tcolor: 'red',\r\n\t\tfontWeight: '700'\r\n\t},\r\n\ticonExit: {\r\n\t\tright: '10px',\r\n\t\tposition: 'absolute',\r\n\t\ttop: '10px'\r\n\t},\r\n\tsection: {\r\n\t\tmarginTop: '30px',\r\n\t\tmarginBottom: '20px'\r\n\t},\r\n\tpostEvent: {\r\n\t\tmargin: '10px 0px 10px 0px'\r\n\t},\r\n\tresetText: {\r\n\t\t// margin: '50px 0px 0px 0px',\r\n\t\tcolor: 'grey'\r\n\t\t// padding: '30px 20px',\r\n\t}\r\n});\r\n","import React, { Component } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { navigateTo } from \"utils/nav_utils\";\r\nimport { getWelcomeHeadline, getWelcomeInstructions } from \"utils/language_utils\";\r\nimport { BUTTON_ACTIONS } from \"constants/forms\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport GlobalStyle from \"constants/global_style\";\r\n\r\nclass LoginFormWelcome extends Component {\r\n\t\r\n\tcomponentDidMount(){\r\n\t\t// console.log(\"welcome, update animation\")\r\n\t\tthis.props.stopLoadingAnimation()\r\n\t}\r\n\thandleSignOut = () => {\r\n\t\tthis.props.userSignOut()\r\n\t\tnavigateTo(\"login\", this.props);\r\n\t}\r\n\t\r\n  render() {\r\n\tlet { classes, userInfo, preferredLanguage } = this.props;\r\n    return (<div>\r\n\t\t\t<Grid \r\n\t\t\t\tclassName={classes.centralAlign}\r\n\t\t\t\tcontainer \r\n\t\t\t\tspacing={1} \r\n\t\t\t\tdirection=\"column\" \r\n\t\t\t\talignItems=\"center\">\r\n\t\t\t\t<Grid item >\r\n\t\t\t\t\t<div className={classes.headline}>\r\n\t\t\t\t\t\t{ getWelcomeHeadline(preferredLanguage, userInfo.username) }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.basicText}>\r\n\t\t\t\t\t\t{ getWelcomeInstructions(preferredLanguage)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item ></Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Button \r\n\t\t\t\t\t\tonClick={() => this.handleSignOut()}\r\n\t\t\t\t\t\tvariant=\"contained\" \r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tcolor=\"secondary\" >\r\n\t\t\t\t\t{ BUTTON_ACTIONS[preferredLanguage]['signOut'] }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\r\n\r\n\t\t\t</Grid>\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(GlobalStyle)(LoginFormWelcome);\r\n","import React, { Component } from \"react\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { LOGIN_CONTENTS, BUTTON_ACTIONS } from \"constants/forms\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport ChapaInputField from \"components/Chapa/ChapaInputField\";\r\n\r\n\r\nclass LoginFormResetPassword extends Component {\r\n\tstate = {\r\n\t\tuserEmail: ''\r\n\t}\r\n\t\r\n\thandleChange = (e) =>{\r\n\t\tthis.setState({\r\n\t\t\tuserEmail: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\thandleClick = () => {\r\n\t\tlet userObj = {\r\n\t\t\t...this.state,\r\n\t\t\tpreferredLanguage: this.props.preferredLanguage\r\n\t\t}\r\n\t\t//trigger server reset of credentials\r\n\t\tthis.props.sendPasswordResetEmail(userObj)\r\n\t\t//this function does not exist\r\n\t\t//use parent props to reverse state\r\n\t\tthis.props.backToLogin()\r\n\t}\r\n\t\r\n\thandleKeyPress = (e) => {\r\n\t\t// console.log(e.key)\r\n\t\tif (e.key === \"Enter\" ){\r\n\t\t\tthis.handleClick()\r\n\t\t}\r\n\t}\r\n\t\r\n  render() {\r\n\t\tlet { preferredLanguage, classes } = this.props;\r\n\t\tlet loginInstructions = LOGIN_CONTENTS[preferredLanguage]['resetInstr'];\r\n\t\tlet buttionAction = BUTTON_ACTIONS[preferredLanguage]['sendEmail']\r\n\t\tlet my_element = {\r\n\t\t\tid: 'userEmail',\r\n\t\t\tname: 'Email',\r\n\t\t\ttype: 'text'\r\n\t\t}\r\n    return (<div>\r\n\t\t\t<Grid \r\n\t\t\t\tcontainer spacing={1} direction=\"column\" alignItems=\"center\">\r\n\t\t\t\t<Grid item className={classes.section}>\r\n\t\t\t\t\t\r\n\t\t\t\t<Typography component=\"div\">\r\n\t\t\t\t\t\t\t<Box fontStyle=\"italic\" m={1}>\r\n\t\t\t\t\t\t\t\t{loginInstructions}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<ChapaInputField \r\n\t\t\t\t\t\thandleChange={ e => this.handleChange(e)}\r\n\t\t\t\t\t\thandleKeyPress={ e => this.handleKeyPress(e)}\r\n\t\t\t\t\t\telem={my_element}\r\n\t\t\t\t\t\tstate={this.state}\r\n\t\t\t\t\t\t// props={this.props}\r\n\t\t\t\t\t\t// error={this.props.userInfo.err}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item className={classes.section}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* <Typography component=\"div\">\r\n\t\t\t\t\t\t<Box fontStyle=\"italic\" m={1}>\r\n\t\t\t\t\t\t\tThis is a beta feature that is not yet ready...\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography> */}\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tonClick={ ()=> this.handleClick() }\r\n\t\t\t\t\t\t>{buttionAction}</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid> \r\n\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginFormResetPassword;\r\n","import React, { Component } from \"react\";\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nclass LoginFormError extends Component {\r\n\r\n\tcomponentDidUpdate(){\r\n\t\tif (this.props.userInfo.err === true){\r\n\t\t\tthis.props.stopLoadingAnimation()\r\n\t\t}\r\n\t}\r\n\t\r\n  \trender() {\r\n\t\tlet { classes, userInfo } = this.props;\r\n\t\t\t\r\n\t\t\t// console.log(this.props)\r\n\t\treturn (<div>\r\n\t\t\t\t{ ( \r\n\t\t\t\t\tuserInfo.err === false ? <div></div> : \r\n\t\t\t\t\t<Grid  container spacing={1} direction=\"column\" alignItems=\"center\">\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<p className={classes.errorText}>{userInfo.errMsg}</p>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid> \r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default LoginFormError;\r\n","import React, { Component } from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\n\r\nimport LoginFormResetPassword from \"./LoginFormResetPassword\";\r\nimport LoginFormError from \"components/LoginForm/LoginFormError\";\r\nimport { LOGIN_CONTENTS, BUTTON_ACTIONS } from \"constants/forms\";\r\nimport ChapaInputField from \"components/Chapa/ChapaInputField\";\r\nimport { handleLoginEvent } from \"utils/user_utils\"\r\n\r\nclass LoginFormContent extends Component {\r\n\tstate = {\r\n\t\tusername: '',\r\n\t\tpassword: '',\r\n\t\tpasswordConfirm: '',\r\n\t\temail: '',\r\n\t\tview: 'Login',\r\n\t\treset: false\r\n\t}\r\n\r\n\t\r\n\thandleChange = (e) =>{\r\n\t\t// console.log(e)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value\r\n\t\t})\r\n\t\tlocalStorage.setItem('state', JSON.stringify({\r\n\t\t\t...this.state,\r\n\t\t\t[e.target.id]: e.target.value\r\n\t\t})) \r\n\t\tif (this.props.userInfo.err === true){\r\n\t\t\tthis.props.handleUserUpdate(\"err\",false)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\thandleKeyPress = (e) => {\r\n\t\t// console.log(e.key)\r\n\t\tif (e.key === \"Enter\" ){\r\n\t\t\thandleLoginEvent(this.props, this.state)\r\n\t\t}\r\n\t}\r\n\r\n\trenderFormRows = (lang, classes) => {\r\n\t\t\r\n\t\tlet template = LOGIN_CONTENTS[lang]['rows']\r\n\t\treturn template.map( (elem, idx) => {\r\n\t\t\t// let skipLogic = false;\r\n\t\t\tlet skipLogic = (this.state.view === 'Login' && (elem.id === 'passwordConfirm' || elem.id === 'email')) \r\n\t\t\t// console.log(skipLogic)\r\n\t\t\t\treturn (\r\n\t\t\t\t\tskipLogic ? <TableRow key={idx} />\r\n\t\t\t\t\t: \r\n\t\t\t\t\t<TableRow key={idx}>\r\n\t\t\t\t\t\t<TableCell className={classes.tableCell} size=\"small\"> \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<ChapaInputField \r\n\t\t\t\t\t\t\t\thandleChange={ e => this.handleChange(e)}\r\n\t\t\t\t\t\t\t\thandleKeyPress={ e => this.handleKeyPress(e)}\r\n\t\t\t\t\t\t\t\telem={elem}\r\n\t\t\t\t\t\t\t\tstate={this.state}\r\n\t\t\t\t\t\t\t\tprops={this.props}\r\n\t\t\t\t\t\t\t\terror={this.props.userInfo.err}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t\r\n\t}\r\n\r\n\t\r\n  render() {\r\n\t\tlet { classes, preferredLanguage } = this.props;\r\n\t\tlet LoginText = BUTTON_ACTIONS[preferredLanguage]['login']\r\n\t\tlet RegisterText = BUTTON_ACTIONS[preferredLanguage]['signUp']\r\n\t\t\r\n    return (<div>\r\n\t\t\t{(\r\n\t\t\t\tthis.state.reset === false ?\r\n\t\t\t\t<Grid \r\n\t\t\t\t\tclassName={classes.centralAlign}\r\n\t\t\t\t\tcontainer \r\n\t\t\t\t\tspacing={1} \r\n\t\t\t\t\tdirection=\"column\" \r\n\t\t\t\t\talignItems=\"center\">\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t<ButtonGroup \r\n\t\t\t\t\t\tsize=\"large\" \r\n\t\t\t\t\t\tclassName={classes.buttonGroup}\r\n\t\t\t\t\t\tfullWidth={true} \r\n\t\t\t\t\t\taria-label=\"small outlined button group\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor={ ( this.state.view === 'Login' ? \"primary\" : \"default\" ) }\r\n\t\t\t\t\t\t\tvariant={ ( this.state.view === 'Login' ? \"contained\" : \"outlined\" ) }\r\n\t\t\t\t\t\t\tonClick={()=> this.setState({'view':'Login'} ) }\r\n\t\t\t\t\t\t\t>{LoginText}</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// disabled //this will be removed after beta period\r\n\t\t\t\t\t\t\tcolor={ ( this.state.view === 'Register' ? \"primary\" : \"default\" ) }\t\r\n\t\t\t\t\t\t\tvariant={ ( this.state.view === 'Register' ? \"contained\" : \"outlined\" ) }\r\n\t\t\t\t\t\t\tonClick={()=> this.setState({'view':'Register'} ) }\r\n\t\t\t\t\t\t\t>{RegisterText}</Button>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<LoginFormError {...this.props} />\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t<Table className={classes.tableContainer}>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{ this.renderFormRows(preferredLanguage, classes) }\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\r\n\t\t\t\t\t<Grid item className={classes.section}>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tonClick={() => handleLoginEvent(this.props, this.state)}\r\n\t\t\t\t\t\t\tvariant=\"contained\" \r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tcolor=\"primary\" >\r\n\t\t\t\t\t\t\t{ ( this.state.view === 'Login' ? LoginText : RegisterText ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item className={classes.section}>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tclassName={classes.resetText}\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tonClick={ () => this.setState({ reset: true })} >\r\n\t\t\t\t\t\t\t{LOGIN_CONTENTS[preferredLanguage]['forgotMsg'] } \r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid> : <div />\r\n\t\t\t)}\r\n\r\n\t\t\t{(\r\n\t\t\t\tthis.state.reset ? \r\n\t\t\t\t\t<LoginFormResetPassword {...this.props } backToLogin={() => this.setState({ reset: false})} />\r\n\t\t\t\t\t: <div />\r\n\t\t\t)}\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginFormContent;\r\n","import React, { Component } from 'react'\r\nimport { withStyles } from \"@material-ui/core/styles\"\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\"\r\nimport LoadingLinearStyle from \"components/Animation/LoadingLinear/LoadingLinearStyle\"\r\n\r\nclass LoadingLinear extends Component {\r\n    render(){\r\n        let { classes } = this.props\r\n        return(\r\n            <div className={classes.root}>\r\n                <LinearProgress color=\"secondary\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(LoadingLinearStyle)(LoadingLinear);","export default theme => ({\r\n    root: {\r\n        width: '100%',\r\n        '& > * + *': {\r\n          marginTop: theme.spacing(2),\r\n        },\r\n    },\r\n    progressBar: {\r\n        top: 0\r\n    },\r\n})","import React, { Component } from \"react\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport SimpleToastStyle from \"components/Toast/SimpleToastStyle\"\r\n\r\nclass SimpleToast extends Component {\r\n    \r\n    handleClose = (event, reason) => {\r\n        // if (reason === 'clickaway') {\r\n            // this.props.\r\n        // }\r\n        // debugger;\r\n        this.props.closeToast()\r\n        // console.log(event, reason)\r\n    };\r\n\r\n    renderMessage = (classes, msg, type) => {\r\n        let icon = ( type === 'success' ? <CheckCircleIcon className={classes.icon}/> : \r\n                    type === 'info' ? <InfoIcon className={classes.icon}/>  : <ErrorIcon className={classes.icon}/> )\r\n        return (\r\n            <span id=\"message-id\" className={classes.message}>\r\n                {icon}\r\n                <span>{msg}</span> \r\n            </span>\r\n        )   \r\n    }\r\n\r\n    render(){\r\n        let { display, message, type, classes } = this.props\r\n        // console.log(type)\r\n        return(\r\n            <Snackbar\r\n                autoHideDuration={4000}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                open={display}\r\n                onClose={this.handleClose}\r\n                ContentProps={{\r\n                    'aria-describedby': 'message-id',\r\n                }}\r\n            >\r\n                <SnackbarContent\r\n                    className={classes[type]}\r\n                    aria-describedby=\"client-snackbar\"\r\n                    message={this.renderMessage(classes, message, type)}\r\n                    />\r\n            </Snackbar>\r\n        )\r\n    } \r\n}\r\n\r\nexport default withStyles(SimpleToastStyle)(SimpleToast);","export default theme => ({\r\n    info: {\r\n        backgroundColor: '#1976d2'\r\n    },\r\n    success: {\r\n        backgroundColor: '#43a047'\r\n    },\r\n    error: {\r\n        backgroundColor: '#d32f2f'\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    icon: {\r\n        marginRight: '12px'\r\n    }\r\n})","import React, { Component } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport LoginFormStyle from \"components/LoginForm/LoginFormStyle\";\r\nimport LoginFormWelcome from \"components/LoginForm/LoginFormWelcome\";\r\nimport LoginFormContent from \"components/LoginForm/LoginFormContent\";\r\n\r\nimport LoadingLinear from \"components/Animation/LoadingLinear/LoadingLinear\"\r\nimport SimpleToast from \"components/Toast/SimpleToast\"\r\n\r\n\r\nclass LoginFormContainer extends Component {\r\n\r\n\trender() {\r\n\t\tlet { classes, loadAnimation, ...rest } = this.props;\r\n\t\t//the only way you get a token is from the database... so this means you are logged in...\r\n\t\tlet { token } = rest.userInfo;\r\n\t\t// console.log(loadAnimation)\r\n\t\t// console.log(rest.userInfo)\r\n\treturn (<div>\r\n\t\t\t\t{ loadAnimation ? <LoadingLinear /> : <span />}\r\n\r\n\t\t\t\t{ token.length >= 3  ?\r\n\t\t\t\t\t<LoginFormWelcome {...rest} /> :\r\n\t\t\t\t\t<LoginFormContent {...this.props} />\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<SimpleToast {...this.props.toast} closeToast={this.props.closeToast} />\r\n\t\t\t</div>\r\n\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(LoginFormStyle)(LoginFormContainer);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\nimport GlobalStyle from \"constants/global_style\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport LoginFormContainer from \"components/LoginForm/LoginFormContainer\"\r\n\r\nclass LoginPage extends Component {\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tthis.props.setLocation(this.props.history)\r\n\t}\r\n\r\n  render() {\r\n\t\tlet { classes, ...rest} = this.props;\r\n    return (\r\n\t<Container maxWidth=\"md\">\r\n\t\t<Paper className={classes.paperContainer}>\r\n\t\t\t\r\n\t\t\t<LoginFormContainer {...rest} />\r\n\t\t\r\n\t\t</Paper>\r\n\t</Container>)\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tpreferredLanguage: state.preferredLanguage\r\n\t\t,loadAnimation: state.loadAnimation\r\n\t\t,navLocation: state.navLocation\r\n\t\t,randomId: state.randomId\r\n\t\t,toast: state.toast\r\n\t\t,userInfo: state.userInfo\r\n  };\r\n}\r\n\r\nexport default withStyles(GlobalStyle)(connect(\r\n  mapStateToProps,\r\n  actions\r\n)(LoginPage));\r\n\r\n","import React, { Component } from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LoginFormError from \"components/LoginForm/LoginFormError\";\r\nimport { LOGIN_CONTENTS, BUTTON_ACTIONS } from \"constants/forms\";\r\nimport ChapaInputField from \"components/Chapa/ChapaInputField\";\r\nimport { handleLoginEvent } from \"utils/user_utils\"\r\n\r\nclass ResetFormContent extends Component {\r\n\tstate = {\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpasswordConfirm: '',\r\n\t\tview: 'Reset'\r\n\t}\r\n\r\n\t\r\n\thandleChange = (e) =>{\r\n\t\t// console.log(e)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\thandleKeyPress = (e) => {\r\n\t\t// console.log(e.key)\r\n\t\tif (e.key === \"Enter\" ){\r\n\t\t\thandleLoginEvent(this.props, this.state)\r\n\t\t}\r\n\t\tif (this.props.userInfo.err === true){\r\n\t\t\tthis.props.handleUserUpdate(\"err\",false)\r\n\t\t}\r\n\t}\r\n\r\n\trenderFormRows = (lang, classes) => {\r\n\t\t\r\n\t\tlet template = LOGIN_CONTENTS[lang]['rows']\r\n\t\treturn template.map( (elem, idx) => {\r\n\t\t\t// let skipLogic = false;\r\n\t\t\tlet skipLogic = elem.id === 'username'; \r\n\t\t\t// console.log(skipLogic)\r\n\t\t\t\treturn (\r\n\t\t\t\t\tskipLogic ? <TableRow key={idx} />\r\n\t\t\t\t\t: \r\n\t\t\t\t\t<TableRow key={idx}>\r\n\t\t\t\t\t\t<TableCell className={classes.tableCell} size=\"small\"> \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<ChapaInputField \r\n\t\t\t\t\t\t\t\thandleChange={ e => this.handleChange(e)}\r\n\t\t\t\t\t\t\t\thandleKeyPress={ e => this.handleKeyPress(e)}\r\n\t\t\t\t\t\t\t\telem={elem}\r\n\t\t\t\t\t\t\t\tstate={this.state}\r\n\t\t\t\t\t\t\t\tprops={this.props}\r\n\t\t\t\t\t\t\t\terror={this.props.userInfo.err}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableRow>\r\n\t\t\t\t)\r\n\t\t\t})\r\n\t\t\r\n\t}\r\n\r\n\t\r\n  render() {\r\n\t\tlet { classes, preferredLanguage } = this.props;\r\n\t\tlet resetPasswordText = BUTTON_ACTIONS[preferredLanguage]['resetPassword']\r\n\t\t\r\n    return (<div>\r\n\t\t\t\t<Grid \r\n\t\t\t\t\tclassName={classes.centralAlign}\r\n\t\t\t\t\tcontainer \r\n\t\t\t\t\tspacing={1} \r\n\t\t\t\t\tdirection=\"column\" \r\n\t\t\t\t\talignItems=\"center\">\r\n\r\n\t\t\t\t\t<h3>Fill out details below to reset your password.</h3>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<LoginFormError {...this.props} />\r\n\r\n\t\t\t\t\t<Table className={classes.tableContainer}>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{ this.renderFormRows(preferredLanguage, classes) }\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\r\n\t\t\t\t\t<Grid item className={classes.section}>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tonClick={() => handleLoginEvent(this.props, this.state)}\r\n\t\t\t\t\t\t\tvariant=\"contained\" \r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tcolor=\"primary\" >\r\n\t\t\t\t\t\t\t{ resetPasswordText }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t</Grid> \r\n\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResetFormContent;\r\n","import React, { Component } from \"react\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport LoginFormStyle from \"components/LoginForm/LoginFormStyle\";\r\nimport ResetFormContent from \"components/LoginReset/ResetFormContent\";\r\n\r\nimport LoadingLinear from \"components/Animation/LoadingLinear/LoadingLinear\"\r\n\r\nclass ResetFormContainer extends Component {\r\n\r\n\trender() {\r\n\t\tlet { loadAnimation, ...rest } = this.props;\r\n\t\t//the only way you get a token is from the database... so this means you are logged in...\r\n\t\t// console.log(loadAnimation)\r\n\t\t// console.log(rest.userInfo)\r\n\treturn (<div>\r\n\t\t\t\t{ loadAnimation ? <LoadingLinear /> : <span />}\r\n\r\n\t\t\t\t\t<ResetFormContent {...rest} />\r\n\t\t\t</div>\r\n\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(LoginFormStyle)(ResetFormContainer);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\nimport GlobalStyle from \"constants/global_style\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport ResetFormContainer from \"components/LoginReset/ResetFormContainer\"\r\nimport { checkExpiryToken } from \"utils/user_utils\"\r\n/*\r\nWhen the page loads we need to make sure that it loads with parameters and that those parameters have not expired\r\n\r\n*/\r\nclass LoginResetPage extends Component {\r\n\t\r\n\tgetQueryParams(props){\r\n\t\tlet params = props.search.split('?')\r\n\t\tlet paramErrors\t= ( params.length < 2 ? true : \t\t// do query params exist\r\n\t\t\t\t\t\t\tparams[1].length < 3 ? true : \t\t// is first query param long enough\r\n\t\t\t\t\t\t\tparams[1].split('=').length < 2 ? true : \t//does second query param exist\r\n\t\t\t\t\t\t\tparams[1].split('=')[1].length < 3 ? true : //is second query param long enough\r\n\t\t\t\t\t\t\tcheckExpiryToken(params[1].split('=')[1]) ? true : //check if token has expired\r\n\t\t\t\t\t\t\tfalse )\r\n\r\n\t\tif (paramErrors){\r\n\t\t\tconsole.log('query fails')\r\n\t\t\treturn false\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tuserEmail: params[1].split('=')[0]\r\n\t\t\t} \r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.props.setLocation(this.props.history)\r\n\t\t// console.log( this.props.location.search.split('?') )\r\n\t\t// console.log(this.props.location.search.split('?')[1].split('='))\r\n\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { classes, ...rest} = this.props;\r\n\t\tlet queryParams = this.getQueryParams(this.props.location)\r\n\t\t// console.log(queryParams)\r\n\t\treturn (\r\n\t\t\t<Container maxWidth=\"md\">\r\n\t\t\t\t<Paper className={classes.paperContainer}>\r\n\t\t\t\t\t{ queryParams === false ? \r\n\t\t\t\t\t\t<p>This page has expired or the credentials are incorrect.</p> :\r\n\t\t\t\t\t\t<ResetFormContainer {...rest} {...queryParams} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</Paper>\r\n\t\t\t</Container>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tpreferredLanguage: state.preferredLanguage\r\n\t\t,loadAnimation: state.loadAnimation\r\n\t\t,navLocation: state.navLocation\r\n\t\t,randomId: state.randomId\r\n\t\t,userInfo: state.userInfo\r\n  };\r\n}\r\n\r\nexport default withStyles(GlobalStyle)(connect(\r\n  mapStateToProps,\r\n  actions\r\n)(LoginResetPage));\r\n\r\n","import React from \"react\";\r\nimport MappingPage from \"views/MappingPage\";\r\nimport LandingPage from \"views/LandingPage\";\r\nimport NotFound404 from \"views/NotFound404\";\r\nimport HowToPage from \"views/HowToPage\";\r\nimport SurveyPage from \"views/SurveyPage\";\r\nimport LoginPage from \"views/LoginPage\";\r\nimport LoginResetPage from \"views/LoginResetPage\";\r\n\r\nimport MapIcon from \"@material-ui/icons/Map\"\r\nimport InfoIcon from \"@material-ui/icons/Info\"\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport HelpIcon from '@material-ui/icons/Help';\r\nimport LanguageIcon from '@material-ui/icons/Language';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\n\r\n\r\nvar indexRoutes = [\r\n\t{ path: \"/about\", enName: \"ABOUT\", prName: 'SOBRE', component: LandingPage, exact: true, icon: <InfoIcon /> },\r\n  { path: \"/home\", enName: \"HOME\", prName: 'INICIAL', component: LoginPage, exact: true, icon: <HomeIcon /> },\r\n  { path: \"/how-to\", enName: \"HOW TO USE\", prName: 'COMO USAR', component: HowToPage, exact: true, icon: <HelpIcon /> },\r\n  { path: \"/\", enName: \"MAP\", prName: 'MAPA', component: MappingPage, exact: true, icon: <MapIcon /> },\r\n  { path: \"/survey\", enName: \"SURVEY\", prName: 'PESQUISA', component: SurveyPage, exact: true, icon: <ListAltIcon /> },\r\n  { path: \"/login\", enName: \"LOGIN\", prName: 'CONECTE', component: LoginPage, exact: true, icon: <ExitToAppIcon /> },\r\n  { path: \"/password-reset\", enName: \"RESET\", prName: 'REDEFINIR', component: LoginResetPage, exact: false, icon: <ExitToAppIcon /> },\r\n  { path: \"/portugues\", enName: \"PORTUGUÊS\", prName: 'ENGLISH', component: LandingPage, exact: true, icon: <LanguageIcon /> },\r\n  { path: false, component: NotFound404 }\r\n];\r\n\r\nexport default indexRoutes;\r\n","import React, { Component } from \"react\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nimport { navigateTo } from \"utils/nav_utils\";\r\nimport indexRoutes from \"routes/indexRoutes\";\r\n\r\nclass HeaderLinks extends Component {\r\n\tlistItemAction = (e, elem) => {\r\n\t\tlet { enName, prName } = elem //content of list item\r\n\t\tlet { preferredLanguage } = this.props; //the language selected\r\n\t\t\r\n\t\tif (enName === \"PORTUGUÊS\" || prName === \"ENGLISH\"){\r\n\t\t\t// if the toggle language button was clicked, we want to stay on the same page\r\n\t\t\t// if the current language is english, switch to portuguese and visaversa\r\n\t\t\tlet newLanguage = (preferredLanguage === 'en' ? 'pr' : 'en')\r\n\t\t\tthis.props.setLanguage(newLanguage);\r\n\t\t\tthis.props.translateMetric(newLanguage);\r\n\t\t} else {\r\n\t\t\t// if it was anything else continue routing function\r\n\t\t\tnavigateTo(elem.path.substr(1), this.props); //navigate to path of given route - the \"/\"\r\n\t\t}\r\n\t\tthis.props.toggleDrawer(!this.props.navDrawer); //clicking this will toggle the drawer state\r\n\t}\r\n\r\n  render() {\r\n\t\tlet { preferredLanguage, userInfo, classes } = this.props; //the language selected\r\n\t\tlet { pathname } = this.props.navLocation.location; //the current page\r\n\t\tlet selectedColor = { color: \"#3f51b5\" };\r\n\t\tlet selectedBg = { backgroundColor: 'rgba(0, 0, 0, 0.05)'};\r\n\t\tlet defaultStyle = { backgroundColor: 'inherit', color:'inherit' };\r\n\t\tlet loggedIn = ( userInfo.token.length >= 3 ? true : false);\r\n    return (\r\n      <List className={classes.drawer}>\r\n\t\t\t\t\r\n        {\r\n\t\t\tindexRoutes.map((elem, idx) => {\r\n\t\t\t\tlet skip = false;\r\n\t\t\t\tif ( loggedIn && elem.path === '/login'){\r\n\t\t\t\t\t//then user is logged in do not show /login path/component\r\n\t\t\t\t\tskip = true; \r\n\t\t\t\t} else if ( !loggedIn && elem.path === '/home'){\r\n\t\t\t\t\t//then user is not logged in do not show /home path/component\r\n\t\t\t\t\tskip = true; \r\n\t\t\t\t}\r\n\t\t\t\t//if there is no path available or the logic says skip...\r\n\t\t\t\t// console.log(elem)\r\n\t\t\t\tlet displayLogic = (skip === true ? false :  \t\t//if custom logic says to skip it\r\n\t\t\t\t\t\t\t\t\telem.path === false ? false : \t//if there is not path\r\n\t\t\t\t\t\t\t\t\telem.path.includes(\"password\") ? false : true ) //if password is in the path\r\n\t\t\t\t\t\t\t\t\t// console.log(displayLogic)\r\n\t\t\t\treturn ( displayLogic === false ? <div key={idx} /> : \r\n\t\t\t\t\t<ListItem \r\n\t\t\t\t\t\tbutton \r\n\t\t\t\t\t\tkey={idx} \r\n\t\t\t\t\t\t// divider={true}\r\n\t\t\t\t\t\t// disabled={pathname === elem.path}\r\n\t\t\t\t\t\tselected={pathname === elem.path} \r\n\t\t\t\t\t\tstyle={pathname === elem.path ? {...selectedColor, ...selectedBg } : defaultStyle } \r\n\t\t\t\t\t\tonClick={(e) => this.listItemAction(e, elem) } >\r\n\r\n\t\t\t\t\t\t<ListItemIcon \r\n\t\t\t\t\t\t\tstyle={pathname === elem.path ? selectedColor : defaultStyle }  > \r\n\t\t\t\t\t\t{ elem.icon } \r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\t//choose correct menu item text based on preferred language\r\n\t\t\t\t\t\t\t\t<ListItemText primary={( preferredLanguage === 'en' ? elem.enName : elem.prName )} /> \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t)}\r\n\t\t\t)\r\n\t\t\t\r\n\t\t}\r\n      </List>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HeaderLinks;\r\n","import React, { Component } from \"react\";\r\n\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport headerStyle from \"components/Header/HeaderStyle\";\r\nimport HeaderLinks from \"./HeaderLinks\";\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"actions\";\r\n\r\nclass Header extends Component {\r\n\r\n\t_getInitials = (name) => {\r\n\t\treturn name.toUpperCase().split('')[0]\r\n\t}\r\n\r\n  _handleDrawerToggle = () => {\r\n\t\t// console.log(\"hello?\")\r\n    this.props.toggleDrawer(!this.props.navDrawer)\r\n  }\r\n\r\n  render() {\r\n\t\tconst { classes, userInfo } = this.props;\r\n\t\t// console.log(this.props);\r\n\t\t\r\n    return (\r\n      <div>\r\n        <AppBar position=\"static\" className={classes.root}>\r\n          <Toolbar className={classes.toolbar}>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              COMUNIDADOS\r\n            </Typography>\r\n      \t\t\t{ (\r\n\t\t\t\t\t\t\tuserInfo.username.length > 1 ? \r\n\t\t\t\t\t\t\t<Avatar className={classes.avatar}>{this._getInitials(userInfo.username)}</Avatar>\r\n\t\t\t\t\t\t\t: <div /> \r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<IconButton\r\n              edge=\"end\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              className={classes.menuButton}\r\n              onClick={this._handleDrawerToggle}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n          </Toolbar>\r\n\r\n          <Drawer\r\n\t\t\t\t\t\tanchor=\"right\"\r\n            open={this.props.navDrawer}\r\n\t\t\t\t\t\tonClose={this._handleDrawerToggle}\r\n\t\t\t\t\t\t\r\n          >\r\n            <HeaderLinks {...this.props} />\r\n          </Drawer>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\t\tnavLocation: state.navLocation,\r\n\t\tnavDrawer: state.navDrawer,\r\n\t\tpreferredLanguage: state.preferredLanguage,\r\n\t\tuserInfo: state.userInfo\r\n  };\r\n}\r\n\r\nexport default withStyles(headerStyle)(connect(mapStateToProps, actions)(Header));\r\n","export default theme => ({\r\n\troot: {\r\n\t\t  flexGrow: 1,\r\n\t\t  background: \"white\",\r\n\t\t  color: \"black\"\r\n\t  },\r\n\t  toolbar:{\r\n\t\t  boxShadow: \"rgba(0, 0, 0, 0.2) 0 0 4px 2px\"\r\n\t},\r\n\tmenuButton: {\r\n\t  marginRight: theme.spacing(0)\r\n\t\t  ,color:\"black\"\r\n\t},\r\n\ttitle: {\r\n\t\t  flexGrow: 1\r\n\t\t  ,color:\"black\"\r\n\t  ,marginLeft: theme.spacing(0)\r\n\t  },\r\n\t  drawer: {\r\n\t\t  width: \"250px\"\r\n\t  },\r\n\t  avatar: {\r\n\t\t  marginRight: \"20px\"\r\n\t  }\r\n  });\r\n  ","import React, { Component } from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport indexRoutes from \"routes/indexRoutes\";\r\n\r\nimport Header from \"components/Header/Header\";\r\n\r\n\r\nclass App extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* inside app, w router */}\r\n        <CssBaseline />\r\n        <Header />\r\n\t\t\t\t<BrowserRouter >\r\n          <Switch>\r\n            {indexRoutes.map((elem, key) => {\r\n              if (elem.path) {\r\n                return (\r\n                  <Route\r\n                    path={elem.path}\r\n                    key={key}\r\n                    exact={elem.exact}\r\n                    component={elem.component}\r\n                    {...this.elem}\r\n                  />\r\n                );\r\n              } else {\r\n                return <Route key={key} component={elem.component} />;\r\n              }\r\n            })}\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { DEFAULT_MAP_COORDS, DEFAULT_MAP_ZOOM } from \"constants/mapping\";\r\n\r\nexport default {\r\n\trandomId: \"32432\",\r\n\tmapLayers: {\r\n\t\thelio: {},\r\n\t\tsao: {},\r\n\t\tsurvey: {},\r\n\t\ttype: \"districts\",\r\n\t\tbaseMapOpacity: 0.5,\r\n\t\tcolorPalette: [],\r\n\t\tbaseMapSelection: 0,\r\n\t\tmetric: {\r\n\t\t\tvalue: '',\r\n\t\t\tlabel: '',\r\n\t\t\tlabelPR: ''\r\n\t\t}\r\n\t},\r\n\tloadAnimation: false,\r\n\tpreferredLanguage: 'en',\r\n\tmetricSelection: {\t\r\n\t\tid: \"\"\r\n\t\t,row: -1\r\n\t\t,value:\"\"\r\n\t\t,label:\"\"\r\n\t},\r\n\tuserInfo: {\r\n\t\tuser_id: '',\r\n\t\tusername: '',\r\n\t\tpassword: '',\r\n\t\temail: '',\r\n\t\ttoken: '',\r\n\t\terr: false,\r\n\t\terrMsg: ''\r\n\t},\r\n\tuserLocation: {\r\n\t\tshow: false,\r\n\t\tlat: null,\r\n\t\tlong: null,\r\n\t\taccurMeters: 0,\r\n\t\terr: false,\r\n\t\terrMsg: ''\r\n\t},\r\n\tsurveyMap: {\r\n\t\tmapCenterCoordinates: DEFAULT_MAP_COORDS,\r\n\t\tmapZoom: DEFAULT_MAP_ZOOM,\r\n\t\tmapBounds: null\r\n\t},\r\n\ttoast: {\r\n\t\tdisplay: false,\r\n\t\tmessage: '',\r\n\t\ttype: ''\r\n\t},\r\n\t// chapaEvents: {\r\n\t// \teventid: '',\r\n\t// \teventname: '',\r\n\t// \teventcategory: '',\r\n\t// \teventdescription: '',\r\n\t// \teventlatitude: '',\r\n\t// \teventlongitude: '',\r\n\t// \tcreatedby: '',\r\n\t// \tcreateddate: ''\r\n\t// },\r\n\tpopover: {\r\n\t\topen: false,\r\n\t\tanchor: null\r\n\t}\r\n};\r\n","\r\nexport const updateStateValue = (state, attribute, value) => {\r\n\t// console.log(payload)\r\n\tlet newState = {\r\n\t\t...state,\r\n\t\t[attribute] : value\r\n\t}\r\n\treturn newState\r\n}\r\n","import getSchemas from \"schemas/initialStates\";\r\nimport { setCache, getCache } from \"utils/cache_utils\";\r\nimport { updateStateValue } from \"utils/state_utils\";\r\n\r\nfunction registerUserResults(state, payload){\r\n\tlet registeredUser;\r\n\t// console.log(payload)\r\n\t//this error means that something doesnt match our password requirements\r\n\tif (payload.err === true){\r\n\t\tregisteredUser = {\r\n\t\t\t...state,\r\n\t\t\t\"err\": payload.err,\r\n\t\t\t\"errMsg\": payload.errMsg\r\n\t\t}\r\n\t} else {\r\n\t\tregisteredUser = {\r\n\t\t\t...payload,\r\n\t\t\t\"err\": false,\r\n\t\t\t\"errMsg\": \"\"\r\n\t\t}\r\n\t\tsetCache(\"userInfo\", registeredUser)\r\n\t}\r\n\treturn registeredUser\r\n}\r\n\r\nfunction removeUserState(){\r\n\tsetCache(\"userInfo\", null)\r\n\treturn getSchemas.userInfo\r\n}\r\n\r\nexport default function(state = getSchemas.userInfo, { type, payload }) {\r\n\t// console.log(state)\r\n\tif ( getCache(\"userInfo\") ){\r\n\t\tstate = getCache(\"userInfo\")\r\n\t\t// debugger\r\n\t}\r\n\tswitch (type) {\r\n\t\tcase \"DEFAULT_USER\":\r\n\t\t\treturn state;\r\n\t\tcase \"NEW_USER_REGISTER\":\r\n\t\t\treturn registerUserResults(state, payload);\r\n\t\tcase \"EXISTNG_USER_LOGIN\":\r\n\t\t\treturn registerUserResults(state, payload);\r\n\t\tcase \"USER_LOGIN_FAIL\":\r\n\t\t\treturn registerUserResults(state, { err: true, errMsg: payload} )\r\n\t\tcase \"USER_LOGIN_NETWORK_FAIL\":\r\n\t\t\treturn registerUserResults(state, { err: true, errMsg: payload} )\r\n\t\tcase \"UPDATE_USER_INFO\":\r\n\t\t\treturn updateStateValue(state, payload._id, payload._val)\r\n\t\tcase \"SIGN_OUT_USER\":\r\n\t\t\treturn removeUserState();\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import getSchemas from \"schemas/initialStates\";\r\nimport { translatePlaceholder, getColorPalette } from \"utils/mapping_utils\";\r\nimport { updateStateValue } from \"utils/state_utils\";\r\n\r\n\r\n\t// mapLayers: {\r\n\t// \thelio: {},\r\n\t// \tsao: {},\r\n\t// \ttype: \"districts\",\r\n\t//\tbaseMapOpacity: 100,\r\n\t//  baseMapSelection: 1,\r\n\t// colorPalette: []\r\n\t//\tmetrics: ''\r\n\t//  \t{category:\"Social\", palette:'sequ', max:'75', min:'20', breaks:'20,39.483,44.511,49.54', value:'AGE', legend:'none', label:'Age', labelPR:'Idade'},\r\n\t// },\r\n\r\n\r\nlet newState, colorPalette;\r\n\r\nexport default function(state = {}, { type, payload, id }) {\r\n  // console.log(state);\r\n  switch (type) {\r\n    case \"GET_MAP_LAYER\":\r\n\t\t\treturn payload;\r\n\tcase \"UPDATE_LAYER_TYPE\":\r\n\t\t//update the type attribute (either district or blocks)\r\n\t\tnewState = updateStateValue(state, \"type\", payload);\r\n\t\t//restore the inital state for the palette\r\n\t\tnewState = updateStateValue(newState, \"colorPalette\", getSchemas.mapLayers.colorPalette)\r\n\t\t//restore the inital state for the metric field\r\n\t\treturn updateStateValue(newState, \"metric\", getSchemas.mapLayers.metric)\r\n\tcase \"UPDATE_LAYER_METRIC\":\r\n\t\t//update the metric\r\n\t\t//first we add the new metric to the\r\n\t\tnewState = updateStateValue(state, \"metric\", payload);\r\n\t\t//second we get a color palette\r\n\t\tcolorPalette = getColorPalette(newState.metric.palette);\r\n\t\t// console.log(colorPalette)\r\n\t\treturn updateStateValue(newState, \"colorPalette\", colorPalette )\r\n\tcase \"UPDATE_COLOR_PALETTE\":\r\n\t\t\r\n\t\treturn updateStateValue(state, \"colorPalette\", payload )\r\n\tcase \"UPDATE_LAYER_OPACITY\":\r\n\t\treturn updateStateValue(state, \"baseMapOpacity\", payload )\r\n\tcase \"UPDATE_BASE_LAYER\":\r\n\t\treturn updateStateValue(state, \"baseMapSelection\", payload )\r\n\tcase \"GET_MAP_LAYER_BY_ID\":\r\n\t\treturn updateStateValue(state, id, payload);\r\n\tcase \"TRANSLATE_METRIC\":\r\n\t\t\t// console.log(state);\r\n\t\t\tlet translatedValue = translatePlaceholder(payload, state.metric.value)\r\n\t\t\t// console.log(state.metric)\r\n\t\t\tlet updateMetricState = updateStateValue(state.metric, \"label\", translatedValue )\r\n\t\t\t// console.log(translatedValue)\r\n\t\t\t// console.log(updateMetricState)\r\n\t\t\t// let newState = translatePlaceholder(state, payload)\r\n\t\t\treturn updateStateValue(state, \"metric\", updateMetricState )\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import getSchemas from \"schemas/initialStates\";\r\n\r\nfunction addUserLocation(payload){\r\n\t//should we find the user?\r\n\tif (payload.show === true){\r\n\t\treturn payload\r\n\t} else {\r\n\t\t// reset userLocation\r\n\t\treturn getSchemas.userLocation\r\n\t}\r\n}\r\n\r\nfunction updateUserLocation(state, payload){\r\n\t// console.log(payload)\r\n\treturn {\r\n\t\t...state,\r\n\t\tlat: payload.lat,\r\n\t\tlong: payload.lng\r\n\t}\r\n}\r\n/**\r\n\tshow: false,\r\n\tlat: null,\r\n\tlong: null,\r\n\terr: false,\r\n\terrMsg: '' \r\n*/\r\nexport default function(state = getSchemas.userLocation, { type, payload }) {\r\n\t// console.log(state)\r\n  switch (type) {\r\n    case \"NO_LOCATION\":\r\n      return getSchemas.userLocation;\r\n\t\tcase \"ADD_USER_LOCATION\":\r\n\t\t\treturn addUserLocation(payload)\r\n\t\tcase \"ADD_FEAUX_USER_LOCATION\":\r\n\t\t\treturn payload;\r\n\t\tcase \"UPDATE_USER_LOCATION\":\r\n\t\t\treturn updateUserLocation(state, payload)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","// import * as _ from \"lodash\";\r\nimport { setCache, getCache } from \"utils/cache_utils\";\r\n\r\nfunction filterEventsByMetric(state, metric) {\r\n\t// console.log(state)\r\n\t// console.log(metric)\r\n\tlet newState = (metric.value === 'All' ? getCache(\"chapaEvents\") :\r\n\t\tgetCache(\"chapaEvents\").filter( evt => {\r\n\t\t\t// console.log(evt.eventcategory, metric.value, evt.eventcategory.toUpperCase() === metric.value.toUpperCase())\r\n\t\t\treturn evt.eventcategory.toUpperCase() === metric.value.toUpperCase()\r\n\t\t})\r\n\t);\r\n\t// console.log(newState)\r\n\treturn newState\r\n}\r\n\r\nfunction addNewEvent( state, newEvent ){\r\n\tlet newEventState = [...state, newEvent ]; \r\n\t\r\n\tsetCache(\"chapaEvents\", newEventState)\r\n\t// console.log( newEvent )\r\n\treturn newEventState;\r\n}\r\n\r\n// let newState;\r\nexport default function (state = [], {type, payload}) {\r\n\t// console.log('action called', action);\r\n\t// if ( getCache(\"chapaEvents\") ){\r\n\t\t// console.log('getting chapa events')\r\n\t\t// console.log(type, payload)\r\n\t\t// state = getCache(\"chapaEvents\")\r\n\t// }\r\n\t// console.log(state)\r\n\tswitch (type) {\r\n\t\tcase \"NEW_CHAPA_EVENT\":\t\t\r\n\t\t\t// return newState;\r\n\t\t\treturn addNewEvent( state, payload );\r\n\t\tcase \"ALL_CHAPA_EVENTS\":\r\n\t\t\t// console.log(payload)\r\n\t\t\tsetCache(\"chapaEvents\", payload)\r\n\t\t\treturn payload;\r\n\t\tcase \"FILTER_EVENTS_BY_METRIC\":\r\n\t\t\t// console.log('filtering metrics')\r\n\t\t\treturn filterEventsByMetric(state, payload)\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport UserReducer from \"./UserReducer\";\r\nimport UtilityReducer from \"./UtilityReducer\";\r\nimport MappingReducer from \"./MappingReducer\";\r\nimport NavigationReducer from \"./NavigationReducer\";\r\nimport LanguageReducer from \"./LanguageReducer\";\r\nimport DrawerReducer from \"./DrawerReducer\";\r\nimport UserLocationReducer from \"./UserLocationReducer\";\r\nimport EventReducer from \"./EventReducer\";\r\nimport MetricReducer from \"./MetricReducer\";\r\nimport PopOverReducer from \"./PopOverReducer\";\r\nimport SurveyMapReducer from \"./SurveyMapReducer\";\r\nimport LoadingAnimationReducer from \"./LoadingAnimationReducer\";\r\nimport ToastReducer from \"./ToastReducer\";\r\n\r\nexport default combineReducers({\r\n\tchapaEvents: EventReducer,\r\n\tloadAnimation: LoadingAnimationReducer,\r\n\tmapLayers: MappingReducer,\r\n\tmetricSelection: MetricReducer,\r\n\tnavLocation: NavigationReducer,\r\n\tnavDrawer: DrawerReducer,\r\n\tpopover: PopOverReducer,\r\n\tpreferredLanguage: LanguageReducer,\r\n\trandomId: UtilityReducer,\r\n\tsurveyMap: SurveyMapReducer,\r\n\ttoast: ToastReducer,\r\n  \tuserInfo: UserReducer,\r\n\tuserLocation: UserLocationReducer\r\n});\r\n","import getSchemas from \"schemas/initialStates\"\r\n\r\nexport default function(state = getSchemas.loadAnimation, { type } ) {\r\n    switch (type) {\r\n        case \"START_LOADING_ANIMATION\":\r\n            return true;\r\n        case \"STOP_LOADING_ANIMATION\":\r\n            return false;\r\n        default:\r\n            return state;\r\n    }\r\n}","import getSchemas from \"schemas/initialStates\";\r\n\r\nexport default function(state = getSchemas.metricSelection, { type, payload }) {\r\n\t// console.log('action called', action);\r\n\t// if ( getCache(\"preferredLanguage\") ){\r\n\t// \tstate = getCache(\"preferredLanguage\")\r\n\t// }\r\n  switch (type) {\r\n    case \"SELECT_EVENT_CATEGORY\":\r\n\t\t\t// setCache(\"preferredLanguage\", payload)\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","\r\nexport default function(state = [], { type, payload }) {\r\n  // console.log('action called', action);\r\n  switch (type) {\r\n    case \"SET_NAV\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","\r\nexport default function(state = false, { type }) {\r\n  // console.log('action called', action);\r\n  switch (type) {\r\n    case \"TOGGLE_DRAWER\":\r\n      return !state; //return the opposite of current state\r\n    default:\r\n      return state;\r\n  }\r\n}","import getSchemas from \"schemas/initialStates\";\r\n\r\n\r\nlet toggleState = (state, event ) => {\r\n\treturn ( state.open ? \r\n\t\t\t{\r\n\t\t\t\tanchor: null, \r\n\t\t\t\topen: false\r\n\t\t\t} : {\r\n\t\t\t\tanchor: event.currentTarget, \r\n\t\t\t\topen: true\r\n\t\t\t})\r\n}\r\n\r\nexport default function(state = getSchemas.popover, { type, payload }) {\r\n  // console.log('action called', action);\r\n  switch (type) {\r\n    case \"UPDATE_POPOVER\":\r\n      return toggleState(state, payload)\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","\r\nexport default function(state = [], { type, payload }) {\r\n  // console.log('action called', action);\r\n  switch (type) {\r\n    case \"SET_LANGUAGE\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","import * as shortid from \"shortid\";\r\n\r\nexport default function(state = [], { type, payload }) {\r\n  // console.log('action called', action);\r\n  switch (type) {\r\n    case \"FETCH_RANDOM_ID\":\r\n      return shortid.generate();\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import getSchemas from \"schemas/initialStates\";\r\nimport { updateStateValue } from \"utils/state_utils\";\r\n\r\n\r\n\r\nexport default function(state = getSchemas.surveyMap, { type, payload }) {\r\n\t// console.log('action called', action);\r\n\t// if ( getCache(\"preferredLanguage\") ){\r\n\t// \tstate = getCache(\"preferredLanguage\")\r\n\t// }\r\n  switch (type) {\r\n    case \"UPDATE_MAP_CENTER_COORDINATES\":\r\n\t\treturn updateStateValue(state, \"mapCenterCoordinates\", payload);\r\n\tcase \"UPDATE_MAP_ZOOM\":\r\n\t\treturn updateStateValue(state, \"mapZoom\", payload)\r\n\tcase \"UPDATE_MAP_BOUNDS\":\r\n\t\treturn updateStateValue(state, \"mapBounds\", payload)\r\n    default:\r\n      return state;\r\n  }\r\n}","import getSchemas from \"schemas/initialStates\"\r\n\r\nexport default function(state = getSchemas.toast, { type, payload}) {\r\n    switch (type){\r\n        case \"SEND_TOAST_SUCCESS\":\r\n            return { display: true, message: payload, type: \"success\" }\r\n        case \"SEND_TOAST_INFO\":\r\n            return { display: true, message: payload, type: \"info\" }\r\n        case \"SEND_TOAST_ERROR\":\r\n            return { display: true, message: payload, type: \"error\" }\r\n        case \"CLOSE_TOAST\":\r\n            return { display: false, message: '', type: '' }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nimport App from \"./App\";\r\nimport reducers from \"reducers\";\r\nimport getSchemas from \"schemas/initialStates\";\r\n\r\nconst initialState = getSchemas;\r\nconst store = createStore(reducers, initialState, applyMiddleware(reduxThunk));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App height={\"100vh\"} />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}